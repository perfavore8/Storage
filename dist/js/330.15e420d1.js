"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[330],{2515:function(e,t,l){l.r(t),l.d(t,{default:function(){return st}});var s=l(3396);const i={class:"app"},n={class:"header"},a={class:"content"};function o(e,t,l,o,d,r){const c=(0,s.up)("AppHeader"),u=(0,s.up)("AppRadioBtnsGroupUnderlined"),p=(0,s.up)("ClientsSection");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",n,[(0,s.Wm)(c)]),(0,s._)("div",a,[(0,s.Wm)(u,{class:"w-1/2 mx-auto",list:o.tabs.list,selected:o.tabs.selected,onSelect:t[0]||(t[0]=e=>o.tabs.select(e))},null,8,["list","selected"]),(0,s.Wm)(p)])])}var d=l(2357),r=l(906),c=l(9242);const u=e=>((0,s.dD)("data-v-5ea26f1e"),e=e(),(0,s.Cn)(),e),p={key:0,class:"flex flex-col gap-4"},g={class:"flex flex-row items-center justify-between relative"},f={class:"grid grid-cols-2"},v={class:"flex flex-col items-center"},m={class:"h-full relative"},b={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white p-4 border border-slate-300 rounded-lg shadow-md"},h=u((()=>(0,s._)("span",null,"Вы уверены что хотите выйти без сохранения?",-1))),w={class:"flex flex-row gap-2 items-center justify-end mt-4"};function y(e,t,l,i,n,a){const o=(0,s.up)("AppSearchWithFilters"),d=(0,s.up)("client-sections-fields"),r=(0,s.up)("AppPaginator"),u=(0,s.up)("ClientsEditSection");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i.selectedTabComp?((0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",g,[((0,s.wg)(),(0,s.j4)(o,{class:"absolute left-1/2 -translate-x-1/2",setOfInstructions:"clients",key:i.selectedTabComp,onEmitParams:i.emitParams},null,8,["onEmitParams"])),(0,s._)("button",{class:"btn btn_light_dark_blue self-end",onClick:t[0]||(t[0]=e=>i.add())}," Добавить ")]),(0,s._)("div",f,[(0,s._)("div",v,[(0,s.Wm)(d,{class:"w-full",ref:"refList",list:i.clientsList,selected:i.selected,selectedTab:i.selectedTabComp},null,8,["list","selected","selectedTab"]),(0,s.Wm)(r,{page:i.page,onChangePage:i.changePage,class:"w-fit"},null,8,["page","onChangePage"])]),(0,s._)("div",m,[(0,s.Wm)(c.uT,{name:"modal"},{default:(0,s.w5)((()=>[i.selected.id||i.addNew?((0,s.wg)(),(0,s.j4)(u,{key:0,ref:"target",isNew:i.addNew,item:i.selectedItem,onClose:t[1]||(t[1]=()=>i.closeAdd(!0)),onFollow:i.follow},null,8,["isNew","item","onFollow"])):(0,s.kq)("",!0)])),_:1})])])])):(0,s.kq)("",!0),i.confirmClose?((0,s.wg)(),(0,s.j4)(s.lR,{key:1,to:"body"},[(0,s._)("div",b,[h,(0,s._)("div",w,[(0,s._)("button",{class:"btn small_btn bg-transparent focus-visible:underline focus-visible:underline-offset-4",onClick:t[2]||(t[2]=e=>i.closeAdd(!0))}," Выйти "),(0,s._)("button",{class:"btn small_btn btn_light_dark_blue",onClick:t[3]||(t[3]=e=>(i.closeAdd(!1),i.save()))}," Сохранить ")])])])):(0,s.kq)("",!0)],64)}var _=l(7139);const x=e=>((0,s.dD)("data-v-e0e8506e"),e=e(),(0,s.Cn)(),e),k={class:"w-auto m-4 p-4 flex flex-col gap-6 items-center rounded-xl border h-fit shadow-lg shadow-slate-100 relative"},C={class:"w-full flex flex-col items-center"},D=(0,s.Uk)(" Архивировать "),A={class:"flex flex-col gap-3 items-center p-5"},E={class:"grid grid-cols-1 gap-2 justify-items-center items-center lg:grid-cols-2 xl:grid-cols-3"},Z={key:1,class:"order-1"},B={class:"relative order-2 xl:order-3 my-2"},H={key:0,class:"absolute right-0 -top-5 text-xs text-red-700"},S=x((()=>(0,s._)("label",{for:"rating",class:"absolute -top-[10px] left-4 text-sm bg-white/80 text-slate-700/80 px-2"}," Рейтинг ",-1))),I={class:"flex flex-row gap-1 flex-wrap"},L=["onClick"],j=(0,s.Uk)(" Архивировать ");function q(e,t,l,i,n,a){const o=(0,s.up)("ClientsEditSectionOrdersHistory"),d=(0,s.up)("AppDelBtnAccept"),r=(0,s.up)("BtnsSaveClose"),u=(0,s.up)("AppInputSelect"),p=(0,s.up)("OnClickOutside"),g=(0,s.up)("EditSectionFields");return(0,s.wg)(),(0,s.iD)("div",k,[i.showOrderHistory?((0,s.wg)(),(0,s.j4)(o,{key:0,onBack:t[0]||(t[0]=()=>i.toggleOrderHistory(!1))})):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",C,[(0,s.wy)((0,s.Wm)(r,{show_close:!1,class:"self-end",onSave:i.accept},{other_btns:(0,s.w5)((()=>[(0,s._)("button",{class:"btn bg-transparent focus-visible:underline focus-visible:underline-offset-4",onClick:t[1]||(t[1]=e=>i.close())}," Назад "),l.isNew?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{onConfirm:i.del,key:i.copyItem,btnClass:"btn_grey"},{label:(0,s.w5)((()=>[D])),_:1},8,["onConfirm"]))])),_:1},8,["onSave"]),[[c.F8,!i.downButtonsIsVisible]]),(0,s._)("div",A,[(0,s._)("div",E,[l.isNew?((0,s.wg)(),(0,s.iD)("div",Z)):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn order-1 max-h-[34px] pointer-events-auto relative inline-flex whitespace-nowrap w-fit rounded-md bg-white text-[0.8125rem] font-medium leading-5 text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50 hover:text-slate-900 hover:disabled:bg-white disabled:opacity-30 disabled:cursor-not-allowed",onClick:t[2]||(t[2]=e=>i.toggleOrderHistory(!0))}," История заказов ")),(0,s.Wm)(u,{class:"order-3 xl:order-2 lg:col-span-2 xl:col-span-1",list:l.isNew?i.binding.filteredOppositeList:i.binding.list,countLettersReq:l.isNew?0:3,requestDelay:300,placeholder:"Привязка",onChangeInputValue:t[3]||(t[3]=e=>(i.binding.value=e,l.isNew?i.binding.getOppositeList():i.binding.getList(i.copyItem.id))),onSelect:t[4]||(t[4]=e=>i.binding.add(i.copyItem.id,e,!!l.isNew))},null,8,["list","countLettersReq"]),(0,s._)("div",B,[(0,s.wy)((0,s._)("input",{name:"rating",type:"text",class:(0,_.C_)(["input",{tryAccept:i.checkError(i.rating).value}]),"onUpdate:modelValue":t[5]||(t[5]=e=>i.copyItem.fields.rating=e)},null,2),[[c.nr,i.copyItem.fields.rating]]),i.checkError(i.rating).value?((0,s.wg)(),(0,s.iD)("small",H,(0,_.zw)(i.checkError(i.rating).empty?"Пустое поле":i.checkError(i.rating).short?"Минимум 3 символа":""),1)):(0,s.kq)("",!0),S])]),(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.binding.selected,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:e.id,class:(0,_.C_)(["cursor-pointer relative font-medium py-1 px-2 text-xs text-green-700 bg-green-50 ring-inset ring-1 ring-green-600 ring-opacity-20 hover:text-big-stone-600 hover:bg-big-stone-50 hover:ring-big-stone-500 hover:ring-opacity-20 rounded-md w-fit transition-all",{blue:i.selectedBind.id===e.id}]),onClick:(0,c.iM)((()=>i.selectedBind.select(e.id,t)),["self"]),ref_for:!0,ref:t=>i.selectedBind.id===e.id?i.selectedBind.ref=t:null},(0,_.zw)(e.fields?.name),11,L)))),128))])]),i.selectedBind.ref?((0,s.wg)(),(0,s.j4)(s.lR,{key:0,to:i.selectedBind.ref},[(0,s.Wm)(p,{onTrigger:t[8]||(t[8]=()=>i.selectedBind.close()),options:{ignore:[i.selectedBind.ref]}},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,_.C_)(["absolute right-0 z-10 mt-2 w-24 origin-top-right transform scale-100 rounded-md bg-white opacity-100 shadow-lg ring-1 ring-gray-900 ring-opacity-5 transition-all",i.animationStarted?"in":"out"])},[(0,s._)("a",{class:"text-gray-900 text-sm leading-6 py-1 px-3 block hover:bg-gray-50 rounded-[inherit]",onClick:t[6]||(t[6]=e=>i.selectedBind.follow())}," Перейти "),(0,s._)("a",{class:"text-gray-900 text-sm leading-6 py-1 px-3 block hover:bg-gray-50 rounded-[inherit]",onClick:t[7]||(t[7]=e=>i.selectedBind.del())}," Удалить ")],2)])),_:1},8,["options"])],8,["to"])):(0,s.kq)("",!0),(0,s.Wm)(g,{fields:i.filteredFields,copyItem:i.copyItem,tryAccept:i.tryAccept,onChange_value:i.change_value},null,8,["fields","copyItem","tryAccept","onChange_value"])]),(0,s.Wm)(r,{show_close:!1,class:"self-end",onSave:i.accept,ref:"downButtons"},{other_btns:(0,s.w5)((()=>[(0,s._)("button",{class:"btn bg-transparent focus-visible:underline focus-visible:underline-offset-4",onClick:t[9]||(t[9]=e=>i.close())}," Назад "),l.isNew?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{onConfirm:i.del,key:i.copyItem,btnClass:"btn_grey"},{label:(0,s.w5)((()=>[j])),_:1},8,["onConfirm"]))])),_:1},8,["onSave"])],64))])}var O=l(4038);const T={class:"w-11/12 p-5 flex flex-col gap-4"},F={key:0,class:"absolute right-0 top-1 text-xs text-red-700"};function N(e,t,l,i,n,a){return(0,s.wg)(),(0,s.iD)("div",T,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fields,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"row",key:e.id},[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.component),{item:5==e.type||6==e.type?e:e.name,selected_option:l.copyItem.fields?.[e.code],idx:e.code,onChange_value:i.change_value,class:(0,_.C_)({tryAccept:i.checkError(e).value})},null,40,["item","selected_option","idx","onChange_value","class"])),i.checkError(e).value?((0,s.wg)(),(0,s.iD)("small",F,(0,_.zw)(i.checkError(e).empty?"Пустое поле":i.checkError(e).short?"Минимум 3 символа":""),1)):(0,s.kq)("",!0)])))),128))])}var $=l(2675),P=l(9098),V=l(8592),W=l(293),z=l(3078),U=l(4254),Y=l(5226),R=l(5389),K=l(973);function M(e,t){const l=l=>{const s=t.value&&Boolean(l.is_system),i="name"===l.code&&e.value.fields?.[l.code]?.length<3,n=!e.value.fields?.[l.code];return{value:s&&(i||n),empty:n,short:i}};return{checkError:l}}var G={components:{EditInteger:$.Z,EditFloat:P.Z,EditString:V.Z,EditText:W.Z,EditSelector:z.Z,EditMultiSelector:U.Z,EditDate:Y.Z,EditDateTime:R.Z,EditFlag:K.Z},props:{fields:{type:Array,required:!0},copyItem:{type:Object,required:!0},tryAccept:{type:Boolean,required:!1,default:()=>!1}},setup(e,t){const{checkError:l}=M((0,s.Fl)((()=>e.copyItem)),(0,s.Fl)((()=>e.tryAccept))),i=(e,l)=>t.emit("change_value",e,l);return{change_value:i,checkError:l}}},J=l(89);const Q=(0,J.Z)(G,[["render",N],["__scopeId","data-v-af3eb694"]]);var X=Q;const ee=e=>((0,s.dD)("data-v-7f4687e0"),e=e(),(0,s.Cn)(),e),te={class:"relative flex justify-center"},le=(0,s.Uk)("Удалить"),se={key:0,class:"absolute bottom-full mb-2 z-10 px-4 py-2 flex flex-col items-center gap-2 origin-bottom transform scale-100 rounded-md bg-white opacity-100 shadow-lg ring-1 ring-gray-900 ring-opacity-5 transition-all in",ref:"target"},ie=ee((()=>(0,s._)("span",{class:"whitespace-nowrap text-gray-900"},"Точно удалить?",-1))),ne={class:"flex flex-row gap-2"};function ae(e,t,l,i,n,a){return(0,s.wg)(),(0,s.iD)("div",te,[(0,s._)("button",{ref:"btn",class:(0,_.C_)(["btn text-white bg-red-600",[l.btnClass]]),tabindex:"1",onClick:t[0]||(t[0]=e=>i.toggleAccept())},[(0,s.WI)(e.$slots,"label",{},(()=>[le]),!0)],2),(0,s.Wm)(c.uT,{name:"fade"},{default:(0,s.w5)((()=>[i.showAccept?((0,s.wg)(),(0,s.iD)("div",se,[ie,(0,s._)("div",ne,[(0,s._)("button",{class:"btn small_btn btn_light_dark_blue",onClick:t[1]||(t[1]=e=>i.confirm()),tabindex:"2"}," Да "),(0,s._)("button",{class:"btn small_btn btn_grey",onClick:t[2]||(t[2]=e=>i.reset()),tabindex:"2"}," Нет ")])],512)):(0,s.kq)("",!0)])),_:1})])}var oe=l(6367),de=l(6413),re=l(4870),ce={props:{btnClass:{type:String,required:!1}},setup(e,t){const l=(0,re.iH)(null),s=(0,re.iH)(null);(0,oe.i9H)(l,(()=>o()),{ignore:[s]});const[i,n]=(0,de.OT)(!1),a=()=>t.emit("confirm"),o=()=>n(!1);return{showAccept:i,toggleAccept:n,target:l,confirm:a,reset:o,btn:s}}};const ue=(0,J.Z)(ce,[["render",ae],["__scopeId","data-v-7f4687e0"]]);var pe=ue,ge=l(5477);const fe=e=>((0,s.dD)("data-v-7720e3c5"),e=e(),(0,s.Cn)(),e),ve=fe((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 18h3.75a5.25 5.25 0 1 0 0-10.5H5M7.5 4L4 7.5L7.5 11"})],-1))),me=[ve],be={class:"mt-10 p-2 pt-3 lg:p-5 lg:pt-5"},he={class:"bg-white divide-y divide-gray-300 mx-auto"},we={class:"cell main order-1"},ye={class:"cell order-4"},_e={class:"cell order-5"},xe={class:"cell order-2"},ke={class:"cell order-3 row-span-2 place-self-center"};function Ce(e,t,l,i,n,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("button",{class:"bg-slate-400 bg-opacity-90 p-2 h-fit w-fit rounded-xl absolute left-6 top-6 hover:shadow-sm hover:drop-shadow-md outline-none focus-visible:drop-shadow-md",onClick:t[0]||(t[0]=e=>i.back())},me),(0,s._)("div",be,[(0,s._)("table",he,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.list,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"grid grid-cols-3 items-center lg:table-row"},[(0,s._)("td",we,[(0,s._)("span",null,(0,_.zw)(e.name),1)]),(0,s._)("td",ye,[(0,s._)("span",null,(0,_.zw)(e.status),1)]),(0,s._)("td",_e,[(0,s._)("span",null,(0,_.zw)(e.date),1)]),(0,s._)("td",xe,[(0,s._)("span",null,(0,_.zw)(e.sum),1)]),(0,s._)("td",ke,[(0,s._)("a",{class:"link",href:"#",onClick:t[1]||(t[1]=e=>i.route())}," Перейти ")])])))),128))])])],64)}var De=l(678),Ae={setup(e,t){const l=(0,De.tv)(),s=(0,re.qj)([{name:"Тестовая",status:"Успешный",date:"2023-05-04 13:12:17",sum:"1200 RUB"},{name:"Test",status:"Открытый",date:"2023-01-17 12:18:32",sum:"200 RUB"},{name:"123",status:"Удален",date:"2023-01-13 08:45:24",sum:"12893 RUB"},{name:"ыаа",status:"Открытый",date:"2022-12-23 09:52:55",sum:"750 RUB"},{name:"Тестовая",status:"Успешный",date:"2022-12-20 08:15:08",sum:"314 RUB"}]),i=()=>l.push("/orders"),n=()=>t.emit("back");return{list:s,route:i,back:n}}};const Ee=(0,J.Z)(Ae,[["render",Ce],["__scopeId","data-v-7720e3c5"]]);var Ze=Ee,Be=l(9299);function He(e){const t=(0,re.qj)({list:[],value:"",selected:[],addCurrentLinks:function(e){this.selected=[],e.forEach((e=>this.selected.push({...e,isNew:!1})))},add:async function(t,l,s){if(s)this.selected.push({...l,isNew:!0});else{const s={};s[`${e.value.value2}_id`]=t,s[`${e.value.oppositeValue3}_id`]=[l.id];const i=await Be.Z.dispatch(`linkClients${e.value.value}`,s);i.success&&this.selected.push({...l,isNew:!0})}},del:async function(t,l,s,i){if(i)this.selected.splice(s,1);else{const i={};i[`${e.value.value2}_id`]=t,i[`${e.value.oppositeValue3}_id`]=[l];const n=await Be.Z.dispatch(`unlinkClients${e.value.value}`,i);n.success&&this.selected.splice(s,1)}},getList:async function(t){const l={q:this.value};l[`${e.value.value2}_id`]=t,this.list=await Be.Z.dispatch(`getClients${e.value.oppositeValue}Autocomplete`,l),this.list.map((e=>e.fields.name=e.fields?.label))},oppositeList:[],filteredOppositeList:[],getOppositeList:async function(){this.oppositeList.length||(await Be.Z.dispatch(`getClients${e.value.oppositeValue}List`),[...Be.Z.state[`clients${e.value.oppositeValue}`]?.list]?.forEach((e=>this.oppositeList.push({fields:{name:e?.fields?.name},id:e?.id,value:e?.id})))),this.filteredOppositeList=this.oppositeList.filter((e=>!this.selected.some((t=>t?.id===e.id))&&e?.fields?.name?.toLowerCase()?.includes(this.value?.toLowerCase())))},addAll:async function(t){const l={};l[`${e.value.value2}_id`]=t,l[`${e.value.oppositeValue3}_id`]=[],this.selected.forEach((t=>l[`${e.value.oppositeValue3}_id`].push(t.id))),await Be.Z.dispatch(`linkClients${e.value.value}`,l)}});return{binding:t}}var Se=l(6963),Ie=l(9583),Le={components:{BtnsSaveClose:O.Z,EditSectionFields:X,AppDelBtnAccept:pe,AppInputSelect:ge.Z,OnClickOutside:Ie.vo,ClientsEditSectionOrdersHistory:Ze},props:{isNew:{type:Boolean,required:!0},item:{type:Object,required:!1}},setup(e,t){const{tabs:l}=(0,Se.j)(),i=(0,s.Fl)((()=>l.selected)),{binding:n}=He(i),a=(0,re.iH)({fields:{}}),o=(0,s.Fl)((()=>Be.Z.state?.[`clients${i.value.value}`].fields)),d=(0,s.Fl)((()=>o.value.filter((e=>"rating"!==e.code)))),r=(0,s.Fl)((()=>o.value.find((e=>"rating"===e.code)))),c=(0,s.Fl)((()=>o.value.filter((e=>e.is_system)))),u=()=>{a.value?.[`${i.value.oppositeValue3}`]&&n.addCurrentLinks(a.value?.[`${i.value.oppositeValue3}`])};(0,s.bv)((async()=>{await Be.Z.dispatch(`getClients${i.value.value}Fields`),p()}));const p=()=>{e.isNew?n.getOppositeList():(a.value=JSON.parse(JSON.stringify(e.item)),u())},g=(0,s.Fl)((()=>e.item));(0,s.YP)(g,(()=>p()));const f=()=>t.emit("close"),v=async()=>{if(m.value=!0,b())return;const l={};if(l[`${i.value.value3}`]=[a.value],e.isNew){const{added:e}=await Be.Z.dispatch(`addClients${i.value.value}`,l);n.addAll(e[0])}else await Be.Z.dispatch(`updateClients${i.value.value}`,l);t.emit("accept"),f()},m=(0,re.iH)(!1),b=()=>c.value.some((e=>!a.value.fields[e.code]))||a.value.fields?.name?.length<3,{checkError:h}=M(a,m),w=()=>{Be.Z.dispatch("deleteClientsContacts",{id:a.value.id}),f()},y=(e,t)=>a.value.fields[t]=e,_=(0,re.qj)({ref:null,id:null,idx:null,select:function(e,t){null===this.id?(this.id=e,this.idx=t):this.close()},close:function(){this.idx=null,setTimeout((()=>{this.id=null,this.ref=null}),100)},del:function(){n.del(a.value.id,this.id,this.idx,!!e.isNew),this.close()},follow(){t.emit("follow",this.id)}}),x=(0,re.iH)(!1);(0,s.YP)((()=>_.idx),(e=>x.value=null!==e));const[k,C]=(0,de.OT)(!1),D=(0,re.iH)(null);let A=(0,re.iH)(!0);return(0,s.bv)((()=>{A.value=(0,re.SU)((0,oe.CDf)(D))})),{copyItem:a,fields:o,close:f,accept:v,change_value:y,del:w,binding:n,tryAccept:m,selectedBind:_,animationStarted:x,showOrderHistory:k,toggleOrderHistory:C,filteredFields:d,checkError:h,rating:r,downButtons:D,downButtonsIsVisible:A}}};const je=(0,J.Z)(Le,[["render",q],["__scopeId","data-v-e0e8506e"]]);var qe=je,Oe=l(1725),Te=l(8935);const Fe={class:"flex flex-col divide-y p-4 divide-gray-100 h-fit"},Ne=["onClick"],$e={class:"min-w-0 flex-auto text-left"},Pe={class:"text-lg font-semibold leading-6 text-gray-800"},Ve={class:"mt-1 truncate text-sm leading-5 text-gray-500"},We={class:"sm:flex sm:flex-col sm:items-end"},ze={class:"text-base leading-6 text-gray-900"},Ue={class:"flex flex-row gap-2 items-center mt-1"},Ye={class:"text-sm leading-5 text-gray-500"};function Re(e,t,l,i,n,a){return(0,s.wg)(),(0,s.iD)("ul",Fe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.list,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:(0,_.C_)(["flex justify-between px-6 py-5 cursor-pointer rounded-xl hover:bg-slate-50",{"bg-slate-100":l.selected.id===e.id}]),onClick:()=>l.selected.select(e.id)},[(0,s._)("div",$e,[(0,s._)("p",Pe,(0,_.zw)(e?.fields?.[i.placeholders[l.selectedTab.value].title]),1),(0,s._)("p",Ve,(0,_.zw)(e?.fields?.[i.placeholders[l.selectedTab.value].subTitle]),1)]),(0,s._)("div",We,[(0,s._)("p",ze,(0,_.zw)(e?.fields?.[i.placeholders[l.selectedTab.value].descriton]),1),(0,s._)("div",Ue,[(0,s._)("div",{class:"w-4 h-4 rounded-full flex items-center justify-center",style:(0,_.j5)({"background-color":i.getColor(10*e?.fields?.[i.placeholders[l.selectedTab.value].subDescriton])+"50"})},[(0,s._)("div",{class:"w-2 h-2 rounded-full",style:(0,_.j5)({"background-color":i.getColor(10*e?.fields?.[i.placeholders[l.selectedTab.value].subDescriton])+"99"})},null,4)],4),(0,s._)("p",Ye,(0,_.zw)(e?.fields?.[i.placeholders[l.selectedTab.value].subDescriton]),1)])])],10,Ne)))),128))])}var Ke=l(8089),Me={props:{list:{type:Array,required:!1,default:()=>[]},selected:{type:Object,required:!0},selectedTab:{type:Object,required:!1}},setup(e){const t=(0,s.Fl)((()=>e.selectedTab)),{getColor:l}=(0,Ke.a)(t),i={Company:{title:"name",subTitle:"signatory",descriton:"director",subDescriton:"rating"},Contacts:{title:"name",subTitle:"phoneNumber",descriton:"position",subDescriton:"rating"}};return{placeholders:i,getColor:l}}};const Ge=(0,J.Z)(Me,[["render",Re]]);var Je=Ge,Qe={components:{ClientsEditSection:qe,AppSearchWithFilters:Te.Z,ClientSectionsFields:Je,AppPaginator:Oe.Z},setup(){const e=(0,re.iH)(null),t=(0,re.iH)(null);(0,oe.i9H)(e,(()=>h()),{ignore:[t]});const{tabs:l}=(0,Se.j)(),i=(0,s.Fl)((()=>l.selected));(0,s.YP)(i,(()=>(a(),o(),h(!0))));const{clientsList:n,getClientsList:a,getClientsFields:o,page:d,changePage:r,updateParams:c}=(0,Ke.a)(i),u=e=>{c(e),a()},p=(0,re.qj)({ref:null,id:null,select:function(e){v.value?h():(0,s.Y3)((()=>this.id=e))}}),g=(0,s.Fl)((()=>n.find((e=>e.id===p.id)))),f=e=>{const t=l.list.find((e=>e.oppositeValue===i.value.value));l.select(t),p.select(e)},v=(0,re.iH)(!1),m=()=>{p.ref=null,p.id=null,(0,s.Y3)((()=>v.value=!0))},b=(0,re.iH)(!1),h=e=>{v.value?void 0===e?b.value=!0:e?(b.value=!1,p.ref=null,p.id=null,v.value=!1,a()):b.value=!1:(p.ref=null,p.id=null,v.value=!1,a())},w=()=>{e.value?.accept()};return a(),{target:e,refList:t,selected:p,addNew:v,clientsList:n,add:m,closeAdd:h,selectedItem:g,confirmClose:b,save:w,follow:f,selectedTabComp:i,page:d,changePage:r,emitParams:u}}};const Xe=(0,J.Z)(Qe,[["render",y],["__scopeId","data-v-5ea26f1e"]]);var et=Xe,tt={name:"AnalyticsView",components:{AppHeader:d.Z,AppRadioBtnsGroupUnderlined:r.Z,ClientsSection:et},setup(){const{tabs:e}=(0,Se.j)();return{tabs:e}}};const lt=(0,J.Z)(tt,[["render",o],["__scopeId","data-v-84d215d4"]]);var st=lt}}]);
//# sourceMappingURL=330.15e420d1.js.map