"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[634],{8697:function(e,t,a){a.d(t,{Z:function(){return d}});var l=a(3396),n=a(7139);function s(e,t,a,s,i,o){const r=(0,l.up)("AppPaginator"),c=(0,l.up)("selector-vue");return a.show?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,n.C_)(["bottom",{blur:a.blur}])},[a.showBtns?((0,l.wg)(),(0,l.j4)(r,{key:0,page:a.page,onChangePage:o.changePage},null,8,["page","onChangePage"])):(0,l.kq)("",!0),a.showSelector?((0,l.wg)(),(0,l.j4)(c,{key:1,class:"count",options_props:i.count_values,selected_option:{name:a.count,value:-1},onSelect:o.change_count},null,8,["options_props","selected_option","onSelect"])):(0,l.kq)("",!0)],2)):(0,l.kq)("",!0)}var i=a(7720),o=a(1725),r={components:{SelectorVue:i.Z,AppPaginator:o.Z},props:{previous:{type:Boolean,required:!1},next:{type:Boolean,required:!1},page:{type:Object,required:!1,default(){return{first:1,prev:null,current:1,next:null,last:1}}},count:{type:Number,required:!0},blur:{type:Boolean,required:!1,default:!1},show:{type:Boolean,required:!1,default:!0},showBtns:{type:Boolean,required:!1,default:!0},showSelector:{type:Boolean,required:!1,default:!0}},emits:{changePage:null,changeCount:null},data(){return{count_values:[]}},async mounted(){await this.$store.dispatch("get_account"),this.$store.state.account.user.config.per_pages&&(this.count_values=[...this.$store.state.account.user.config.per_pages].map(((e,t)=>({name:e,value:t}))))},computed:{},methods:{changePage(e){this.$emit("changePage",e)},change_count(e){this.$emit("changeCount",e.name)}}},c=a(89);const u=(0,c.Z)(r,[["render",s],["__scopeId","data-v-53e878de"]]);var d=u},838:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(3396),n=a(7139);const s={class:"multi_selector"},i=["onClick"];function o(e,t,a,o,r,c){return(0,l.wg)(),(0,l.iD)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.options_props,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)(["item",{selected:a.selected_options[t],disabled:a.disabled}]),key:e.value,onClick:e=>o.select(t)},(0,n.zw)(e.name),11,i)))),128))])}var r=a(4870),c={name:"MultiSelector",props:{options_props:{type:Array,required:!0,default(){return[]}},selected_options:{type:Array,required:!0,default(){return[!0]}},disabled:{type:Boolean,required:!1,default(){return!1}}},emits:{select:null},setup(e,{emit:t}){const a=(0,r.iH)([]);(0,l.bv)((()=>a.value=[...e.selected_options])),(0,l.YP)((()=>e.selected_options),(()=>{a.value=[...e.selected_options]}),{deep:!0});const n=l=>{e.disabled||(0==l&&(a.value=[]),1==a.value[0]&&(a.value[0]=!1),a.value[l]=!a.value[l],a.value.includes(!0)||(a.value[0]=!0),t("select",a.value))};return{options_value:a,select:n}}},u=a(89);const d=(0,u.Z)(c,[["render",o],["__scopeId","data-v-bab1322a"]]);var p=d},9163:function(e,t,a){a.r(t),a.d(t,{default:function(){return ve}});var l=a(3396);const n={class:"app"},s={class:"header"},i={class:"wrapper"},o={key:0,class:"w-full flex justify-between items-center relative"};function r(e,t,a,r,c,u){const d=(0,l.up)("AppHeader"),p=(0,l.up)("AppSearchWithFilters"),g=((0,l.up)("OrdersFilters"),(0,l.up)("OrdersGrid"));return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",s,[(0,l.Wm)(d,{selectedWH:{name:"Заказы",value:"orders"}})]),(0,l._)("div",i,[r.isTest?((0,l.wg)(),(0,l.iD)("div",o,[((0,l.wg)(),(0,l.j4)(p,{class:"absolute left-1/2 -translate-x-1/2",setOfInstructions:"orders",key:e.selectedTabComp,onEmitParams:r.emitParams},null,8,["onEmitParams"])),(0,l._)("button",{class:"btn btn_dark_blue",onClick:t[0]||(t[0]=e=>r.addToDeal())}," Создать заказ ")])):(0,l.kq)("",!0),(0,l.kq)("",!0),(0,l.Wm)(g,{ref:"grid"},null,512)])])}var c=a(2357),u=a(7139);const d=e=>((0,l.dD)("data-v-9e76d6fe"),e=e(),(0,l.Cn)(),e),p={class:"flex flex-col gap-2"},g={class:"filters"},_={class:"title"},m={key:7,class:"selected"},v=["onClick"],h=d((()=>(0,l._)("div",{class:"icon"},null,-1))),f={class:"btns self-end"};function w(e,t,a,n,s,i){const o=(0,l.up)("filter-number"),r=(0,l.up)("filter-text"),c=(0,l.up)("filter-list"),d=(0,l.up)("filter-date"),w=(0,l.up)("filter-flag"),y=(0,l.up)("AppInputSelect");return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filtersValue,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,u.C_)(["item",{item_wide:14==e.type}]),key:t},[(0,l._)("div",_,(0,u.zw)(e.name),1),1==e.type||2==e.type?((0,l.wg)(),(0,l.j4)(o,{key:0,item:e,idx:t,onChange_filter_value:e=>n.change_filter_value(e,t)},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),3==e.type||4==e.type?((0,l.wg)(),(0,l.j4)(r,{key:1,item:e,idx:t,onChange_filter_value:e=>n.change_filter_value(e,t)},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),5==e.type||6==e.type?((0,l.wg)(),(0,l.j4)(c,{key:2,item:e,idx:t,selector_options:e.selector_options,onChange_filter_value:e=>n.change_filter_value(e,t)},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,l.kq)("",!0),12==e.type?((0,l.wg)(),(0,l.j4)(c,{key:3,item:e,idx:t,selector_options:e.selector_options,onChange_filter_value:e=>n.change_filter_value(e,t)},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,l.kq)("",!0),7==e.type||8==e.type?((0,l.wg)(),(0,l.j4)(d,{key:4,item:e,idx:t,onChange_filter_value:e=>n.change_filter_value(e,t)},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),9==e.type?((0,l.wg)(),(0,l.j4)(w,{key:5,item:e,idx:t,onChange_filter_value:e=>n.change_filter_value(e,t)},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),14==e.type?((0,l.wg)(),(0,l.j4)(y,{key:6,list:e.selector_options,countLettersReq:e.minLength,onChangeInputValue:t=>n.changeInputValue(t,e),onSelect:t=>n.selectField(t,e),onFocusin:t=>e.inFocus=!0,onFocusout:t=>e.inFocus=!1},null,8,["list","countLettersReq","onChangeInputValue","onSelect","onFocusin","onFocusout"])):(0,l.kq)("",!0),e.value.length&&14===e.type?((0,l.wg)(),(0,l.iD)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.value,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t.value,class:"item",onClick:t=>n.deleteField(e,a)},[(0,l.Uk)((0,u.zw)(t.value)+" ",1),h],8,v)))),128))])):(0,l.kq)("",!0)],2)))),128))]),(0,l._)("div",f,[(0,l._)("button",{class:"btn btn_blue",onClick:t[0]||(t[0]=e=>n.apply())},"Применить"),(0,l._)("button",{class:"btn btn_grey",onClick:t[1]||(t[1]=e=>n.clearAllFields())},"Очистить")])])}var y=a(0),b=a(4197),k=a(999),C=a(4637),x=a(7564),q=a(5477),D=a(9299),Z=a(4870),F={components:{FilterNumber:y.Z,FilterText:b.Z,FilterList:k.Z,FilterDate:C.Z,FilterFlag:x.Z,AppInputSelect:q.Z},setup(){const e=(0,Z.qj)([{name:"Дата создания",code:"date_create",type:7,value:"~"},{name:"Ответственые",code:"responsible",type:14,minLength:0,inFocus:!1,value:[],selector_options:[]},{name:"Статус заказа",code:"status",type:12,value:[],selector_options:[{name:"Открытый",value:1},{name:"Закрытый",value:0}]}]),t=(0,l.Fl)((()=>{const t=[];return e.forEach((e=>t.push(e.inFocus))),t}));(0,l.YP)(t,((t,a)=>{a.some((e=>e))&&t.every((e=>!e))&&(e[a.indexOf(!0)].selector_options=[])}));const a=async(t,a)=>{const l=e=>" "!=e.split("").at(-1)&&" "!=e.split("")[0],n=t=>e.find((e=>e.name==t));if(a.selector_options=[],l(t)&&n(a.name).inFocus){await D.Z.dispatch("getAutocompleteAnalytics",{field:a.code,value:{query:t}});const e=D.Z.state.analytics.autocomplete;void 0!=e&&(e.map((e=>e.name=e.value)),a.selector_options=[...e])}},n=(e,t)=>{t.value.some((t=>t.value==e.value))||t.value.push(e)},s=(e,t)=>e.value.splice(t,1),i=(t,a)=>{Object.assign(e[a],t)},o=()=>{const t={},a=e.find((e=>"date_create"===e.code)).value?.split("~")[0];a&&(t.date_create_from=a);const l=e.find((e=>"date_create"===e.code)).value?.split("~")[1];l&&(t.date_create_to=l);const n=[];e.find((e=>"responsible"===e.code))?.value?.forEach((e=>e.id?n.push(e.id):null)),n&&(t.responsible_id=n);const s=[];e.find((e=>"status"===e.code))?.value?.forEach((e=>""!==e?s.push(e):null)),s&&(t.status_id=s)},r=()=>{e.map((e=>{1!==e.type&&1!==e.type||(e.value=0),3!==e.type&&4!==e.type||(e.value=""),5!==e.type&&6!==e.type&&12!==e.type&&14!==e.type||(e.value=[]),7!==e.type&&8!==e.type||(e.value="~"),9===e.type&&(e.value=1)})),o()};return{filtersValue:e,changeInputValue:a,selectField:n,deleteField:s,change_filter_value:i,apply:o,clearAllFields:r}}},P=a(89);const O=(0,P.Z)(F,[["render",w],["__scopeId","data-v-9e76d6fe"]]);var j=O;const S=e=>((0,l.dD)("data-v-2dcb6768"),e=e(),(0,l.Cn)(),e),H={class:"main mt-20 relative"},A=S((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"},[(0,l._)("path",{fill:"#757575",d:"M495.9 166.6c3.2 8.7.5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4l-55.6 17.8c-8.8 2.8-18.6.3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4c-1.1-8.4-1.7-16.9-1.7-25.5s.6-17.1 1.7-25.4l-43.3-39.4c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160a80 80 0 1 0 0 160z"})],-1))),T=[A],Y={class:"table",ref:"table"},z={class:"bar_row"},I=["onClick","colspan"],B={class:"bar_item_group"},E={key:0},K={class:"row"},L={key:0,class:"item",style:{padding:"5px 10px 5px 15px"}},W={class:"stat"},M={class:"img_wrapper"},V=["src"],G={key:0,class:"handle_cross"},$=["href"],R=["onClick"],N={key:1,class:"item"},U={class:"flex flex-row gap-4 items-center"},J={class:""},Q=["onClick"],X=["colspan","onClick"],ee={key:0},te=["colspan"],ae={class:"w-full flex items-center justify-center mt-2"},le=S((()=>(0,l._)("tr",{class:"space"},null,-1))),ne={key:1,class:"text"};function se(e,t,a,n,s,i){const o=(0,l.up)("AppPaginator"),r=(0,l.up)("grid-bottom");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",H,[n.isTest?((0,l.wg)(),(0,l.iD)("div",{key:0,onClick:t[0]||(t[0]=e=>n.openTableSettings()),class:"tableSettings absolute top-2 right-2"},T)):(0,l.kq)("",!0),(0,l._)("table",Y,[(0,l._)("thead",null,[(0,l._)("tr",z,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.products.titles,(e=>((0,l.wg)(),(0,l.iD)("th",{class:(0,u.C_)(["bar_item item",{cursor_pointer:e.sortable}]),style:(0,u.j5)({width:(n.collsCount>=8?100:n.collsCount>3?90:80)/n.collsCount*e.width+"%"}),onClick:t=>e.sortable?n.sort(e.value):null,key:e,colspan:e.isGroup?2:1},[(0,l._)("div",B,[(0,l._)("label",null,(0,u.zw)(e.name),1),e.sortable?((0,l.wg)(),(0,l.iD)("button",{key:0,class:(0,u.C_)(["bar_item_icon",{bar_item_icon_up:"desc"==n.sorting.order&&e.value===n.sorting.order_by,bar_item_icon_down:"asc"==n.sorting.order&&e.value===n.sorting.order_by}])},null,2)):(0,l.kq)("",!0)])],14,I)))),128))])]),n.products.list.length?((0,l.wg)(),(0,l.iD)("tbody",E,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.products.list,((e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:e},[(0,l._)("tr",K,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.products.titles,(t=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},["name"===t.code?((0,l.wg)(),(0,l.iD)("td",L,[(0,l._)("div",W,[(0,l._)("div",M,[(0,l._)("img",{src:e.img,class:"img"},null,8,V),3===n.statList.find((t=>t.name===e.stat))?.value?((0,l.wg)(),(0,l.iD)("div",G)):(0,l.kq)("",!0)]),3!==n.statList.find((t=>t.name===e.stat))?.value?((0,l.wg)(),(0,l.iD)("a",{key:0,target:"black",class:"underline text-[#8cb4ff] decoration-[#3f3f3faf] underline-offset-2 hover:no-underline",href:"https://"+n.accountSubdomain+".amocrm.ru/leads/detail/"+e.lead_id},(0,u.zw)(e.name),9,$)):(0,l.kq)("",!0),n.isTest?((0,l.wg)(),(0,l.iD)("a",{key:1,class:"underline text-[#8cb4ff] decoration-[#3f3f3faf] underline-offset-2 hover:no-underline",onClick:t=>n.routeToOrder(e.id)}," ТЕСТ перейти в сделку ",8,R)):(0,l.kq)("",!0)])])):"stat"===t.code&&"Успешный"===e.stat?((0,l.wg)(),(0,l.iD)("td",N,[(0,l._)("div",U,[(0,l._)("span",J,(0,u.zw)(e[t.code]),1),(0,l._)("button",{class:"btn small_btn order-1 max-h-[34px] pointer-events-auto relative inline-flex whitespace-nowrap w-fit rounded-md bg-white text-[0.8125rem] font-normal leading-5 text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50 hover:text-slate-900 hover:disabled:bg-white disabled:opacity-30 disabled:cursor-not-allowed",onClick:t=>n.refundOrder(e.id)}," Возврат ",8,Q)])])):((0,l.wg)(),(0,l.iD)("td",{key:2,class:"item cursor-pointer",colspan:t.isGroup?2:1,onClick:t=>e.isOpen=!e.isOpen},(0,u.zw)(e[t.code]),9,X))],64)))),128))]),e.isOpen?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.list.slice((e.page.current-1)*n.maxCount,e.page.current*n.maxCount),(e=>((0,l.wg)(),(0,l.iD)("tr",{class:"row hidden-row",key:e},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.selectedOrder.title,(t=>((0,l.wg)(),(0,l.iD)("td",{key:t,class:"item"},(0,u.zw)(e[t.code]),1)))),128))])))),128)),e.list.length>n.maxCount?((0,l.wg)(),(0,l.iD)("tr",ee,[(0,l._)("td",{colspan:Object.values(e.list?.[0])?.length},[(0,l._)("div",ae,[(0,l.Wm)(o,{page:e.page,onChangePage:e=>n.changePageRow(e,t)},null,8,["page","onChangePage"])])],8,te)])):(0,l.kq)("",!0),le],64)):(0,l.kq)("",!0)],64)))),128))])):(0,l.kq)("",!0)],512),0==n.products.length?((0,l.wg)(),(0,l.iD)("label",ne," Ничего не найдено ")):(0,l.kq)("",!0)]),(0,l.Wm)(r,{page:n.page,show:0!=n.products.list.length,showSelector:!1,count:n.meta?.per_page,onChangePage:n.changePage},null,8,["page","show","count","onChangePage"])],64)}var ie=a(8697),oe=a(1725),re=a(678),ce={name:"Main_grid",components:{GridBottom:ie.Z,AppPaginator:oe.Z},setup(){const e=(0,re.tv)(),t=(0,Z.qj)([]),a=(0,Z.iH)(!1),n=(0,Z.iH)(10),s=(0,Z.qj)({order_by:null,order:""}),i=(0,Z.qj)([]),o=(0,Z.qj)([]),r=(0,Z.qj)({isOpen:!1,title:[{name:"Название",code:"name"},{name:"Артикул",code:"article"},{name:"Склад",code:"wh"},{name:"Цена",code:"price"},{name:"Валюта",code:"price_currency"},{name:"Количество",code:"count"},{name:"Сумма",code:"sum"}],list:[]}),c=(0,Z.qj)([{name:"Открытый",value:0},{name:"Удален",value:3},{name:"Отменен",value:2},{name:"Успешный",value:1}]),u=(0,Z.qj)({titles:[{name:"Название сделки",code:"name",width:2},{name:"Статус заказа",code:"stat",width:1,sortable:!0,value:"status"},{name:"Ответственные",code:"otv",width:1},{name:"Дата создания",code:"date",width:1,sortable:!0,value:"created_at"},{name:"Сумма заказа",code:"sum",width:1},{name:"Позиции",code:"poz",width:1},{name:"Клиент",code:"client",width:1}],list:[]});(0,l.bv)((async()=>{await Promise.all([D.Z.dispatch("get_all_fields"),D.Z.dispatch("get_account"),D.Z.dispatch("getOrders",D.Z.state.orders.filters)]),F(),P(),H(),C()}));const d=(0,l.Fl)((()=>u.titles.length)),p=(0,l.Fl)((()=>u.list.length)),g=(0,l.Fl)((()=>D.Z.state.orders.meta)),_=(0,l.Fl)((()=>D.Z.state.fields.all_fields)),m=(0,l.Fl)((()=>D.Z.state.orders.orders)),v=(0,l.Fl)((()=>D.Z.state.account.account.subdomain)),h=(0,l.Fl)((()=>1==D.Z.state.account?.account?.id)),f=(0,l.Fl)((()=>D.Z.state.orders.filters)),w=(0,l.Fl)((()=>{const e={first:y(g.value?.first_page_url),prev:y(g.value?.prev_page_url),current:g.value?.current_page,next:y(g.value?.next_page_url),last:y(g.value?.last_page_url)};return e})),y=e=>e?e.split("?page=")[1]:null,b=e=>{const[t]=e.split("."),[a,l]=t.split("T");return a+" "+l},k=e=>{const t={page:e};D.Z.commit("updateOrdersFilters",t),q()},C=()=>{t.length=0;for(let e=0;e<p.value;e++)t.push({value:!1,item:{}})},x=()=>{t.map(((e,t)=>{e.value=a.value,a.value?e.item=u[t]:e.item={}}))},q=async()=>{await D.Z.dispatch("getOrders",f.value),H()},F=()=>{_.value.filter((e=>13==e.type&&"whs"!=e.code)).forEach((e=>i.push({name:e.name,value:e.code})))},P=()=>{_.value.filter((e=>11==e.type)).forEach((e=>o.push({name:e.name,value:e.code})))},O=e=>{s.order_by!=e&&(s.order="",s.order_by=e),"desc"!==s.order&&s.order?"asc"===s.order&&(s.order="desc"):s.order="asc",D.Z.commit("updateOrdersFilters",s),q()},j=e=>{D.Z.commit("updateOrdersFilters",e),q()},S=(e,t)=>{const a={prev:1===e?null:e-1,current:e,next:e===u?.list?.[t]?.page?.last?null:e+1};Object.assign(u?.list?.[t]?.page,a)},H=()=>{u.list=[],m.value.forEach((e=>{const t=[];let a=0;e.positions?.forEach((e=>{a+=e?.sum;const l={name:e?.name,article:e?.article,batch:e?.batch,wh_field:e?.wh_field,count:e?.count,sum:e?.sum,price_field:e?.price_field,price:e?.price,price_currency:e?.price_currency,wh:i.find((t=>t.value==e.wh_field))?.name,price_type:o.find((t=>t.value==e.price_field))?.name};t.push(l)}));let l="";null==e.company_name&&null!=e.contact_name&&(l=e.contact_name),null!=e.company_name&&null==e.contact_name&&(l=e.company_name),null!=e.company_name&&null!=e.contact_name&&(l=e.company_name+", "+e.contact_name);const s={id:e.id,page:{first:1,prev:null,current:1,next:Math.ceil(t.length/n.value)>1?2:null,last:Math.ceil(t.length/n.value)},isOpen:!1,name:h.value?e.fields?.name:e.lead_name,lead_id:e.lead_id,client:l,otv:e.responsible_name,date:b(e.created_at),sum:(a?Math.round(100*Number(a))/100:"")+" "+e.price_currency?e.price_currency:"",stat:c.find((t=>t.value==e.status))?.name,poz:t.length,img:"https://www.digiseller.ru/preview/571523/p1_3380359_3410fdc6.png",list:[...t]};u.list.push(s)}))},A=t=>{e.push("addToDeal?order_id="+t)},T=()=>D.Z.commit("open_table_settings"),Y=async e=>{await D.Z.dispatch("refundOrder",{order_id:e}),await D.Z.dispatch("getOrders",D.Z.state.orders.filters),H()};return{selectedProducts:t,allSelectedProducts:a,maxCount:n,sorting:s,selectedOrder:r,statList:c,products:u,collsCount:d,count:p,meta:g,orders:m,accountSubdomain:v,isTest:h,page:w,changePage:k,setSelectedProducts:C,changeAllSelectedProducts:x,getOrders:q,fillWhs:F,fillPriceCat:P,sort:O,emitParams:j,changePageRow:S,routeToOrder:A,openTableSettings:T,refundOrder:Y}}};const ue=(0,P.Z)(ce,[["render",se],["__scopeId","data-v-2dcb6768"]]);var de=ue,pe=a(8935),ge=a(1120),_e={components:{AppHeader:c.Z,OrdersFilters:j,OrdersGrid:de,AppSearchWithFilters:pe.Z},setup(){const e=(0,re.yj)(),t=(0,l.Fl)((()=>1==D.Z.state.account?.account?.id||"test"===e?.query?.test)),a=()=>ge.Z.push("/addToDeal"),n=(0,Z.iH)(null),s=e=>n.value.emitParams(e);return{addToDeal:a,isTest:t,grid:n,emitParams:s}}};const me=(0,P.Z)(_e,[["render",r],["__scopeId","data-v-99000120"]]);var ve=me}}]);
//# sourceMappingURL=634.afb3c227.js.map