"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[16],{8996:function(e,s,t){t.d(s,{Z:function(){return u}});var o=t(6252);const l={class:"btns"},n=(0,o.Uk)("Отмена"),c=(0,o.Uk)("Сохранить");function i(e,s,t,i,d,a){return(0,o.wg)(),(0,o.iD)("div",l,[t.show_close?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn1",onClick:s[0]||(s[0]=e=>a.close())},[(0,o.WI)(e.$slots,"close",{},(()=>[n]),!0)])):(0,o.kq)("",!0),t.show_save?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"btn btn2",onClick:s[1]||(s[1]=e=>a.save())},[(0,o.WI)(e.$slots,"save",{},(()=>[c]),!0)])):(0,o.kq)("",!0)])}var d={props:{show_close:{type:Boolean,required:!1,default(){return!0}},show_save:{type:Boolean,required:!1,default(){return!0}}},emits:{close:null,save:null},methods:{close(){this.$emit("close")},save(){this.$emit("save")}}},a=t(3744);const _=(0,a.Z)(d,[["render",i],["__scopeId","data-v-48ce6034"]]);var u=_},16:function(e,s,t){t.d(s,{Z:function(){return Ge}});var o=t(6252),l=t(3577),n=t(9963);const c=e=>((0,o.dD)("data-v-7298e596"),e=e(),(0,o.Cn)(),e),i={key:0},d={key:1},a={class:"container"},_={class:"header"},u={class:"left"},r=c((()=>(0,o._)("div",{class:"title"},"Настройки документов",-1))),p={class:"autorization"},v=c((()=>(0,o._)("button",null,"Выйти",-1))),m={class:"right"},h={class:"modal_settings"},w={class:"content"},g={class:"binding"},b=c((()=>(0,o._)("div",{class:"header"},"Привязка полей документов",-1))),y={class:"main"},f=c((()=>(0,o._)("label",null,'Поле "Документы"',-1))),k={class:"patterns"},D=c((()=>(0,o._)("div",{class:"header"},[(0,o._)("div",null,"Шаблоны документов"),(0,o._)("div",{class:"small"}," Файлы шаблонов должны быть доступны для чтения по ссылке ")],-1))),C={class:"main"},S={class:"table"},I={class:"row title"},x=c((()=>(0,o._)("td",{class:"item"},null,-1))),q={class:"add_button_container"},O=c((()=>(0,o._)("div",{class:"icon"},null,-1))),j=[O],$={class:"footer"};function Z(e,s,t,c,O,Z){const z=(0,o.up)("document-setting-add-new"),F=(0,o.up)("document-setting-fields"),W=(0,o.up)("SelectorVue"),Y=(0,o.up)("document-setting-doc-row"),H=(0,o.up)("btns-save-close");return(0,o.wg)(),(0,o.iD)(o.HY,null,[O.showAddNew?((0,o.wg)(),(0,o.j4)(z,{key:0,cur_doc:O.cur_doc,idx:O.selected_doc_idx,onClose:Z.close_add_new,onSave_new_doc:Z.save_new_doc,onSave_cur_doc:Z.save_cur_doc},{title:(0,o.w5)((()=>[null===O.selected_doc_idx?((0,o.wg)(),(0,o.iD)("span",i," Добавление шаблона документов ")):(0,o.kq)("",!0),null!==O.selected_doc_idx?((0,o.wg)(),(0,o.iD)("span",d," Редактирование шаблона документов ")):(0,o.kq)("",!0)])),_:1},8,["cur_doc","idx","onClose","onSave_new_doc","onSave_cur_doc"])):(0,o.kq)("",!0),O.showFields?((0,o.wg)(),(0,o.j4)(F,{key:1,onClose:Z.close_fields},null,8,["onClose"])):(0,o.kq)("",!0),(0,o._)("div",{class:"app",ref:"app",onClick:s[4]||(s[4]=e=>O.show_settings?Z.close_settings():null)},[(0,o._)("div",a,[(0,o._)("div",_,[(0,o._)("div",u,[r,(0,o._)("div",p,[(0,o.Uk)(' Вы авторизированы в сервисе Google Drive как "'+(0,l.zw)(O.name)+'". ',1),v])]),(0,o._)("div",m,[(0,o._)("button",{class:"settings_btn",onClick:s[0]||(s[0]=(0,n.iM)((e=>Z.open_close_settings()),["stop"]))}),(0,o.Wm)(n.uT,{name:"modal"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",h,[(0,o._)("a",null,[(0,o._)("div",{class:"modal_container",onClick:s[1]||(s[1]=e=>Z.open_fields())}," Поля шаблонов ")]),(0,o._)("a",null,[(0,o._)("div",{class:"modal_container",onClick:s[2]||(s[2]=s=>e.open_edit_stuff())}," Обновить поля шаблонов ")])],512),[[n.F8,O.show_settings]])])),_:1})])]),(0,o._)("div",w,[(0,o._)("div",g,[b,(0,o._)("div",y,[f,(0,o.Wm)(W,{options_props:O.options,onSelect:Z.option_select,selected_option:O.selected_option},null,8,["options_props","onSelect","selected_option"])])]),(0,o._)("div",k,[D,(0,o._)("div",C,[(0,o._)("table",S,[(0,o._)("thead",null,[(0,o._)("tr",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(O.title,(e=>((0,o.wg)(),(0,o.iD)("td",{class:"item",key:e},(0,l.zw)(e),1)))),128)),x])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(O.copy_documents,(e=>((0,o.wg)(),(0,o.j4)(Y,{key:e,doc:e,onOpen_edit:Z.open_edit,onDelete_cur_doc:Z.delete_cur_doc},null,8,["doc","onOpen_edit","onDelete_cur_doc"])))),128))])]),(0,o._)("div",q,[(0,o._)("button",{class:"add_new_button",onClick:s[3]||(s[3]=e=>Z.open_add_new())},j)])])])]),(0,o._)("div",$,[(0,o.Wm)(H,{onClose:Z.close,onSave:Z.save},null,8,["onClose","onSave"])])])],512)],64)}var z=t(5819);const F=e=>((0,o.dD)("data-v-295ff23f"),e=e(),(0,o.Cn)(),e),W={class:"app_new"},Y={class:"container"},H={class:"header"},V={class:"content"},A={class:"label_input"},N=F((()=>(0,o._)("label",{class:"label"},"Название:",-1))),B={class:"label_input"},K=F((()=>(0,o._)("label",{class:"label"},"Google ID файла:",-1))),U={class:"label_input"},E=F((()=>(0,o._)("label",{class:"label"},"Тип шаблона:",-1))),T={class:"label_input"},G=F((()=>(0,o._)("label",{class:"label"},"Тип для скачивания:",-1))),L={class:"footer"};function M(e,s,t,c,i,d){const a=(0,o.up)("selector-vue"),_=(0,o.up)("btns-save-close");return(0,o.wg)(),(0,o.iD)("div",W,[(0,o._)("div",Y,[(0,o._)("div",H,[(0,o.WI)(e.$slots,"title",{},void 0,!0)]),(0,o._)("div",V,[(0,o._)("div",A,[N,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>i.name=e),class:(0,l.C_)(["input",{not_valid:i.try_accept&&""==i.name}])},null,2),[[n.nr,i.name]])]),(0,o._)("div",B,[K,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>i.serviceID=e),class:(0,l.C_)(["input",{not_valid:i.try_accept&&""==i.serviceID}])},null,2),[[n.nr,i.serviceID]])]),(0,o._)("div",U,[E,(0,o.Wm)(a,{options_props:i.options1,onSelect:d.option_select1,selected_option:i.gouge_type},null,8,["options_props","onSelect","selected_option"])]),(0,o._)("div",T,[G,(0,o.Wm)(a,{options_props:i.options2,onSelect:d.option_select2,selected_option:i.download_type},null,8,["options_props","onSelect","selected_option"])])]),(0,o._)("div",L,[(0,o.Wm)(_,{onClose:d.close_modal,onSave:d.save},null,8,["onClose","onSave"])])])])}var P=t(8996),R={components:{SelectorVue:z.Z,BtnsSaveClose:P.Z},props:{cur_doc:{type:Object,required:!1,default(){return{}}},idx:{type:Number,required:!1,default(){return null}}},emits:{save_new_doc:null,close:null,save_cur_doc:null},data(){return{options1:[{name:"docx",value:1},{name:"xlsx",value:2}],gouge_type:{name:"docx",value:1},options2:[{name:"Исходный",value:1},{name:"pdf",value:2}],download_type:{name:"Исходный",value:1},try_accept:!1,name:"",serviceID:""}},mounted(){(0,o.Y3)((()=>this.add_cur_doc()))},methods:{save(){if(this.try_accept=!0,""!=this.name&&""!=this.serviceID){const e={name:this.name,serviceID:this.serviceID,gouge_type:this.gouge_type.name,download_type:this.download_type.name};Object.keys(this.cur_doc).length>0?this.$emit("save_cur_doc",e,this.idx):this.$emit("save_new_doc",e),this.close_modal()}},close_modal(){this.name="",this.serviceID="",this.$emit("close")},option_select1(e){Object.assign(this.gouge_type,e)},option_select2(e){Object.assign(this.download_type,e)},add_cur_doc(){if(Object.keys(this.cur_doc).length>0){this.name=this.cur_doc.name,this.serviceID=this.cur_doc.serviceID;const e=(e,s)=>{let t={};return e.forEach((e=>{e.name==s&&Object.assign(t,e)})),t};this.gouge_type=e(this.options1,this.cur_doc.gouge_type),this.download_type=e(this.options2,this.cur_doc.download_type)}}}},X=t(3744);const J=(0,X.Z)(R,[["render",M],["__scopeId","data-v-295ff23f"]]);var Q=J;const ee=e=>((0,o.dD)("data-v-725d1acc"),e=e(),(0,o.Cn)(),e),se={class:"app_fileds"},te={class:"container"},oe={class:"header"},le=ee((()=>(0,o._)("div",{class:"left"},[(0,o._)("label",null,"Поля для шаблонов документов")],-1))),ne={class:"right"},ce=ee((()=>(0,o._)("div",{class:"icon"},null,-1))),ie=[ce],de={class:"content"},ae={class:"top"},_e=["onClick"],ue={class:"bottom"},re={class:"footer"};function pe(e,s,t,n,c,i){const d=(0,o.up)("document-setting-fileds-list");return(0,o.wg)(),(0,o.iD)("div",se,[(0,o._)("div",te,[(0,o._)("div",oe,[le,(0,o._)("div",ne,[(0,o._)("button",{class:"btn_del",onClick:s[0]||(s[0]=e=>i.close())},ie)])]),(0,o._)("div",de,[(0,o._)("div",ae,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.documents_fields,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,onClick:s=>i.select_catalog(e),class:(0,l.C_)(["title",{selected:e.name==c.selected_catalog}])},(0,l.zw)(e.name),11,_e)))),128))]),(0,o._)("div",ue,[(0,o.Wm)(d,{list:c.list},null,8,["list"])])]),(0,o._)("div",re,[(0,o._)("button",{class:"btn btn1",onClick:s[1]||(s[1]=e=>i.close())},"Назад")])])])}var ve=t(3907);const me={class:"list"},he={class:"title"},we={class:"fields"},ge=["onClick"];function be(e,s,t,c,i,d){return(0,o.wg)(),(0,o.iD)("div",me,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.list,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:e},[(0,o._)("div",he,(0,l.zw)(e.title),1),(0,o._)("div",we,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,(e=>((0,o.wg)(),(0,o.iD)("button",{class:"field",key:e,onClick:s=>d.copy(e.value)},(0,l.zw)(e.name),9,ge)))),128)),(0,o.wy)((0,o._)("span",null,null,512),[[n.F8,!1]])])])))),128))])}var ye={props:{list:{type:Array,required:!0,default(){return[]}}},methods:{copy(e){navigator.clipboard.writeText(e).then((()=>{alert("Текст скопирован удачно")})).catch((()=>{alert("Текст не скопирован автоматически :с\nПопробуйте вручную")}))}}};const fe=(0,X.Z)(ye,[["render",be],["__scopeId","data-v-0b4b3b86"]]);var ke=fe,De={emits:{close:null},components:{DocumentSettingFiledsList:ke},data(){return{selected_catalog:"",list:[]}},computed:{...(0,ve.Se)(["documents_fields"])},mounted(){this.documents_fields[0].name&&this.select_catalog(this.documents_fields[0])},methods:{select_catalog(e){this.selected_catalog=e.name,this.list=e.fields},close(){this.$emit("close")}}};const Ce=(0,X.Z)(De,[["render",pe],["__scopeId","data-v-725d1acc"]]);var Se=Ce;const Ie=e=>((0,o.dD)("data-v-01059a14"),e=e(),(0,o.Cn)(),e),xe={class:"row"},qe={class:"item"},Oe={class:"item"},je={class:"item"},$e={href:"https://docs.google.com/spreadsheets/d/13U76ujSjV_iaY0L2WBVHVw7q07TSEqstuL0kSeX-Sh8/edit"},Ze={class:"item"},ze={class:"item"},Fe={class:"item"},We={class:"btns"},Ye=Ie((()=>(0,o._)("div",{class:"icon"},null,-1))),He=[Ye],Ve=Ie((()=>(0,o._)("div",{class:"icon"},null,-1))),Ae=[Ve];function Ne(e,s,t,n,c,i){return(0,o.wg)(),(0,o.iD)("tr",xe,[(0,o._)("td",qe,(0,l.zw)(t.doc.name),1),(0,o._)("td",Oe,(0,l.zw)(t.doc.serviceID),1),(0,o._)("td",je,[(0,o._)("a",$e,(0,l.zw)(t.doc.gauge),1)]),(0,o._)("td",Ze,(0,l.zw)(t.doc.gouge_type),1),(0,o._)("td",ze,(0,l.zw)(t.doc.download_type),1),(0,o._)("td",Fe,[(0,o._)("div",We,[(0,o._)("button",{class:"btn_edit",onClick:s[0]||(s[0]=e=>i.open_edit(t.doc))},He),(0,o._)("button",{class:"btn_del",onClick:s[1]||(s[1]=e=>i.delete_cur_doc(t.doc))},Ae)])])])}var Be={props:{doc:{type:Object,required:!0}},emits:{open_edit:null,delete_cur_doc:null},methods:{open_edit(e){this.$emit("open_edit",e)},delete_cur_doc(e){this.$emit("delete_cur_doc",e)}}};const Ke=(0,X.Z)(Be,[["render",Ne],["__scopeId","data-v-01059a14"]]);var Ue=Ke,Ee={components:{SelectorVue:z.Z,DocumentSettingAddNew:Q,DocumentSettingFields:Se,DocumentSettingDocRow:Ue,BtnsSaveClose:P.Z},data(){return{name:"Дмитрий Ивлев",title:["Название","Google ID файла","Шаблон","Тип шаблона","Тип для скачивания"],options:[{name:"Не выбрано",value:1},{name:"Прибыль",value:2},{name:"Бюджет общий",value:3}],selected_option:{name:"Не выбрано",value:1},showAddNew:!1,showFields:!1,show_settings:!1,cur_doc:{},selected_doc_idx:null,copy_documents:[]}},computed:{...(0,ve.Se)(["documents"])},mounted(){this.copy_documents=[],this.copy_documents=this.copy_documents.concat(this.documents)},methods:{close(){this.copy_documents=[],this.$emit("close",!1)},save(){this.$store.commit("save_docs",this.copy_documents),this.close()},option_select(e){Object.assign(this.selected_option,e)},open_edit(e){Object.assign(this.cur_doc,e),this.selected_doc_idx=this.copy_documents.indexOf(e),this.open_add_new()},open_modal(){this.$refs.app.style.pointerEvents="none",this.$refs.app.style.filter="blur(5px)"},close_modal(){this.$refs.app.style.pointerEvents="all",this.$refs.app.style.filter="none"},open_add_new(){this.showAddNew=!0,this.open_modal()},close_add_new(){this.showAddNew=!1,this.cur_doc={},this.close_modal()},save_new_doc(e){this.copy_documents.push(Object.assign(e,{gauge:"редактировать"}))},save_cur_doc(e,s){Object.assign(this.copy_documents[s],e)},delete_cur_doc(e){const s=this.copy_documents.indexOf(e);this.copy_documents.splice(s,1)},open_close_settings(){this.show_settings=!this.show_settings},close_settings(){this.show_settings=!1},open_fields(){this.showFields=!0,this.open_modal()},close_fields(){this.showFields=!1,this.close_modal()}}};const Te=(0,X.Z)(Ee,[["render",Z],["__scopeId","data-v-7298e596"]]);var Ge=Te},5819:function(e,s,t){t.d(s,{Z:function(){return v}});var o=t(6252),l=t(3577),n=t(9963);const c={class:"v-select"},i={class:"options",key:"a1"},d=["onClick"];function a(e,s,t,a,_,u){return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",{class:(0,l.C_)(["title",{title_checked:a.show_options,disabled:t.disabled}]),onClick:s[0]||(s[0]=e=>a.open_close_options()),onFocusout:s[1]||(s[1]=(...e)=>a.handleFocusOut&&a.handleFocusOut(...e)),tabindex:"0"},[(0,o._)("p",null,(0,l.zw)(t.selected_option.name),1),t.disabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,l.C_)(["arrow",{rotate_arrow:a.show_options}])},null,2))],34),(0,o.Wm)(n.uT,{name:"list"},{default:(0,o.w5)((()=>[a.show_options?((0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.options,(e=>((0,o.wg)(),(0,o.iD)("p",{key:e.value,onClick:s=>a.select_option(e)},(0,l.zw)(e.name),9,d)))),128))])):(0,o.kq)("",!0)])),_:1})])}var _=t(2262),u={props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0,default(){return{}}},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},emits:{select:null},setup(e,{emit:s}){const t=(0,_.iH)([]);(0,o.bv)((()=>{(0,o.Y3)((()=>{l()}))}));const l=()=>{t.value=[],e.options_props?.forEach((e=>t.value.push(e)))};(0,o.YP)((()=>e.options_props),(()=>{l()}),{deep:!0});const n=(0,_.iH)(!1),c=()=>{n.value=!1},i=()=>{e.disabled||(n.value=!n.value)},d=()=>{c()},a=t=>{s("select",t,e.idx),c()};return{open_close_options:i,handleFocusOut:d,show_options:n,options:t,select_option:a}}},r=t(3744);const p=(0,r.Z)(u,[["render",a],["__scopeId","data-v-22e82ece"]]);var v=p}}]);
//# sourceMappingURL=16.de061f4f.js.map