"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[348],{7614:function(e,t,s){s.d(t,{M:function(){return i}});var l=s(6413);function i(e="timer",t=3e3,s=!1){const[i,a]=(0,l.OT)(s),o=async(s=e,l,i)=>{if(a(!0),"timer"===s)setTimeout((()=>a(!1)),l||t);else if("async"===s&&i)await i,a(!1);else if("asyncWithTimer"===s&&i)setTimeout((async()=>{await i,a(!1)}),l||t);else if("handle"===s)return},r=()=>a(!1);return{isLocked:i,lockBtn:o,handleUnLock:r}}},5348:function(e,t,s){s.r(t),s.d(t,{default:function(){return ir}});var l=s(3396),i=s(7139),a=s(9242),o=s(3574);const r=e=>((0,l.dD)("data-v-40ffb29c"),e=e(),(0,l.Cn)(),e),d={class:"app px-2 lg:px-[30px] mb-[52px] sm:mb-0"},n=r((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 18h3.75a5.25 5.25 0 1 0 0-10.5H5M7.5 4L4 7.5L7.5 11"})],-1))),c=[n],u={key:1,class:"fixed top-4 left-[10%] hidden sm:flex flex-row items-center gap-2"},p=r((()=>(0,l._)("button",{class:"btn_white"},"Профиль",-1))),h={class:"fixed sm:static bottom-0 left-0 w-full sm:w-auto flex flex-col gap-2 p-2 sm:p-0 bg-white shadow-md shadow-black rounded-t-lg"},g={class:"relative"},m={key:0,class:"w-full absolute sm:fixed -top-3 -translate-y-full sm:translate-y-0 sm:top-auto sm:bottom-4 right-0 sm:right-4 lg:right-[10%] flex flex-row gap-2 items-center justify-between sm:w-fit"},w=r((()=>(0,l._)("button",{class:"rounded-lg bg-slate-400 bg-opacity-90 text-slate-100 h-9 aspect-square flex justify-center items-center p-1 sm:!hidden"},[(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"currentColor",d:"M12 4a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m0 7c2.67 0 8 1.33 8 4v3H4v-3c0-2.67 5.33-4 8-4m0 1.9c-2.97 0-6.1 1.46-6.1 2.1v1.1h12.2V17c0-.64-3.13-2.1-6.1-2.1"})])],-1))),v={href:"https://gosklad.com/",target:"_blank",class:"flex flex-row gap-4 items-center"},f=r((()=>(0,l._)("img",{src:o,alt:"GoSkald",class:"w-24"},null,-1))),_=["disabled"],b=r((()=>(0,l._)("span",{class:"animate-pulse ml-1"},".",-1))),y=r((()=>(0,l._)("span",{class:"animate-pulse",style:{"animation-delay":"0.667s"}},".",-1))),k=r((()=>(0,l._)("span",{class:"animate-pulse",style:{"animation-delay":"1.333s"}},".",-1))),x={class:"content sm:mt-4 mb-20"};function C(e,t,s,o,r,n){const C=(0,l.up)("AvailablePublicOrderButton"),P=(0,l.up)("router-link"),D=(0,l.up)("AppRadioBtnsGroupUnderlined");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("div",{class:(0,i.C_)(["header !pb-1 sm:pb-5",[o.isPublicOrder?"bg-transparent":"bg-white",{"!p-0 sm:py-5 sm:!pt-10":o.isPublicOrder}]])},[o.isPublicOrder?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"bg-slate-400 bg-opacity-90 p-2 h-fit w-fit rounded-xl absolute left-0 hover:shadow-sm hover:drop-shadow-md outline-none focus-visible:drop-shadow-md",onClick:t[0]||(t[0]=e=>o.back())},c)),o.isPublicOrder?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(a.uT,{name:"side2"},{default:(0,l.w5)((()=>[(0,l.Wm)(C)])),_:1}),(0,l.Wm)(P,{to:"/PublicOrderProfile"},{default:(0,l.w5)((()=>[p])),_:1})])):(0,l.kq)("",!0),(0,l._)("div",h,[(0,l._)("div",g,[o.isPublicOrder?((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(a.uT,{name:"side2"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{class:"sm:hidden"})])),_:1}),(0,l.Wm)(P,{to:"/PublicOrderProfile"},{default:(0,l.w5)((()=>[w])),_:1}),(0,l._)("a",v,[(0,l.Uk)((0,i.zw)(e.$t("newOrder.logoLinkText"))+" ",1),f])])):(0,l.kq)("",!0),(0,l._)("div",{class:(0,i.C_)(["static sm:fixed flex flex-row gap-2 items-center w-full sm:w-auto",[o.isPublicOrder?"top-4 right-[10%]":"bottom-10 left-[10%]"]])},[(0,l.Wm)(a.uT,{name:"side"},{default:(0,l.w5)((()=>[o.isTest&&!o.isClosedStep&&o.isOrderGeted&&!o.isPublicOrder?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn_grey w-full sm:w-auto flex items-center justify-center",onClick:t[1]||(t[1]=e=>o.archivate())},(0,i.zw)(e.$t("ostatki.arch")),1)):(0,l.kq)("",!0)])),_:1}),(o.isPublicOrder,(0,l.kq)("",!0)),(0,l.Wm)(a.uT,{name:o.isPublicOrder?"side2":"side"},{default:(0,l.w5)((()=>[o.saveParams.needSave||o.isPublicOrder?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn w-full sm:w-auto items-center justify-center whitespace-nowrap pointer-events-auto inline-flex transition-all rounded-md bg-blue-500 text-[0.8125rem] font-medium leading-5 text-slate-100 shadow-sm ring-1 ring-slate-700/10 hover:bg-blue-600 hover:text-white hover:disabled:bg-blue-500/70 disabled:bg-blue-500/70 disabled:opacity-30 disabled:cursor-not-allowed",onClick:t[2]||(t[2]=e=>o.saveParams.save()),disabled:o.saveParams.isSaving},[o.saveParams.isSaving?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,i.zw)(e.$t("newOrder.saving"))+" ",1),b,y,k],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,i.zw)(o.isPublicOrder?e.$t("newOrder.confirmOrder"):e.$t("global.save")),1)],64))],8,_)):(0,l.kq)("",!0)])),_:1},8,["name"])],2)])]),o.isPublicOrder?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(D,{key:2,class:"w-4/5",list:o.tabs.list,selected:o.tabs.selected,onSelect:t[3]||(t[3]=e=>o.tabs.select(e))},null,8,["list","selected"]))],2),(0,l._)("div",x,[((0,l.wg)(),(0,l.j4)(l.Ob,null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(o.tabs.selected.code)))],1024))])])}var P=s(1120);const D={key:0,class:"font-semibold text-gray-700 mb-10 w-full text-start"};function L(e,t,s,a,o,r){const d=(0,l.up)("ProductsTabFields"),n=(0,l.up)("ProductsTabCastomFields"),c=(0,l.up)("main-page"),u=(0,l.up)("DocumentsTab");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,i.C_)(["gap-10 mx-auto lg:w-4/5",[a.isPublicOrder?"flex flex-col items-center":"flex flex-col items-center md:grid md:grid-cols-3 md:justify-items-start md:items-start"]])},[(0,l.Wm)(d,{total:a.total,class:(0,i.C_)([a.isPublicOrder?"order-1 px-1 sm:px-0":"order-1"])},null,8,["total","class"]),(0,l._)("div",{class:(0,i.C_)(["w-full",[a.isPublicOrder?"order-3 px-1 sm:px-0":"order-3 md:order-2"]])},[(0,l.Wm)(n)],2),(0,l._)("div",{class:(0,i.C_)(["w-full cont px-1 h-full rounded-xl bg-slate-50 shadow-xl shadow-slate-100",[a.isPublicOrder?"order-2":"order-2 md:order-3"]])},[a.isPublicOrder?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h2",D,(0,i.zw)(e.$t("newOrder.spis")),1)),(0,l.Wm)(c,{ref:"widjet"},null,512)],2)],2),a.isPublicOrder?((0,l.wg)(),(0,l.j4)(u,{key:0,class:"my-10 mx-auto lg:w-4/5"})):(0,l.kq)("",!0)],64)}const W=e=>((0,l.dD)("data-v-7496d341"),e=e(),(0,l.Cn)(),e),S={class:"container1"},j=W((()=>(0,l._)("div",{class:"header"},null,-1))),O={class:"content flex flex-col"},F={class:"top"},q={class:"btns"},Z=["disabled"],A=W((()=>(0,l._)("label",{for:"grid"},null,-1))),z=W((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"white",d:"M12 19q-.425 0-.713-.288T11 18v-5H6q-.425 0-.713-.288T5 12q0-.425.288-.713T6 11h5V6q0-.425.288-.713T12 5q.425 0 .713.288T13 6v5h5q.425 0 .713.288T19 12q0 .425-.288.713T18 13h-5v5q0 .425-.288.713T12 19Z"})],-1))),V=[z],I={key:0,class:"bottom"},T={class:"links"},Y=["disabled","onClick"],M={key:0,class:"spinner"},H=W((()=>(0,l._)("img",{class:"w-12 h-12",src:"https://usagif.com/wp-content/uploads/loading-58.gif.webp",alt:"spinner"},null,-1))),N=[H],E={class:"path"},G={class:"categories sls_grid"},U=["onClick"],B=W((()=>(0,l._)("div",{class:"name"},null,-1))),K={class:"value"},X={key:0,class:"sls_row"},Q={key:1,class:"w-full h-full bg-black/30 absolute left-0 top-0 z-10"},J=["src"],R=["src"],$={class:"products sls_grid"},ee={key:0,class:"text"},te=["onClick"],se=W((()=>(0,l._)("div",{class:"bg_image"},[(0,l._)("img",{src:"https://img2.freepng.ru/20180518/rpa/kisspng-parcel-computer-icons-package-tracking-mail-5aff95be3be2a8.2770409315266994542453.jpg",class:"img"})],-1))),le={class:"back"},ie={class:"sls_row title"},ae=W((()=>(0,l._)("div",{class:"name"},null,-1))),oe={class:"value"},re={class:"rows"},de={class:"sls_row"},ne={class:"name",style:{"font-weight":"500"}},ce={class:"value"},ue={class:"sls_row"},pe={class:"name",style:{"font-weight":"500"}},he={class:"value"},ge={class:"sls_row",style:{"margin-left":"8px"}},me={class:"name"},we={class:"value"},ve={class:"sls_row",style:{"margin-left":"8px"}},fe={class:"name"},_e={class:"value"},be={class:"sls_row"},ye={class:"name",style:{"font-weight":"500"}},ke=W((()=>(0,l._)("div",{class:"value"},null,-1))),xe={class:"sls_row",style:{"margin-left":"8px"}},Ce={class:"name"},Pe={class:"value"},De={key:2,class:"sls_row"},Le={class:"name",style:{"font-weight":"500"}},We={class:"value"},Se={key:4,class:"sls_row"},je={class:"name"},Oe={class:"value"},Fe={key:5,class:"sls_row"},qe={class:"name"},Ze={class:"value"},Ae={class:"card_footer"},ze=["onUpdate:modelValue"],Ve=["onClick"],Ie=W((()=>(0,l._)("div",{class:"sls_row title"},[(0,l._)("div",{class:"name"}),(0,l._)("div",{class:"value"})],-1))),Te={class:"rows"},Ye=W((()=>(0,l._)("div",{class:"name"},null,-1))),Me=W((()=>(0,l._)("div",{class:"value"},null,-1))),He=[Ye,Me],Ne=W((()=>(0,l._)("div",{class:"card_footer"},[(0,l._)("div",{class:"sls_btn btn_green btn_del"}),(0,l._)("div",{class:"sls_btn btn_green btn_del"})],-1))),Ee=W((()=>(0,l._)("div",{class:"footer"},null,-1)));function Ge(e,t,s,o,r,d){const n=(0,l.up)("PublicProductCard"),c=(0,l.up)("ProductCard"),u=(0,l.up)("ProductCardPreloader"),p=(0,l.up)("ProductCardSkeleton"),h=(0,l.up)("AppInputSelect"),g=(0,l.up)("DisplayTypeToggle"),m=(0,l.up)("AppPaginator"),w=(0,l.up)("AppImagesCarusel"),v=(0,l.up)("filters-modal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{class:(0,i.C_)(["app",{short:r.show_filters}])},[(0,l._)("div",S,[j,(0,l._)("div",O,[(0,l._)("div",{class:(0,i.C_)([o.isPublicOrder&&e.displayTypeIsCard?"custom_grid w-full gap-4 mt-4":"flex flex-col",o.isPublicOrder&&"order-2"])},[o.isPublicOrder&&e.displayTypeIsCard?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(r.addedProducts,((e,t)=>((0,l.wg)(),(0,l.j4)(n,{key:e.id,fields:d.fields,copyItem:e,onChange_value:(...e)=>d.change_value(t,...e),onDel:()=>d.deleteAddedProduct(t)},null,8,["fields","copyItem","onChange_value","onDel"])))),128)):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(r.addedProducts,((e,t)=>((0,l.wg)(),(0,l.j4)(c,{key:e.id,fields:d.fields,copyItem:e,onChange_value:(...e)=>d.change_value(t,...e),onDel:()=>d.deleteAddedProduct(t)},null,8,["fields","copyItem","onChange_value","onDel"])))),128)),r.isAddedProductsLoading&&!r.addedProducts.length?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[o.isPublicOrder&&e.displayTypeIsCard?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(3,(e=>(0,l.Wm)(u,{key:e}))),64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(3,(e=>(0,l.Wm)(p,{key:e}))),64))],64)):(0,l.kq)("",!0)],2),(0,l._)("div",F,[(0,l.Wm)(h,{list:r.search.list,value:r.search.value,placeholder:o.t("widjet.placeholder"),countLettersReq:3,disabled:d.disableAddToDeal,onChangeInputValue:d.getProductsAutocomplete,onSelect:t[0]||(t[0]=e=>d.addToLeadAutocomplete(e.id))},null,8,["list","value","placeholder","disabled","onChangeInputValue"]),(0,l._)("div",q,[o.isPublicOrder?((0,l.wg)(),(0,l.j4)(g,{key:0})):(0,l.kq)("",!0),(0,l.wy)((0,l._)("input",{type:"checkbox",class:"sls_checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>r.show_cards=e),disabled:o.isLockedShowCards,id:"grid"},null,8,Z),[[a.e8,r.show_cards]]),A,(0,l._)("div",{class:(0,i.C_)(["sls_btn",{sls_btn_disable:d.disableAddToDeal}]),id:"sls_btn_open_filter",onClick:t[2]||(t[2]=e=>d.disableAddToDeal?null:d.openModal())},V,2)])]),(0,l.Wm)(a.uT,{name:"rows"},{default:(0,l.w5)((()=>[r.show_cards?((0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("div",T,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.selectedCategories,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)(["triangle",{triangle_last:!d.categories.length&&r.selectedCategories.length-1==t}]),disabled:!d.categories.length&&r.selectedCategories.length-1==t,key:e,onClick:t=>d.selectCategories(e)},(0,i.zw)(e?.name),11,Y)))),128))]),r.showSpinner?((0,l.wg)(),(0,l.iD)("div",M,N)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("div",E,[(0,l._)("div",G,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.categories,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card group/card",key:e,onClick:t=>d.selectCategories(e)},[(0,l._)("div",{class:(0,i.C_)(["sls_row title relative z-20",{"text-white":e.img_url}])},[B,(0,l._)("div",K,(0,i.zw)(e.name),1)],2),e.img_url?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",X)),e.img_url?((0,l.wg)(),(0,l.iD)("div",Q)):(0,l.kq)("",!0),e.img_url?((0,l.wg)(),(0,l.iD)("img",{key:2,src:e.img_url,class:"aspect-auto w-3/4 z-[3] absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 transition-all duration-300 group-hover/card:scale-[0.6]"},null,8,J)):(0,l.kq)("",!0),e.img_url?((0,l.wg)(),(0,l.iD)("img",{key:3,src:e.img_url,class:"aspect-auto w-3/4 z-[2] blur2 absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 transition-all duration-300 group-hover/card:scale-[0.6]"},null,8,R)):(0,l.kq)("",!0)],8,U)))),128))])]),0!=d.products.length?((0,l.wg)(),(0,l.j4)(m,{key:0,class:"sls_paginator",page:d.page,onChangePage:d.changePage},null,8,["page","onChangePage"])):(0,l.kq)("",!0),(0,l._)("div",$,[0==d.products.length?((0,l.wg)(),(0,l.iD)("label",ee,(0,i.zw)(e.$t("global.nothingFound")),1)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[r.useSkeletonCard?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(d.products,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card skeleton",key:e},[Ie,(0,l._)("div",Te,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(7,(e=>(0,l._)("div",{key:e,class:"sls_row"},He))),64))]),Ne])))),128)):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(d.products,((s,o)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:s},[d.addedProductsIds.includes(s.id)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)(["card",{card__flip:!r.flip[o]}]),onClick:e=>!1},[se,(0,l._)("div",le,[(0,l._)("div",ie,[ae,(0,l._)("div",oe,(0,i.zw)(s?.fields?.name),1)]),(0,l._)("div",re,[(0,l._)("div",de,[(0,l._)("div",ne,(0,i.zw)(e.$t("widjet.type")),1),(0,l._)("div",ce,(0,i.zw)(s.is_service?e.$t("widjet.ysl"):e.$t("widjet.tow")),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.sortedFields,(t=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},[e.getAllFieldsInSubCat(s?.fields?.category)?.includes(t.id)?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[11===t.type?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("div",ue,[(0,l._)("div",pe,(0,i.zw)(t.name)+" : ",1),(0,l._)("div",he,(0,i.zw)(s?.fields[t.code]?.cost?s?.fields[t.code]?.cost:(s?.fields[t.code]?.currency,s?.fields[t.code]?.currency)),1)]),s?.fields[t.code]?.is_nds?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("div",ge,[(0,l._)("div",me,(0,i.zw)(e.$t("widjet.nds")),1),(0,l._)("div",we,(0,i.zw)(s?.fields[t.code]?.nds),1)]),(0,l._)("div",ve,[(0,l._)("div",fe,(0,i.zw)(e.$t("widjet.nds2")),1),(0,l._)("div",_e,(0,i.zw)(s?.fields[t.code]?.is_price_include_nds?e.$t("global.yes"):e.$t("global.no")),1)])],64)):(0,l.kq)("",!0)],64)):13===t.type?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("div",be,[(0,l._)("div",ye,(0,i.zw)(t.name)+": ",1),ke]),(0,l._)("div",xe,[(0,l._)("div",Ce,(0,i.zw)(e.$t("widjet.free")),1),(0,l._)("div",Pe,(0,i.zw)(Number(s?.fields[t.code]?.count?s?.fields[t.code]?.count:0)+Number(s?.fields[t.code]?.reserve?s?.fields[t.code]?.reserve:0)),1)])],64)):12===t.type?((0,l.wg)(),(0,l.iD)("div",De,[(0,l._)("div",Le,(0,i.zw)(t.name)+": ",1),(0,l._)("div",We,(0,i.zw)(d.categoriesForCard?.[s?.fields?.[t.code]]),1)])):"name"===t.code?((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[],64)):15===t.type&&s?.fields[t.code]?.length?((0,l.wg)(),(0,l.iD)("div",Se,[(0,l._)("div",je,(0,i.zw)(t.name)+":",1),(0,l._)("div",Oe,[(0,l.Wm)(w,{imagesList:s?.fields[t.code],sizeWindow:"m",float:"right"},null,8,["imagesList"])])])):((0,l.wg)(),(0,l.iD)("div",Fe,[(0,l._)("div",qe,(0,i.zw)(t.name)+":",1),(0,l._)("div",Ze,(0,i.zw)(s?.fields[t.code]),1)]))],64)):(0,l.kq)("",!0)],64)))),128))]),(0,l._)("div",Ae,[s.is_service?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[r.allWhsList?.[o]?.length?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,type:"number",class:"sls_input",style:{"min-width":"70px"},"onUpdate:modelValue":e=>r.allWhsList[o][0].specialValue=e},null,8,ze)),[[a.nr,r.allWhsList[o][0].specialValue]]):(0,l.kq)("",!0)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[r.allWhsList?.[o]?.length?((0,l.wg)(),(0,l.j4)(h,{key:0,onClick:t[3]||(t[3]=(0,a.iM)((()=>{}),["stop"])),style:{"min-width":"70px",width:"100%"},list:r.allWhsList?.[o]?.filter((e=>(s.allow_add_with_zero_count||!(e.count<1))&&(!d.selectedWirePerLead.value||e.code==d.selectedWirePerLead.value))),special:!0,requestDelay:0,countLettersReq:0,allow_add_with_zero_count:s.allow_add_with_zero_count,one_wh_per_lead:s.one_wh_per_lead,placeholder:r.allWhsList?.[o]?.reduce(((e,t)=>e+Number(t?.specialValue)),0),onChangeInputValue:e=>r.inputValues[o]=e},null,8,["list","allow_add_with_zero_count","one_wh_per_lead","placeholder","onChangeInputValue"])):(0,l.kq)("",!0)],64)),(0,l._)("div",{class:(0,i.C_)(["sls_btn btn_green btn_del",{btn_del_disabled:!!d.disableAddToDeal||(s.is_service?!r.allWhsList[o][0]?.specialValue:0==r.allWhsList?.[o]?.reduce(((e,t)=>e+Number(t?.specialValue)),0))}]),onClick:(0,a.iM)((()=>d.disableAddToDeal?null:(s.is_service?r.allWhsList[o][0]?.specialValue:0!=r.allWhsList?.[o]?.reduce(((e,t)=>e+Number(t?.specialValue)),0))?d.addToLead(s.id):null),["stop"])},(0,i.zw)(e.$t("widjet.add")),11,Ve)])])],10,te))],64)))),128))],64))]),0!=d.products.length?((0,l.wg)(),(0,l.j4)(m,{key:1,class:"sls_paginator",page:d.page,onChangePage:d.changePage},null,8,["page","onChangePage"])):(0,l.kq)("",!0)],64))])):(0,l.kq)("",!0)])),_:1})]),Ee])],2),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l.Wm)(a.uT,{name:"rows"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(l.Ob,null,[r.show_filters?((0,l.wg)(),(0,l.j4)(v,{key:0,onClose:d.close_filters,onAccept:d.accept_filters},null,8,["onClose","onAccept"])):(0,l.kq)("",!0)],1024))])),_:1})]))],64)}const Ue=e=>((0,l.dD)("data-v-a9b1f83e"),e=e(),(0,l.Cn)(),e),Be={class:"input-select"},Ke=Ue((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"#757575",d:"M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"})],-1))),Xe=[Ke],Qe=["disabled","placeholder"],Je={key:0,class:"list top w-[93%] sm:w-fit",ref:"listRef"},Re=["onClick"],$e=["onUpdate:modelValue"],et={key:0,class:"placeholder"},tt=Ue((()=>(0,l._)("div",null,[(0,l._)("div",{class:"title"}),(0,l._)("div",{class:"text"})],-1))),st=Ue((()=>(0,l._)("div",{class:"aside"},null,-1))),lt=[tt,st];function it(e,t,s,o,r,d){return(0,l.wg)(),(0,l.iD)("div",Be,[s.special?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)(["title",{title_checked:o.showList}]),onClick:t[0]||(t[0]=e=>s.disabled?null:o.openList()),ref:"title"},[(0,l._)("p",null,(0,i.zw)(s.placeholder),1),s.disabled?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)(["arrow",{rotate_arrow:o.showList}])},Xe,2))],2)):(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text",class:(0,i.C_)(["sls_input",{input_uderline:s.input_uderline,black_text:s.SelectedInTitle&&s.selected?.name}]),"onUpdate:modelValue":t[1]||(t[1]=e=>o.inputValue=e),onClick:t[2]||(t[2]=e=>o.openList()),disabled:s.disabled,placeholder:s.SelectedInTitle&&s.selected?.name?s.selected?.name:s.placeholder,ref:"title"},null,10,Qe)),[[a.nr,o.inputValue]]),o.showList?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l._)("div",{class:"backdrop",onClick:t[3]||(t[3]=e=>o.closeList())}),(0,l.Wm)(a.W3,{name:"list"},{default:(0,l.w5)((()=>[s.list.length?((0,l.wg)(),(0,l.iD)("ul",Je,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.list,(e=>((0,l.wg)(),(0,l.iD)("li",{class:(0,i.C_)(["item",{selected:e.value===s.selected?.value}]),key:e.value,onClick:t=>o.selectItem(e)},[s.special?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,type:"number",class:"sls_input","onUpdate:modelValue":t=>e.specialValue=t,style:{width:"100px","min-width":"1%"},placeholder:"введите кол-во",onClick:t[4]||(t[4]=(0,a.iM)((()=>{}),["stop"]))},null,8,$e)),[[a.nr,e.specialValue]]):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,i.zw)(e.name),1)],10,Re)))),128))],512)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[o.showPlaceholder?((0,l.wg)(),(0,l.iD)("div",et,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(4,(e=>(0,l._)("div",{class:"item",key:e},lt))),64))])):(0,l.kq)("",!0)],64))])),_:1})],64)):(0,l.kq)("",!0)])}var at=s(4870),ot=s(6367);const rt={props:{list:Array,selected:{type:Object,required:!1},countLettersReq:{type:Number,required:!1,default:()=>0},requestDelay:{type:Number,required:!1,default:()=>300},placeholder:{type:String,required:!1},input_uderline:{type:Boolean,required:!1,default:()=>!1},SelectedInTitle:{type:Boolean,required:!1,default:()=>!1},special:{type:Boolean,required:!1,default:()=>!1},disabled:{type:Boolean,required:!1,default:()=>!1},allow_add_with_zero_count:{type:Boolean,required:!1,default:()=>!1},one_wh_per_lead:{type:Boolean,required:!1,default:()=>!1}},emits:["changeInputValue","focusIn","select"],setup(e,t){const s=(0,at.iH)(""),i=(0,at.iH)(null),a=(0,at.iH)(!1),o=()=>{a.value=!1,clearTimeout(i.value),s.value.length>=e.countLettersReq&&(a.value=!0,i.value=setTimeout((()=>{t.emit("changeInputValue",s.value),setTimeout((()=>a.value=!1),3*e.requestDelay)}),e.requestDelay))};(0,l.YP)(s,(()=>o()));const r=(0,at.iH)(!1),d=()=>r.value=!1,n=()=>(r.value=!0,c(),o()),c=()=>t.emit("focusIn"),u=e=>{t.emit("select",e),d(),s.value=""};e.special&&(0,l.YP)(e.list,(()=>{e.list.map((t=>{t.specialValue>t.count&&!e.allow_add_with_zero_count&&(t.specialValue=t.count),t.specialValue<0&&(t.specialValue=0)}))}),{deep:!0}),(0,l.YP)(r,(()=>{(0,l.Y3)((()=>p()))}));const p=()=>{const e=h.value?.getBoundingClientRect();v.value=window.innerHeight-e?.bottom+e?.height+6+"px",g.value=e?.width-2+"px",m.value=e?.x+"px",w.value=e?.bottom+6+"px",f.value&&(window.innerHeight-e?.bottom+e?.height+2<400?f.value.classList.contains("top")&&(f.value.classList.add("bottom"),f.value.classList.remove("top")):f.value.classList.contains("bottom")&&(f.value.classList.remove("bottom"),f.value.classList.add("top")))},h=(0,at.iH)(null),g=(0,at.iH)(null),m=(0,at.iH)(null),w=(0,at.iH)(null),v=(0,at.iH)(null),f=(0,at.iH)(null),_=(0,ot.CDf)(h);return(0,l.YP)(_,(()=>{_.value?(window.addEventListener("scroll",p),window.addEventListener("resize",p)):(window.removeEventListener("scroll",p),window.removeEventListener("resize",p))})),{inputValue:s,showList:r,closeList:d,openList:n,selectItem:u,showPlaceholder:a,title:h,optionsWidth:g,optionsX:m,optionsY:w,optionsBottom:v,listRef:f,titleIsVisible:_}}},dt=()=>{(0,a.sj)((e=>({"637cb0c8":e.optionsY,"56141e30":e.optionsBottom,"007ce92e":e.optionsWidth,"637cb0ca":e.optionsX})))},nt=rt.setup;rt.setup=nt?(e,t)=>(dt(),nt(e,t)):dt;var ct=rt,ut=s(89);const pt=(0,ut.Z)(ct,[["render",it],["__scopeId","data-v-a9b1f83e"]]);var ht=pt;const gt=e=>((0,l.dD)("data-v-62019bc2"),e=e(),(0,l.Cn)(),e),mt={class:"app_modal"},wt={class:"sls_container w-full sm:w-[95%] sm:mt-2 md:w-[90%] mt-0 mx-auto md:mt-7"},vt={class:"sls_header flex-col md:flex-row justify-between pl-3 pr-9 pt-2.5 md:px-[50px]"},ft={class:"saved"},_t=["onClick"],bt=gt((()=>(0,l._)("path",{fill:"red",d:"M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12M8 9h8v10H8V9m7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5Z"},null,-1))),yt=[bt],kt=gt((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 15 15"},[(0,l._)("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.782 4.032a.575.575 0 1 0-.813-.814L7.5 6.687L4.032 3.218a.575.575 0 0 0-.814.814L6.687 7.5l-3.469 3.468a.575.575 0 0 0 .814.814L7.5 8.313l3.469 3.469a.575.575 0 0 0 .813-.814L8.313 7.5l3.469-3.468Z","clip-rule":"evenodd"})],-1))),xt=[kt],Ct={class:"sls_content px-3 pt-4 md:px-[50px]"};function Pt(e,t,s,a,o,r){const d=(0,l.up)("main-grid");return(0,l.wg)(),(0,l.iD)("div",mt,[(0,l._)("div",{class:"sls_backdrop_with_filter",onClick:t[0]||(t[0]=e=>a.close())}),(0,l._)("div",wt,[(0,l._)("div",vt,[(0,l._)("div",ft,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.savedAllWhsList,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:e,class:"item"},[(0,l.Uk)((0,i.zw)(e[0].product_name)+" : "+(0,i.zw)(e.reduce(((e,t)=>e+Number(t.specialValue)),0))+" ",1),((0,l.wg)(),(0,l.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"shrink-0",onClick:e=>a.deleteSavedAllWhsList(t)},yt,8,_t))])))),128))]),a.savedAllWhsList.length?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"sls_btn btn2 my-2 md:my-0",onClick:t[1]||(t[1]=e=>a.accepMainGridRef())},(0,i.zw)(e.$t("widjet.add")),1)):(0,l.kq)("",!0),(0,l._)("button",{class:"exit",onClick:t[2]||(t[2]=e=>a.close())},xt)]),(0,l._)("div",Ct,[((0,l.wg)(),(0,l.j4)(l.Ob,null,[(0,l.Wm)(d,{onChangeSavedAllWhsList:a.changeSavedAllWhsList,onAccept:a.accept,class:"main_grid",ref:"mainGridRef"},null,8,["onChangeSavedAllWhsList","onAccept"])],1024))])])])}const Dt={class:"wrapper"},Lt={class:"main"},Wt={key:1,class:"table",ref:"table"},St={key:0},jt={class:"item"},Ot={key:0},Ft=["onUpdate:modelValue"],qt={key:1},Zt={key:0,class:"item"},At={key:1,class:"item"},zt={key:0},Vt={key:1},It={key:2,class:"text"},Tt={class:"right"};function Yt(e,t,s,o,r,d){const n=(0,l.up)("TableSettings"),c=(0,l.up)("MainGridFilters"),u=(0,l.up)("AppTablePreloader"),p=(0,l.up)("main-grid-bar"),h=(0,l.up)("AppInputSelect"),g=(0,l.up)("AppImagesCarusel"),m=(0,l.up)("grid-bottom");return(0,l.wg)(),(0,l.iD)(l.HY,null,[((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l.Wm)(a.uT,{name:"modal"},{default:(0,l.w5)((()=>[d.showTableSettings?((0,l.wg)(),(0,l.j4)(n,{key:0,onClose:d.closeTableSettings},null,8,["onClose"])):(0,l.kq)("",!0)])),_:1})])),(0,l._)("div",Dt,[d.all_fields.length&&d.tableConfig!={}&&d.sortedFields.length?((0,l.wg)(),(0,l.j4)(c,{key:0,ref:"filters",fields:d.all_fields,tableConfig:d.tableConfig,sortedFields:d.sortedFields2,onConfirm:t[0]||(t[0]=()=>d.get_products(d.productsParams))},null,8,["fields","tableConfig","sortedFields"])):(0,l.kq)("",!0),(0,l._)("div",Lt,[r.showSpinner||r.isLoading?((0,l.wg)(),(0,l.j4)(u,{key:0,class:"overflow-scroll",titles:d.titlesForPreloader},null,8,["titles"])):((0,l.wg)(),(0,l.iD)("table",Wt,[(0,l._)("thead",null,[(0,l.Wm)(p,{ref:"bar",fields:d.all_fields,onSort:d.sort,tableConfig:d.tableConfig,sortedFields:d.sortedFields,class:"main-grid-bar"},null,8,["fields","onSort","tableConfig","sortedFields"])]),d.products.length?((0,l.wg)(),(0,l.iD)("tbody",St,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((t,s)=>((0,l.wg)(),(0,l.iD)("tr",{class:"row",key:t.id},[(0,l._)("td",jt,[t.is_service?((0,l.wg)(),(0,l.iD)("div",Ot,[r.allWhsList?.[s]?.length?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,type:"number",class:"sls_input",style:{"min-width":"70px"},"onUpdate:modelValue":e=>r.allWhsList[s][0].specialValue=e},null,8,Ft)),[[a.nr,r.allWhsList[s][0].specialValue]]):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",qt,[(0,l.Wm)(h,{style:{"min-width":"70px"},list:r.allWhsList?.[s]?.filter((e=>(t.allow_add_with_zero_count||!(e?.count<1))&&(!d.selectedWirePerLead.value||e.code==d.selectedWirePerLead.value))),special:!0,requestDelay:0,countLettersReq:0,allow_add_with_zero_count:t.allow_add_with_zero_count,one_wh_per_lead:t.one_wh_per_lead,placeholder:r.allWhsList?.[s]?.reduce(((e,t)=>e+Number(t?.specialValue)),0),onChangeInputValue:e=>r.inputValues[s]=e},null,8,["list","allow_add_with_zero_count","one_wh_per_lead","placeholder","onChangeInputValue"])]))]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.sortedFields,(s=>((0,l.wg)(),(0,l.iD)(l.HY,{key:s},[15===s[1].type?((0,l.wg)(),(0,l.iD)("td",Zt,[(0,l.Wm)(g,{imagesList:t.fields[s[0]]},null,8,["imagesList"])])):((0,l.wg)(),(0,l.iD)("td",At,[s[0].split(".").length<2?((0,l.wg)(),(0,l.iD)("span",zt,(0,i.zw)("free_4_reserve"===s[0]&&-1==t.fields[s[0]]?"∞":"category"==s[0]?d.categories?.[t.fields?.[s?.[0]]]:9==s?.[1]?.type?t.fields?.[s[0]]?e.$t("global.yes"):e.$t("global.no"):"cost_price"==s[0]?t.fields?.[s[0]]?Math.round(100*t.fields?.[s[0]])/100:"0":t.fields?.[s[0]]),1)):((0,l.wg)(),(0,l.iD)("span",Vt,(0,i.zw)("cost"==s[0].split(".")[1]?void 0==t.fields?.[s[0].split(".")[0]]?.[s[0]?.split(".")?.[1]]?"0":t.fields?.[s[0]?.split(".")?.[0]]?.[s[0]?.split(".")?.[1]]+" "+(void 0==t.fields?.[s[0]?.split(".")?.[0]]?.currency||null==t.fields?.[s[0]?.split(".")?.[0]]?.currency?"":t.fields?.[s[0]?.split(".")?.[0]]?.currency):9==s[1].type?t.fields?.[s[0]?.split(".")?.[0]]?.[s[0]?.split(".")?.[1]]?e.$t("global.yes"):e.$t("global.no"):t.fields?.[s[0]?.split(".")?.[0]]?.[s[0]?.split(".")?.[1]]),1))]))],64)))),128))])))),128))])):(0,l.kq)("",!0)],512)),0==d.products.length?((0,l.wg)(),(0,l.iD)("label",It,(0,i.zw)(e.$t("global.nothingFound")),1)):(0,l.kq)("",!0)]),(0,l._)("div",Tt,[(0,l.Wm)(m,{page:d.page,blur:e.show_edit_modal,show:0!=d.products.length,count:d.count,onChangePage:d.changePage,onChangeCount:d.changeCount},null,8,["page","blur","show","count","onChangePage","onChangeCount"])])])],64)}const Mt={class:"modal"},Ht={class:"wrapper mx-auto mt-2 md:mt-7"},Nt={class:"modal-header"},Et={class:"head-text"},Gt={class:"modal-footer sm:hidden"},Ut={class:"modal-body"},Bt={class:"text"},Kt={class:"small-text"},Xt=["onUpdate:modelValue","id","disabled"],Qt=["for"],Jt={key:0,class:"material-icons-outlined handle ml-auto cursor-move"},Rt={class:"modal-footer"};function $t(e,t,s,o,r,d){const n=(0,l.up)("btns-save-close"),c=(0,l.up)("draggable");return(0,l.wg)(),(0,l.iD)("div",Mt,[(0,l._)("div",{class:"backdrop_with_filter sls_backdrop_with_filter",onClick:t[0]||(t[0]=e=>d.close())}),(0,l._)("div",Ht,[(0,l._)("div",Nt,[(0,l._)("div",Et,(0,i.zw)(e.$t("tableSet.name")),1)]),(0,l._)("div",Gt,[(0,l.Wm)(n,{onClose:d.close,onSave:d.save},null,8,["onClose","onSave"])]),(0,l._)("div",Ut,[(0,l._)("div",Bt,[(0,l._)("small",Kt,(0,i.zw)(e.$t("tableSet.sm")),1)]),(0,l.Wm)(c,{class:"dragArea",list:r.list,onChange:e.changeData,handle:e.isMobile?".handle":null},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.list,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"item sm:cursor-move",key:t},[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":e=>t.visible=e,id:t.code,class:"checkbox",disabled:2===t.visible||-1===t.visible},null,8,Xt),[[a.e8,t.visible]]),(0,l._)("label",{for:t.code},null,8,Qt),(0,l.Uk)(" "+(0,i.zw)(t.name)+" ",1),e.isMobile?((0,l.wg)(),(0,l.iD)("span",Jt," reorder ")):(0,l.kq)("",!0)])))),128))])),_:1},8,["list","onChange","handle"])]),(0,l._)("div",Rt,[(0,l.Wm)(n,{onClose:d.close,onSave:d.save},null,8,["onClose","onSave"])])])])}var es=s(8711),ts=s(8249),ss=s(277),ls={components:{draggable:ts.J,BtnsSaveClose:es.Z},props:{},emits:{},setup(){return{...(0,ss.Z)()}},data(){return{list:[]}},computed:{tableConfig(){return this.$store.state.widjetFields.tableConfig}},async mounted(){await this.$store.dispatch("getTableConfigW",{code:"widget"});const e=[];Object.entries(this.tableConfig).map((t=>{t[1].code=t[0],e.push(t[1])})),this.list=JSON.parse(JSON.stringify(e)),this.list.map((e=>{1===e.visible&&(e.visible=!0),0===e.visible&&(e.visible=!1)}))},methods:{async save(){this.list.map(((e,t)=>e.sort=t+1));const e={config:[],code:"widget"};this.list.forEach((t=>{t.visible&&e.config.push(t.code)})),await this.$store.dispatch("updateTableConfigW",e),this.close()},close(){this.$emit("close"),this.$store.commit("toggleShowTableSettings",!1)}}};const is=(0,ut.Z)(ls,[["render",$t],["__scopeId","data-v-b33f65f0"]]);var as=is;const os=e=>((0,l.dD)("data-v-41c705f4"),e=e(),(0,l.Cn)(),e),rs={class:"wrapper flex flex-col md:flex-row items-start justify-between"},ds={class:"filters"},ns={class:"item"},cs={key:0,class:"item"},us={class:"title"},ps=["onClick"],hs=os((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 15 15"},[(0,l._)("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.782 4.032a.575.575 0 1 0-.813-.814L7.5 6.687L4.032 3.218a.575.575 0 0 0-.814.814L6.687 7.5l-3.469 3.468a.575.575 0 0 0 .814.814L7.5 8.313l3.469 3.469a.575.575 0 0 0 .813-.814L8.313 7.5l3.469-3.468Z","clip-rule":"evenodd"})],-1))),gs=[hs],ms={class:"accept_btn self-center sm:self-auto"};function ws(e,t,s,a,o,r){const d=(0,l.up)("selector-vue"),n=(0,l.up)("filter-number"),c=(0,l.up)("filter-text"),u=(0,l.up)("filter-list"),p=(0,l.up)("filter-date"),h=(0,l.up)("filter-flag");return(0,l.wg)(),(0,l.iD)("div",rs,[(0,l._)("div",ds,[(0,l._)("div",ns,[(0,l.Wm)(d,{options_props:r.filteredFiltersValue,selected_option:{name:a.t("widjet.addF"),value:-1},onSelect:r.add_filter},null,8,["options_props","selected_option","onSelect"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.filtersValue,((e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t},[e.selected?((0,l.wg)(),(0,l.iD)("div",cs,[(0,l._)("div",us,(0,i.zw)(e.name),1),1==e.type||2==e.type?((0,l.wg)(),(0,l.j4)(n,{key:0,item:e,idx:t,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),3==e.type||4==e.type?((0,l.wg)(),(0,l.j4)(c,{key:1,item:e,idx:t,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),5==e.type||6==e.type?((0,l.wg)(),(0,l.j4)(u,{key:2,item:e,idx:t,selector_options:e.selector_options,onChange_filter_value:r.change_filter_value},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,l.kq)("",!0),12==e.type?((0,l.wg)(),(0,l.j4)(u,{key:3,item:e,idx:t,selector_options:o.categories_options,onChange_filter_value:r.change_filter_value},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,l.kq)("",!0),7==e.type||8==e.type?((0,l.wg)(),(0,l.j4)(p,{key:4,item:e,idx:t,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),9==e.type?((0,l.wg)(),(0,l.j4)(h,{key:5,item:e,idx:t,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,l.kq)("",!0),(0,l._)("button",{class:"sls_remove",onClick:t=>r.remove_filter(e)},gs,8,ps)])):(0,l.kq)("",!0)],64)))),128))]),(0,l._)("div",ms,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>r.confirmFilters()),class:"btn2 sls_btn"},(0,i.zw)(e.$t("global.apply2")),1),(0,l._)("button",{onClick:t[1]||(t[1]=e=>r.clearFilters()),class:"btn1 sls_btn"},(0,i.zw)(e.$t("global.clear")),1)])])}const vs={class:"filter"};function fs(e,t,s,o,r,d){return(0,l.wg)(),(0,l.iD)("div",vs,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>4==r.option?r.option=0:r.option+=1)},[(0,l._)("span",{class:(0,i.C_)({big:0==r.option})},(0,i.zw)(r.options[r.option]),3)]),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.filterValue=e),type:"number"},null,512),[[a.nr,r.filterValue]])])}var _s={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{option:0,filterValue:null,options:["=",">",">=","<","<="]}},computed:{option_value(){return{option:this.options[this.option],value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,l.Y3)((()=>{this.filterValue=this.item.value,null==this.item.value&&(this.option=0)}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)}}};const bs=(0,ut.Z)(_s,[["render",fs],["__scopeId","data-v-ab8c92a8"]]);var ys=bs;const ks={class:"filter"};function xs(e,t,s,o,r,d){return(0,l.wg)(),(0,l.iD)("div",ks,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>1==r.option?r.option=0:r.option+=1)},[(0,l._)("span",null,(0,i.zw)(r.options[r.option]),1)]),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.filterValue=e),type:"text"},null,512),[[a.nr,r.filterValue]])])}var Cs={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{option:0,filterValue:null,options:["=","~"]}},computed:{option_value(){return{option:this.options[this.option],value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,l.Y3)((()=>{this.filterValue=this.item.value,null==this.item.value&&(this.option=0)}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)}}};const Ps=(0,ut.Z)(Cs,[["render",xs],["__scopeId","data-v-af2e967c"]]);var Ds=Ps;const Ls=e=>((0,l.dD)("data-v-f95673e8"),e=e(),(0,l.Cn)(),e),Ws={class:"filter"},Ss=Ls((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"#757575",d:"M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"})],-1))),js=[Ss];function Os(e,t,s,a,o,r){const d=(0,l.up)("multi-selector");return(0,l.wg)(),(0,l.iD)("div",Ws,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>r.open_selector())},[(0,l._)("div",{class:(0,i.C_)(["arrow",{rotate_arrow:o.show_selector}])},js,2)]),o.show_selector?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("div",{class:"backdrop",onClick:t[1]||(t[1]=e=>r.closeSelector())}),(0,l.Wm)(d,{class:"selector",id:"selector123",options_props:[{name:a.t("global.all"),value:""},...s.selector_options],onSelect:r.option_select_multi,selected_options:o.filterValue,tabindex:"1"},null,8,["options_props","onSelect","selected_options"])],64)):(0,l.kq)("",!0)])}const Fs={class:"multi_selector"},qs=["onClick"];function Zs(e,t,s,a,o,r){return(0,l.wg)(),(0,l.iD)("div",Fs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.options_props,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)(["item",{selected:s.selected_options[t],disabled:s.disabled}]),key:e.value,onClick:e=>a.select(t)},(0,i.zw)(e.name),11,qs)))),128))])}var As={name:"MultiSelector",props:{options_props:{type:Array,required:!0,default(){return[]}},selected_options:{type:Array,required:!0,default(){return[!0]}},disabled:{type:Boolean,required:!1,default(){return!1}}},emits:{select:null},setup(e,{emit:t}){const s=(0,at.iH)([]);(0,l.bv)((()=>s.value=[...e.selected_options])),(0,l.YP)((()=>e.selected_options),(()=>{s.value=[...e.selected_options]}),{deep:!0});const i=l=>{e.disabled||(0==l&&(s.value=[]),1==s.value[0]&&(s.value[0]=!1),s.value[l]=!s.value[l],s.value.includes(!0)||(s.value[0]=!0),t("select",s.value))};return{options_value:s,select:i}}};const zs=(0,ut.Z)(As,[["render",Zs],["__scopeId","data-v-0c74e135"]]);var Vs=zs,Is=s(2489);const{t:Ts}=(0,Is.j)();var Ys={components:{MultiSelector:Vs},props:{item:{type:Object,required:!0},idx:{type:Number,required:!0},selector_options:{type:Array,required:!0}},setup(){return{t:Ts}},data(){return{filterValue:[],show_selector:!1}},computed:{option_value(){return{value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,l.Y3)((()=>{this.filterValue=[!1],this.item.value.forEach(((e,t)=>{this.filterValue[t+1]=e}))}))},emit_value(){const e={value:[]},t=[{name:Ts("global.all"),value:""},...this.selector_options];this.option_value.value.forEach(((s,l)=>s?12==this.item.type?e.value.push(t[l]?.value):e.value.push(t[l]?.name):null)),this.$emit("change_filter_value",e,this.idx)},option_select_multi(e){this.filterValue=e},open_selector(){this.show_selector=!0,(0,l.Y3)((()=>{this.show_selector&&document.getElementById("selector123").focus()}))},handleFocusOut(){setTimeout((()=>{(0,l.Y3)((()=>{this.show_selector=!1}))}),150)},closeSelector(){this.show_selector=!1}}};const Ms=(0,ut.Z)(Ys,[["render",Os],["__scopeId","data-v-f95673e8"]]);var Hs=Ms;const Ns={key:0,class:"filter"},Es={key:1,class:"filter"};function Gs(e,t,s,i,o,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[7==s.item.type?((0,l.wg)(),(0,l.iD)("div",Ns,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>i.date_start=e)},null,512),[[a.nr,i.date_start]]),(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>i.date_end=e)},null,512),[[a.nr,i.date_end]])])):(0,l.kq)("",!0),8==s.item.type?((0,l.wg)(),(0,l.iD)("div",Es,[(0,l.wy)((0,l._)("input",{type:"datetime-local","onUpdate:modelValue":t[2]||(t[2]=e=>i.date_start=e)},null,512),[[a.nr,i.date_start]]),(0,l.wy)((0,l._)("input",{type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=e=>i.date_end=e)},null,512),[[a.nr,i.date_end]])])):(0,l.kq)("",!0)],64)}var Us={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},emits:{change_filter_value:null},setup(e,{emit:t}){const s=(0,at.iH)(""),i=(0,at.iH)(""),a=(0,l.Fl)((()=>({value:`${s.value}~${i.value}`})));function o(){t("change_filter_value",a.value,e.idx)}function r(){if(e.item.value){const[t,l]=e.item.value.split("~");s.value=t,i.value=l}else s.value="",i.value=""}return(0,l.bv)((()=>{(0,l.Y3)((()=>{r()}))})),(0,l.YP)((()=>e.item.value),(()=>{r()})),(0,l.YP)(a,(()=>o())),{date_start:s,date_end:i,emit_value:o}}};const Bs=(0,ut.Z)(Us,[["render",Gs],["__scopeId","data-v-63272124"]]);var Ks=Bs;const Xs={class:"filter"};function Qs(e,t,s,i,a,o){const r=(0,l.up)("selector-vue");return(0,l.wg)(),(0,l.iD)("div",Xs,[(0,l.Wm)(r,{options_props:i.options,onSelect:i.option_select,selected_option:i.options[i.filterValue-1]},null,8,["options_props","onSelect","selected_option"])])}const Js=e=>((0,l.dD)("data-v-0a28a4c8"),e=e(),(0,l.Cn)(),e),Rs={class:"v-select"},$s=Js((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"#757575",d:"M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"})],-1))),el=[$s],tl={class:"options",key:"a1"},sl=["onClick"],ll={key:0,class:"material-icons-outlined opacity-50"};function il(e,t,s,o,r,d){return(0,l.wg)(),(0,l.iD)("div",Rs,[(0,l._)("div",{class:(0,i.C_)(["title",{title_checked:o.show_options,disabled:s.disabled}]),onClick:t[0]||(t[0]=e=>o.open_close_options()),onFocusout:t[1]||(t[1]=(...e)=>o.handleFocusOut&&o.handleFocusOut(...e)),tabindex:"0"},[(0,l._)("p",null,(0,i.zw)(s.selected_option.name),1),s.disabled?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)(["arrow",{rotate_arrow:o.show_options}])},el,2))],34),(0,l.Wm)(a.uT,{name:"list"},{default:(0,l.w5)((()=>[o.show_options?((0,l.wg)(),(0,l.iD)("div",tl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.options,(e=>((0,l.wg)(),(0,l.iD)("p",{key:e.value,class:(0,i.C_)({optgroup:"optgroup"===e.value,selected:e.value==s.selected_option.value}),style:(0,i.j5)({backgroundColor:e.color}),onClick:t=>o.select_option(e)},[e.value==s.selected_option.value&&e.color?((0,l.wg)(),(0,l.iD)("span",ll," check ")):(0,l.kq)("",!0),e.optgroup?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)("     "+(0,i.zw)(e.name),1)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l.Uk)((0,i.zw)(e.name),1)],64))],14,sl)))),128))])):(0,l.kq)("",!0)])),_:1})])}var al={props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0,default(){return{}}},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},emits:{select:null},setup(e,{emit:t}){const s=(0,at.iH)([]);(0,l.bv)((()=>{(0,l.Y3)((()=>{i()}))}));const i=()=>{s.value=[],e.options_props?.forEach((e=>s.value.push(e)))};(0,l.YP)((()=>e.options_props),(()=>{i()}),{deep:!0});const a=(0,at.iH)(!1),o=()=>{a.value=!1},r=()=>{e.disabled||(a.value=!a.value)},d=()=>{o()},n=s=>{"optgroup"!=s.value&&(t("select",s,e.idx),o())};return{open_close_options:r,handleFocusOut:d,show_options:a,options:s,select_option:n}}};const ol=(0,ut.Z)(al,[["render",il],["__scopeId","data-v-0a28a4c8"]]);var rl=ol,dl={components:{SelectorVue:rl},props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},setup(e,{emit:t}){const{t:s}=(0,Is.j)(),i=(0,at.iH)([{name:s("global.all"),value:1},{name:s("global.yes"),value:2},{name:s("global.no"),value:3}]),a=(0,at.iH)(1),o=(0,l.Fl)((()=>({value:a.value})));(0,l.YP)(o,(()=>{t("change_filter_value",o.value,e.idx)}),{deep:!0});const r=()=>{(0,l.Y3)((()=>{a.value=e.item.value}))},d=e=>{a.value=e.value};return(0,l.YP)((()=>e.item),r),r(),{options:i,filterValue:a,option_value:o,option_select:d}}};const nl=(0,ut.Z)(dl,[["render",Qs],["__scopeId","data-v-f7e48aa6"]]);var cl=nl;const{t:ul}=(0,Is.j)();var pl={props:{fields:{type:Array,required:!0,default(){return[]}},sortedFields:{type:Array,required:!0,default(){return[]}},tableConfig:{type:Object}},components:{FilterNumber:ys,FilterText:Ds,FilterList:Hs,FilterDate:Ks,FilterFlag:cl,SelectorVue:rl},setup(){return{t:ul}},data(){return{filtersValue:[],categories_options:[],isConfirmFilters:!1,filter:{}}},computed:{productsParams(){return this.$store.state.widjetProducts.productsParams},filteredFiltersValue(){return this.filtersValue.filter((e=>!e.selected))}},async mounted(){Promise.all([this.$store.dispatch("get_fields_propertiesW"),this.$store.dispatch("get_fields_properties2W")]),this.get_categories_options(),this.feelFilters()},watch:{sortedFields:{handler:function(){this.feelFilters()},deep:!0}},methods:{add_filter(e){e.selected=!0},remove_filter(e){e.selected=!1;let t=null;5!=e.type&&6!=e.type||(t=[]),9==e.type&&(t=1),12==e.type&&(t=[]),e.value=t,this.confirmFilters()},searchTitle(e){let t="";const[s,l]=e.split(".");return t=this.fields.find((e=>e.code===s))?.name,"count"===l&&(t+=ul("widjet.sk")),"reserve"===l&&(t+=ul("widjet.res")),"is_nds"===l&&(t+=ul("widjet.nds3")),"is_price_include_nds"===l&&(t+=ul("widjet.nds4")),"nds"===l&&(t+=ul("widjet.nds5")),t},clearFilters(){this.feelFilters(),this.confirmFilters()},confirmFilters(){this.isConfirmFilters=!0;const e={};this.filtersValue.filter((e=>null!=e.value&&""!==e.value&&e.selected)).forEach((t=>{if(1!=t.type&&2!=t.type||(e[t.code]={compare:t.option,query:t.value}),3!=t.type&&4!=t.type||(e[t.code]={compare:t.option,query:t.value}),5!=t.type&&6!=t.type&&12!=t.type||t.value?.length&&(e[t.code]={compare:"in",query:t.value}),7==t.type){const s=t.value.split("~");s.forEach(((e,t)=>s[t]=e.split("-").join("."))),e[t.code]={from:s[0],to:s[1]}}if(8==t.type){const s=t.value.split("~");s.forEach(((e,t)=>{const l=e.split("T");l[0]=l[0].split("-").join("."),s[t]=l.join(" ")})),e[t.code]={from:s[0],to:s[1]}}})),this.filter=e,this.$store.commit("updateProductsParamsW",{filter:e,page:1}),this.$emit("confirm")},change_filter_value(e,t){Object.assign(this.filtersValue[t],e)},setFalseIsConfirmFilters(){this.isConfirmFilters=!1},setTrueIsConfirmFilters(){this.isConfirmFilters=!0},feelFilters(){this.filtersValue=[];const e=[];this.sortedFields.forEach((t=>{let s={};s={...this.fields.filter((e=>e.code.split(".")[0]==t[0].split(".")[0]))[0]},s.type=t[1].type,s.code=t[0],e.push(s)})),e.forEach((e=>{const t=e=>{const t=[];return null!=e&&e.forEach(((e,s)=>t.push({name:e,value:s}))),t};let s=null;5!=e.type&&6!=e.type||(s=[]),9==e.type&&(s=1),12==e.type&&(s=[]);const l={type:e.type,code:e.code,option:"=",selector_options:t(e.data),value:s,table_config:e.table_config,selected:!1,name:this.searchTitle(e.code)};this.filtersValue.push(l)}));const t={type:9,code:"isAvailable",option:"=",selector_options:[],value:1,table_config:{filtered:1,sort:2,sortable:1,visible:1},selected:!1,name:ul("widjet.av")};this.filtersValue.push(t)},get_categories_options(){this.$store.state.widjetCategories.fields_properties2.forEach((e=>{let t="";for(let s=1;s<e.level;s++)t+="-    ";this.categories_options.push({name:t+e.name,value:e.id})}))}}};const hl=(0,ut.Z)(pl,[["render",ws],["__scopeId","data-v-41c705f4"]]);var gl=hl;const ml=e=>((0,l.dD)("data-v-dc235b08"),e=e(),(0,l.Cn)(),e),wl={class:"bar_row"},vl={class:"bar_item item"},fl=ml((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"},[(0,l._)("path",{fill:"#757575",d:"M495.9 166.6c3.2 8.7.5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4l-55.6 17.8c-8.8 2.8-18.6.3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4c-1.1-8.4-1.7-16.9-1.7-25.5s.6-17.1 1.7-25.4l-43.3-39.4c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160a80 80 0 1 0 0 160z"})],-1))),_l=[fl],bl=["onClick"],yl={class:"bar_item_group"},kl={key:0,class:"bar_item_icon"},xl={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Cl=ml((()=>(0,l._)("path",{fill:"none",stroke:"#757575","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v14m4-10l-4-4M8 9l4-4"},null,-1))),Pl=[Cl],Dl={key:1,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ll=ml((()=>(0,l._)("path",{fill:"none",stroke:"#757575","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v14m4-4l-4 4m-4-4l4 4"},null,-1))),Wl=[Ll],Sl={key:2,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},jl=ml((()=>(0,l._)("path",{fill:"none",stroke:"#757575","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m11 16l-3 3m0 0l-3-3m3 3V5m5 3l3-3m0 0l3 3m-3-3v14"},null,-1))),Ol=[jl];function Fl(e,t,s,a,o,r){return(0,l.wg)(),(0,l.iD)("tr",wl,[(0,l._)("th",vl,[(0,l._)("div",{onClick:t[0]||(t[0]=e=>r.openTableSettings()),class:"tableSettings"},_l)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.sortedFields,((e,t)=>((0,l.wg)(),(0,l.iD)("th",{class:"bar_item item",style:(0,i.j5)({minWidth:0!=r.width[t]?r.width[t]+"px":(r.collsCount>=8||r.collsCount,100/r.collsCount+"%")}),onClick:t=>e[1].sortable&&9!=e[1].type?r.sort(e[0]):null,key:e},[(0,l._)("div",yl,[(0,l._)("label",null,(0,i.zw)(e[1].name),1),e[1].sortable&&9!=e[1].type?((0,l.wg)(),(0,l.iD)("button",kl,[o.order.code===e[0]&&"desc"===o.order.prev_order?((0,l.wg)(),(0,l.iD)("svg",xl,Pl)):o.order.code===e[0]&&"asc"===o.order.prev_order?((0,l.wg)(),(0,l.iD)("svg",Dl,Wl)):((0,l.wg)(),(0,l.iD)("svg",Sl,Ol))])):(0,l.kq)("",!0)])],12,bl)))),128))])}var ql=s(65),Zl={props:{fields:{type:Array,required:!0,default(){return[]}},sortedFields:{type:Array,required:!0,default(){return[]}},tableConfig:{type:Object}},data(){return{order:{code:"",prev_order:""},disableExportXlsx:!1,allSelectedProducts:!1}},computed:{...(0,ql.Se)(["fields"]),collsCount(){return this.tableConfig.length},productsParams(){return this.$store.state.widjetProducts.productsParams},width(){let e=[];return this.fields.forEach((t=>{let s=0;9==t.type&&(s=90),7!=t.type&&8!=t.type||(s=150),e.push(s)})),e}},methods:{isShow(e){let t=!1;return Object.entries(this.tableConfig).forEach((s=>{s[0].split(".")[0]==e&&s[1]?.visible&&(t=!0)})),t},dropOrder(){this.order={code:"",prev_order:""}},sort(e){const t=["asc","desc"];let s="";s=this.order.code===e&&this.order.prev_order==t[0]?t[1]:t[0],this.order={code:e,prev_order:s},e.split(".").length>1&&(e=e.split(".").join("->")),this.$emit("sort",e,s)},async exportXlsx(){this.disableExportXlsx=!0,this.$store.commit("openCloseTaskCenter",!0),setTimeout((()=>{this.$store.commit("openCloseTaskCenter",!1)}),5e3);const{sort:e,filter:t}=this.productsParams,s=[];Object.entries(this.tableConfig).filter((e=>e[1].visible)).sort(((e,t)=>e[1].sort>t[1].sort?1:e[1].sort==t[1].sort?0:e[1].sort<t[1].sort?-1:void 0)).forEach((e=>s.push(e[0])));const l={sort:e,filter:t,config:s};this.$store.dispatch("exportXlsx",l)},changeAllSelectedProducts(){this.$emit("changeAllSelectedProducts",this.allSelectedProducts)},dropAllSelectedProducts(){this.allSelectedProducts=!1},openTableSettings(){this.$store.commit("toggleShowTableSettings",!0)}}};const Al=(0,ut.Z)(Zl,[["render",Fl],["__scopeId","data-v-dc235b08"]]);var zl=Al;function Vl(e,t,s,a,o,r){const d=(0,l.up)("AppPaginator"),n=(0,l.up)("AppInputSelect");return s.show?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)(["bottom",{blur:s.blur}])},[s.showBtns?((0,l.wg)(),(0,l.j4)(d,{key:0,page:s.page,onChangePage:r.changePage},null,8,["page","onChangePage"])):(0,l.kq)("",!0),s.showSelector?((0,l.wg)(),(0,l.j4)(n,{key:1,class:"count",list:o.count_values,selected:{name:s.count,value:s.count},SelectedInTitle:!0,onSelect:r.change_count},null,8,["list","selected","onSelect"])):(0,l.kq)("",!0)],2)):(0,l.kq)("",!0)}const Il={class:"grid"},Tl={class:"current d"};function Yl(e,t,s,a,o,r){return(0,l.wg)(),(0,l.iD)("div",Il,[s.page.current!=s.page.first&&null!=s.page.prev?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>a.prev()),class:"a"},(0,i.zw)("<"))):(0,l.kq)("",!0),s.page.current!=s.page.first&&s.page.prev!=s.page.first?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>a.first()),class:"b"},(0,i.zw)(s.page.first),1)):(0,l.kq)("",!0),s.page.current!=s.page.first&&null!=s.page.prev?((0,l.wg)(),(0,l.iD)("button",{key:2,onClick:t[2]||(t[2]=e=>a.prev()),class:"c"},(0,i.zw)(s.page.prev),1)):(0,l.kq)("",!0),(0,l._)("button",Tl,(0,i.zw)(s.page.current),1),s.page.current!=s.page.last&&null!=s.page.next?((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:t[3]||(t[3]=e=>a.next()),class:"e"},(0,i.zw)(s.page.next),1)):(0,l.kq)("",!0),s.page.current!=s.page.last&&s.page.next!=s.page.last?((0,l.wg)(),(0,l.iD)("button",{key:4,onClick:t[4]||(t[4]=e=>a.last()),class:"f"},(0,i.zw)(s.page.last),1)):(0,l.kq)("",!0),s.page.current!=s.page.last&&null!=s.page.next?((0,l.wg)(),(0,l.iD)("button",{key:5,onClick:t[5]||(t[5]=e=>a.next()),class:"g"},(0,i.zw)(">"))):(0,l.kq)("",!0)])}var Ml={props:{page:Object},emits:{changePage(e){return e>0&&"number"===typeof e}},setup(e,t){const s=()=>t.emit("changePage",e.page.first),l=()=>t.emit("changePage",e.page.current-1),i=()=>t.emit("changePage",e.page.current+1),a=()=>t.emit("changePage",e.page.last);return{prev:l,first:s,next:i,last:a}}};const Hl=(0,ut.Z)(Ml,[["render",Yl],["__scopeId","data-v-67ebe89a"]]);var Nl=Hl,El={components:{AppInputSelect:ht,AppPaginator:Nl},props:{previous:{type:Boolean,required:!1},next:{type:Boolean,required:!1},page:{type:Object,required:!1,default(){return{first:1,prev:null,current:1,next:null,last:1}}},count:{type:Number,required:!0},blur:{type:Boolean,required:!1,default:!1},show:{type:Boolean,required:!1,default:!0},showBtns:{type:Boolean,required:!1,default:!0},showSelector:{type:Boolean,required:!1,default:!0}},emits:{changePage:null,changeCount:null},data(){return{count_values:[{name:"10",value:10},{name:"20",value:20},{name:"50",value:50}]}},mounted(){},computed:{},methods:{changePage(e){this.$emit("changePage",e)},change_count(e){this.$emit("changeCount",e.name)}}};const Gl=(0,ut.Z)(El,[["render",Vl],["__scopeId","data-v-f776f9fa"]]);var Ul=Gl,Bl=s(4547),Kl=s(8755),Xl=s(5971),Ql={name:"MainGrid",components:{TableSettings:as,MainGridFilters:gl,MainGridBar:zl,GridBottom:Ul,AppInputSelect:ht,AppTablePreloader:Bl.Z,AppImagesCarusel:Kl.Z},props:{},emits:{accept:null},data(){return{isLoading:!1,inputValues:[],allWhsList:[],savedAllWhsList:[],showSpinner:!1}},computed:{page(){const e={first:this.getPageFromLink(this.meta?.links?.first),prev:this.getPageFromLink(this.meta?.links?.prev),current:this.meta?.meta?.current_page,next:this.getPageFromLink(this.meta?.links?.next),last:this.getPageFromLink(this.meta?.links?.last)};return e},count(){return this.productsParams?.per_page},meta(){return this.$store.state.widjetProducts.meta},products(){return this.$store.state.widjetProducts.allProducts},productsParams(){return this.$store.state.widjetProducts.productsParams},all_fields(){return this.$store.state.widjetFields.all_fields},tableConfig(){return this.$store.state.widjetFields.tableConfig},selectedWirePerLead(){return this.$store.state.widjetProducts.selectedWirePerLead},showTableSettings(){return this.$store.state.widjetFields.showTableSettings},sortedFields(){const e=Object.entries(this.tableConfig);return e.sort(((e,t)=>e[1].sort>t[1].sort?1:e[1].sort==t[1].sort?0:e[1].sort<t[1].sort?-1:void 0)).filter((e=>e[1]?.visible))},sortedFields2(){const e=Object.entries(this.tableConfig);return e.sort(((e,t)=>e[1].sort>t[1].sort?1:e[1].sort==t[1].sort?0:e[1].sort<t[1].sort?-1:void 0))},categories(){const e={};return this.$store.state.widjetCategories.fields_properties2.forEach((t=>e[t.id]=t.name)),e},savedAllWhsListIds(){const e=[];return this.savedAllWhsList.forEach((t=>e.push(t[0].product_id))),e},titlesForPreloader(){return Object.values(this.tableConfig).reduce(((e,t)=>(t.visible&&e.push(t.name),e)),[])}},async activated(){this.isLoading=!0,document.body.style.overflowY="hidden",await Promise.all([this.$store.dispatch("getTableConfigW",{code:"widget"}),this.$store.dispatch("get_fields_properties2W"),this.$store.dispatch("getAllFieldsW"),this.get_products(this.productsParams)]),this.isLoading=!1},deactivated(){document.body.style.overflowY="auto"},watch:{products:{handler:function(){this.fillAllWhsList()},deep:!0},allWhsList:{handler:function(){this.saveAllWhsList(),this.saveSelectedWirePerLead()},deep:!0}},methods:{async accept(){const e=[];this.savedAllWhsList.forEach((t=>{t?.forEach((t=>{if(t.specialValue){const s={product_id:t.is_service?t.product_id:t.product_id+"%%%"+t.code,count:t.specialValue};e.push(this.$store.dispatch(Xl.gp.value?"POOrderPositionAdd":"addProduct3W",s))}}))})),await Promise.all(e),this.savedAllWhsList=[],this.allWhsList=[],this.$emit("changeSavedAllWhsList",this.savedAllWhsList),this.$emit("accept")},fillAllWhsList(){this.saveAllWhsList();const e=[];this.products.forEach((t=>{const s=this.savedAllWhsList.find((e=>e[0].product_id===t.id));if(s)e.push(s);else if(t.is_service)e.push([{name:"Основной склад   |   0",value:"wh",specialValue:null,product_id:`${t.id}%%%`,is_service:t.is_service,product_name:t.fields?.name}]);else{const s=t.whs?.map((e=>({...e})));s.map((e=>{e.name=e.name+"   |   "+e.count,e.value=e.code,e.specialValue=null,e.product_id=t.id,e.is_service=t.is_service,e.product_name=t.fields?.name})),e.push(s)}})),this.allWhsList=e},saveAllWhsList(){const e=this.allWhsList.filter((e=>{const t=e.reduce(((e,t)=>e+Number(t.specialValue)),0);return t}));if(this.savedAllWhsList.length){const t={};this.savedAllWhsList.forEach(((s,l)=>{const i=s[0].product_id;e.forEach((e=>{e[0].product_id===i?this.savedAllWhsList[l]=e:this.savedAllWhsListIds.includes(e[0].product_id)||(t[e[0].product_id]=e)}))})),this.savedAllWhsList=[...this.savedAllWhsList,...Object.values(t)],this.savedAllWhsList=this.savedAllWhsList.filter((e=>e.reduce(((e,t)=>e+Number(t.specialValue)),0)))}else this.savedAllWhsList=[...this.savedAllWhsList,...e];this.$emit("changeSavedAllWhsList",this.savedAllWhsList)},deleteSavedAllWhsList(e){const t=this.savedAllWhsList[e]?.[0]?.product_id,s=this.allWhsList.find((e=>e[0]?.product_id===t));s&&s.map((e=>e.specialValue=null)),this.savedAllWhsList.splice(e,1),this.$emit("changeSavedAllWhsList",this.savedAllWhsList)},fillInputValues(){this.products.forEach((()=>this.inputValues.push("")))},getPageFromLink(e){return e?e.split("?page=")[1]:null},async clearFilters(){await(this.filters?.clearFilters()),this.filters?.confirmFilters()},confirmFilters(){this.filters?.confirmFilters()},async changeCount(e){this.$store.commit("updateProductsParamsW",{per_page:e}),this.drop_page()},changePage(e){const t={page:e};this.$store.commit("updateProductsParamsW",t),this.get_products(this.productsParams)},async get_products(e){this.showSpinner=!0,await this.$store.dispatch("getAllProductsW",{...e,leadId:29768593}),this.fillInputValues(),this.showSpinner=!1},drop_page(){this.changePage(1)},sort(e,t){const s={page:1,sort:{by:e,order:t}};this.$store.commit("updateProductsParamsW",s),this.get_products(this.productsParams)},async closeTableSettings(){this.isLoading=!0,await Promise.all([this.$store.dispatch("getTableConfigW",{code:"widget"}),this.$store.dispatch("getAllFieldsW"),this.get_products(this.productsParams)]),this.isLoading=!1},saveSelectedWirePerLead(){let e=null;this.products[0]?.one_wh_per_lead&&(e=this.savedAllWhsList[0]?.find((e=>e?.specialValue>0))?.code),e==this.selectedWirePerLead.value&&this.selectedWirePerLead.sources.includes("MG")||this.$store.commit("updateSelectedWirePerLeadW",{source:"MG",value:e})}}};const Jl=(0,ut.Z)(Ql,[["render",Yt],["__scopeId","data-v-c03f7aea"]]);var Rl=Jl,$l={components:{MainGrid:Rl},emits:{close:null},setup(e,t){const s=()=>{t.emit("close")},i=()=>{a.value=[],t.emit("accept"),s()},a=(0,at.iH)([]),o=e=>{a.value=[...e]},r=(0,at.iH)(null),d=e=>{r.value&&(0,l.Y3)((()=>r.value?.deleteSavedAllWhsList(e)))},n=()=>{r.value&&(0,l.Y3)((()=>r.value?.accept()))};return{close:s,accept:i,accepMainGridRef:n,savedAllWhsList:a,changeSavedAllWhsList:o,mainGridRef:r,deleteSavedAllWhsList:d}}};const ei=(0,ut.Z)($l,[["render",Pt],["__scopeId","data-v-62019bc2"]]);var ti=ei;const si={class:"text-slate-900"},li=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"#757575",d:"M15.125 21.1L6.7 12.7q-.15-.15-.213-.325T6.425 12q0-.2.062-.375T6.7 11.3l8.425-8.425q.35-.35.875-.35t.9.375q.375.375.375.875t-.375.875L9.55 12l7.35 7.35q.35.35.35.863t-.375.887q-.375.375-.875.375t-.875-.375Z"})],-1),ii=[li],ai={class:"pcrow"},oi={class:"pcrow"},ri={class:"pcrow"},di={class:"pcrow"},ni=(0,l._)("span",{class:"material-icons-outlined text-red-600"}," delete ",-1);function ci(e,t,s,o,r,d){const n=(0,l.up)("EditSelector"),c=(0,l.up)("EditFloat");return(0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)(["w-full p-5 my-2 flex flex-col gap-4 origin-top rounded-md bg-white shadow-lg ring-1 ring-gray-900 ring-opacity-5 transition-all",{pcsmall:!o.show}]),ref:"target"},[(0,l._)("div",{class:"cursor-pointer flex flex-row justify-between items-center gap-2",onClick:t[0]||(t[0]=e=>o.toggle())},[(0,l._)("span",si,(0,i.zw)(s.copyItem?.title),1),(0,l._)("button",{class:(0,i.C_)(["p-2 h-fit w-fit rounded-xl outline-0 outline-slate-300 focus-visible:outline-1 transition-all",{"-rotate-90":o.show}])},ii,2)]),o.show?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("div",ai,[(0,l.Wm)(n,{item:{name:o.t("widjet.cenT"),data:o.PRICES},selected_option:s.copyItem?.price_field,idx:"price_field",disabled:o.isPublicOrder,onChange_value:t[1]||(t[1]=(e,t,s)=>o.change_value(s,t))},null,8,["item","selected_option","disabled"])]),(0,l._)("div",oi,[(0,l.Wm)(c,{item:o.currentPrice.name,selected_option:s.copyItem?.price,idx:"price",disabled:o.currentPrice.lead_config.editable<1||o.isPublicOrder,onChange_value:o.change_value},null,8,["item","selected_option","disabled","onChange_value"])]),(0,l._)("div",ri,[(0,l.Wm)(n,{item:{name:o.t("widjet.sk2"),data:o.WHS},selected_option:s.copyItem?.wh_field,idx:"wh_field",disabled:o.isPublicOrder,onChange_value:t[2]||(t[2]=(e,t,s)=>o.change_value(s,t))},null,8,["item","selected_option","disabled"])]),(0,l._)("div",di,[(0,l.Wm)(c,{item:o.t("widjet.col"),selected_option:s.copyItem?.count,idx:"count",max:s.copyItem?.["available-count"],onChange_value:o.change_value},null,8,["item","selected_option","max","onChange_value"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.fields,(e=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{class:"pcrow",key:e.id},[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.component),{item:5==e.type||6==e.type?e:e.name,selected_option:s.copyItem?.[e.code]?s.copyItem?.[e.code]:s.copyItem?.fields?.[e.code],idx:e.code,disabled:e.lead_config.editable<1||o.isPublicOrder,onChange_value:o.change_value,imagesList:s.copyItem.product?.fields[e.code],sizeWindow:"l",float:"left"},null,40,["item","selected_option","idx","disabled","onChange_value","imagesList"]))])),[[a.F8,(o.isPublicOrder?e.lead_config.public_order_visible>0:e.lead_config.visible>0)&&e.component&&o.getAllFieldsInSubCat(s.copyItem.fields?.category||s.copyItem.product?.fields?.category)?.includes(e.id)&&"price"!==e.code]]))),128)),(0,l._)("div",{class:"flex flex-row justify-end gap-2 cursor-pointer focus:ring-1 focus:ring-red-200",onClick:t[3]||(t[3]=e=>o.del())},[ni,(0,l._)("span",null,(0,i.zw)(e.$t("widjet.del")),1)])],64)):(0,l.kq)("",!0)],2)}var ui=s(1240),pi=s(4299),hi=s(4031),gi=s(267),mi=s(8727),wi=s(8484),vi=s(962),fi=s(4846),_i=s(1042),bi=s(6413),yi=s(5488),ki=s(1257),xi=s(3441),Ci={components:{EditInteger:ui.Z,EditFloat:pi.Z,EditString:hi.Z,EditText:gi.Z,EditSelector:mi.Z,EditMultiSelector:wi.Z,EditDate:vi.Z,EditDateTime:fi.Z,EditFlag:_i.Z,AppImagesCarusel:Kl.Z},props:{fields:{type:Array,required:!0},copyItem:{type:Object,required:!0}},setup(e,t){const{t:s}=(0,Is.j)(),{isProductTab:i}=(0,yi.F)(),{toggleSomeChange:a}=(0,ki.r)(),{getAllFieldsInSubCat:o}=(0,xi.D)(),r=(s,l)=>{"price_field"===l&&t.emit("change_value",e.copyItem?.product?.fields[s]?.cost,"price"),t.emit("change_value",s,l),a(!0)},d=(0,at.iH)(null),{y:n}=(0,ot.rBN)(d);(0,ot.i9H)(d,(()=>{h(),p(!1)}));const{y:c}=(0,ot.baj)(),[u,p]=(0,bi.OT)(!1),h=()=>{i.value&&u.value&&window.scrollTo(0,c.value+n.value-204)},g=(0,l.Fl)((()=>{const t=[];return e.fields.forEach((e=>{11===e.type&&e?.lead_config?.visible&&t.push({name:e.name,value:e.code})})),t})),m=(0,l.Fl)((()=>e.fields.find((t=>t.code===e.copyItem?.price_field)))),w=(0,l.Fl)((()=>{const t=[];return e.fields.forEach((e=>13===e.type&&Boolean(e.lead_config?.visible)&&"whs"!==e.code?t.push({name:e.name,value:e.code}):null)),t})),v=(0,l.Fl)((()=>w.value.find((t=>t.value===e.copyItem?.wh_field))?.name)),f=()=>t.emit("del");return{change_value:r,show:u,toggle:p,target:d,PRICES:g,WHS:w,selectedWhName:v,del:f,t:s,getAllFieldsInSubCat:o,currentPrice:m,isPublicOrder:Xl.gp}}};const Pi=(0,ut.Z)(Ci,[["render",ci]]);var Di=Pi,Li=s(5970);const Wi={class:"w-full p-5 my-2 flex flex-col gap-4 origin-top rounded-md ring-1 ring-gray-900 ring-opacity-5 py-1 bg-slate-100 shadow-none transition-all animate-pulse"},Si=(0,l.uE)('<div class="flex flex-row flex-wrap justify-start items-center gap-2 pr-11" data-v-c30efa82><span class="text" data-v-c30efa82> 123123123123123123123 </span><span class="text" data-v-c30efa82> 1231231231 </span><span class="text" data-v-c30efa82> 12312312313 </span><span class="text" data-v-c30efa82> 123 </span><span class="text" data-v-c30efa82> 12312312312 </span><span class="text" data-v-c30efa82> 12312313123123123 </span></div>',1),ji=[Si];function Oi(e,t,s,i,a,o){return(0,l.wg)(),(0,l.iD)("div",Wi,ji)}var Fi={setup(){}};const qi=(0,ut.Z)(Fi,[["render",Oi],["__scopeId","data-v-c30efa82"]]);var Zi=qi,Ai=s(7614);const{order:zi,getOrderPromise:Vi,getOrder:Ii,setWatcherUpdateAddedProducts:Ti}=(0,ki.r)(),{formatNumber:Yi}=(0,Li._)(),{t:Mi}=(0,Is.j)(),{isLocked:Hi,lockBtn:Ni,handleUnLock:Ei}=(0,Ai.M)();var Gi={components:{AppInputSelect:ht,FiltersModal:ti,AppPaginator:Nl,ProductCard:Di,ProductCardSkeleton:Zi,AppImagesCarusel:Kl.Z,PublicProductCard:Xl.Il,ProductCardPreloader:Xl.cj,DisplayTypeToggle:Xl._q},setup(){return{t:Mi,...(0,xi.D)(),isLockedShowCards:Hi,isPublicOrder:Xl.gp,...(0,Xl.Dm)()}},data(){return{show_cards:!1,show_filters:!1,selectedCategories:[],search:{value:"",list:[]},inputValues:[],allWhsList:[],showSpinner:!1,useSkeletonCard:!1,addedProducts:[],flip:[],isAddedProductsLoading:!1}},computed:{categories(){return this.$store.state.widjetCategories.categories},page(){const e={first:this.getPageFromLink(this.meta?.links?.first),prev:this.getPageFromLink(this.meta?.links?.prev),current:this.meta?.meta?.current_page,next:this.getPageFromLink(this.meta?.links?.next),last:this.getPageFromLink(this.meta?.links?.last)};return e},meta(){return this.$store.state.widjetProducts.meta2},productsParams(){return this.$store.state.widjetProducts.productsParams2},categoriesForCard(){const e={};return this.$store.state.widjetCategories.fields_properties2.forEach((t=>e[t.id]=t.name)),e},selectedWirePerLead(){return this.$store.state.widjetProducts.selectedWirePerLead},savedAllWhsList(){const e=this.allWhsList.filter((e=>{const t=e.reduce(((e,t)=>e+Number(t?.specialValue)),0);return t}));return e||[]},products(){return this.$store.state.widjetProducts.products},fields(){return this.$store.state.widjetFields.fields},disableAddToDeal(){return this.$store.state.widjetProducts.disableAddToDeal},sortedFields(){return this.fields?.filter((e=>e.lead_config?.visible>0))},productsLength(){return this.products.length},isLastProductPerPage(){return this.meta.meta.from===this.meta.meta.to},total(){const e={cost_price:0,price:0,prib:0,user_name:"",price_currency:""};this.addedProducts.forEach((t=>{e.cost_price+=Number(t.fields?.cost_price||t?.product?.fields?.cost_price||0)*Number(t.count||0),e.price+=Number(t.price||0)*Number(t.count||0),e.prib+=Number(t.price||0)*Number(t.count||0)-Number(t.fields?.cost_price||t?.product?.fields?.cost_price||0)*Number(t.count||0),t.user_name&&(e.user_name=t.user_name),e.price_currency=t.price_currency||""}));const t=e.cost_price;return e.cost_price=String(Yi(e.cost_price))+" "+e.price_currency,e.price=String(Yi(zi.custom_price||e.price))+" "+e.price_currency,e.prib=String(Yi(zi.custom_price?zi.custom_price-t:e.prib))+" "+e.price_currency,e},allPrices(){const e=[];return this.addedProducts.forEach((t=>e.push(Number(t.price||0)*Number(t.count||0)))),e},addedProductsIds(){const e=[];return this.addedProducts.forEach((t=>e.push(t.product?.id))),e}},async mounted(){Ni("handle"),Ti(this.updateAddedProducts),this.isAddedProductsLoading=!0,await Promise.all([this.$store.dispatch("getAllFieldsW"),this.$store.dispatch("get_fields_propertiesW")]),await this.getFields(this.$store.state.widjetCategories.fields_properties.find((e=>0===e.parent_id))?.id),Ei(),this.updateAddedProducts(!0)},watch:{async show_cards(){this.show_cards&&(this.$store.state.widjetCategories.fields_properties2.length||this.$store.dispatch("get_fields_properties2W"),this.selectedCategories=[],await this.getCategoriesW(0),this.selectCategories(this.categories[0]))},allWhsList:{handler:function(){this.saveSelectedWirePerLead()},deep:!0},allPrices:{handler:function(){zi.custom_price=null},deep:!0}},methods:{getPageFromLink(e){return e?e.split("?page=")[1]:null},async changePage(e){this.$store.commit("updateProductsParams2W",{page:e}),await this.getProducts(this.selectedCategories.at(-1)?.id)},dropPage(){this.changePage(1)},fillAllWhsList(){const e=[];this.products.forEach((t=>{if(t.is_service)e.push([{name:"Основной склад   |   0",value:"wh",specialValue:null}]);else{const s=t.whs?.map((e=>({...e})));s.map((e=>{e.name=e.name+"   |   "+e.count,e.value=e.code,e.specialValue=null})),e.push(s)}})),this.allWhsList=e},fillInputValues(){this.products.forEach((()=>this.inputValues.push("")))},async addToLeadAutocomplete(e){await this.$store.dispatch(Xl.gp.value?"POOrderPositionAdd":"addProductW",{product_id:e}),this.updateProductsList(),this.updateAddedProducts()},async addToLead(e){const t=this.products.find((t=>t.id===e)),s=this.products.indexOf(t);if(await t.is_service)await this.$store.dispatch(Xl.gp.value?"POOrderPositionAdd":"addProduct2W",{product_id:`${e}%%%`,count:this.allWhsList[s][0]?.specialValue});else{const t=[];this.allWhsList[s].forEach((s=>{if(s?.specialValue){const l={product_id:[e,s.code].join("%%%"),count:s.specialValue};t.push(this.$store.dispatch(Xl.gp.value?"POOrderPositionAdd":"addProduct3W",l))}})),await Promise.all(t)}this.updateProductsList(),this.updateAddedProducts()},updateProductsList(){this.show_cards&&(this.isLastProductPerPage&&this.page.current>1?this.changePage(this.page.current-1):this.getProducts(this.selectedCategories.at(-1)?.id))},async updateAddedProducts(e){this.isAddedProductsLoading=!0,e||await Ii("positions"),await Vi.value,this.addedProducts=[],zi.positions?.forEach((e=>this.addedProducts.push(e))),this.isAddedProductsLoading=!1},async getProductsAutocomplete(e){this.search.value=e;const t={q:e,category_id:this.selectedCategories.at(-1)?.id};this.selectedWirePerLead.value&&(t.selected_wh=this.selectedWirePerLead.value),await this.$store.dispatch("getProductsAutocompleteW",t);const s=this.$store.state.widjetProducts.productsAutocomplete;s.map((e=>e.name=e.label)),this.search.list=s},async selectCategories(e){this.showSpinner=!0;const t=this.selectedCategories?.indexOf(e);-1!==t&&this.selectedCategories.splice(t,9999),this.selectedCategories.push(e),await Promise.all([this.getCategoriesW(e.id),this.dropPage()]),1!==this.selectedCategories.length||this.fields.length||await this.getFields(e.id),this.showSpinner=!1},async getCategoriesW(e){this.showSpinner=!0,await this.$store.dispatch("getCategoriesW",{parent_id:e})},async getProducts(e){0!==e&&(this.useSkeletonCard=!0,await this.$store.dispatch("getProducts2W",{category_id:e,...this.productsParams}),this.fillInputValues(),this.fillAllWhsList(),this.useSkeletonCard=!1)},async getFields(e){await this.$store.dispatch("getFieldsW",{category_id:e,with_parents:1})},close_filters(){this.show_filters=!1},accept_filters(){this.updateProductsList(),this.updateAddedProducts()},feel_available_data(){this.data.forEach(((e,t)=>{const s={name:this.short_value(e),data:e,value:t};this.available_data.push(s)}))},search_value(e,t){const s=this.search_idx(e);if(-2!=s)return t[s]},search_idx(e){const t=this.params.indexOf(e)-1;return t},toggleShowData(e){const t=this.show_data[e];this.show_data=[],this.show_data[e]=!t},openModal(){return this.show_filters=!0,window.scrollTo(0,0),!1},saveSelectedWirePerLead(){let e=null;this.products[0]?.one_wh_per_lead&&(e=this.savedAllWhsList[0]?.find((e=>e?.specialValue>0))?.code),e==this.selectedWirePerLead.value&&this.selectedWirePerLead.sources.includes("MP")||this.$store.commit("updateSelectedWirePerLeadW",{source:"MP",value:e})},change_value(e,t,s){void 0!==this.addedProducts[e][s]?this.addedProducts[e][s]=t:this.addedProducts[e].fields[s]=t},deleteAddedProduct(e){this.$store.dispatch(Xl.gp.value?"POOrderPositionDelete":"deleteProductW",{product_id:this.addedProducts[e].id}),this.addedProducts.splice(e,1)}}};const Ui=(0,ut.Z)(Gi,[["render",Ge],["__scopeId","data-v-7496d341"]]);var Bi=Ui;const Ki={key:0,class:"item"},Xi={class:"mb-1 text-gray-500 md:text-base dark:text-gray-400"},Qi={class:"item"},Ji={class:"mb-1 text-gray-500 md:text-base dark:text-gray-400"},Ri={key:0,class:"text-base font-medium"},$i={class:"mb-1 text-gray-500 md:text-base dark:text-gray-400"},ea={key:0,class:"text-base font-medium"},ta={key:1,class:"text-base font-medium"},sa=["placeholder"],la={class:"item"},ia={class:"mb-1 text-gray-500 md:text-base dark:text-gray-400"},aa={class:"text-base font-medium"},oa={key:1,class:"item"},ra={class:"mb-1 text-gray-500 md:text-base dark:text-gray-400"},da={class:"text-base font-medium"};function na(e,t,s,o,r,d){const n=(0,l.up)("AppInputSelect");return(0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)(["flex flex-col gap-4 justify-center items-center top-[142px] w-full mx-auto mt-4",[o.isPublicOrder?"public":"md:sticky privat"]])},[(0,l._)("h2",{class:(0,i.C_)(["font-semibold text-gray-700 w-full",[o.isPublicOrder?"text-center font-bold text-3xl":"text-start"]])},(0,i.zw)(o.isPublicOrder?o.order.fields.name:e.$t("newOrder.dan")),3),(0,l._)("div",{class:(0,i.C_)(["min-w-[40%] text-gray-900 divide-y divide-gray-200 dark:text-white dark:divide-gray-700",[o.isPublicOrder?"w-full mr-auto grid grid-cols-1 md:grid-cols-2 gap-2 items-start":"w-full"]])},[o.isPublicOrder?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Ki,[(0,l._)("div",Xi,(0,i.zw)(e.$t("newOrder.name")),1),(0,l.wy)((0,l._)("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>o.order.fields.name=e),onInput:t[1]||(t[1]=e=>o.toggleSomeChange(!0))},null,544),[[a.nr,o.order.fields.name]])])),(0,l._)("div",Qi,[(0,l._)("div",Ji,(0,i.zw)(e.$t("newOrder.stat")),1),o.isPublicOrder?((0,l.wg)(),(0,l.iD)("div",Ri,(0,i.zw)(o.selector.selected?.name),1)):((0,l.wg)(),(0,l.j4)(n,{key:1,selected:o.selector.selected,list:o.selector.list,haveStackedOpgroup:!0,dropStackedIdxAfterOpen:!0,SelectedInTitle:!0,onSelect:t[2]||(t[2]=e=>o.selector.select(e))},null,8,["selected","list"]))]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.list,((e,r)=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)(["item",[o.isPublicOrder&&0===r&&"md:!border-t-0"]]),key:e.label},[(0,l._)("div",$i,(0,i.zw)(e.label),1),e.component?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[o.isPublicOrder?((0,l.wg)(),(0,l.iD)("div",ea,(0,i.zw)(o.user_name.selected?.name||o.order.user),1)):((0,l.wg)(),(0,l.j4)((0,l.LL)(e.component),{key:1,selected_option:o.user_name.selected,options_props:o.user_name.list,onSelect:t[3]||(t[3]=e=>o.user_name.select(e))},null,40,["selected_option","options_props"]))],64)):((0,l.wg)(),(0,l.iD)("div",ta,["price"===e.value&&o.isPublicOrder?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,i.zw)(o.checkIsNull(o.order.custom_price)?s.total?.[e.value]:o.order.custom_price),1)],64)):"price"===e.value&&o.config?.manual_budget_editing&&!o.isPublicOrder?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text",class:"input","onUpdate:modelValue":t[4]||(t[4]=e=>o.order.custom_price=e),placeholder:s.total?.[e.value],onChange:t[5]||(t[5]=e=>o.toggleSomeChange(!0))},null,40,sa)),[[a.nr,o.order.custom_price]]):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l.Uk)((0,i.zw)(s.total?.[e.value]),1)],64))]))],2)),[[a.F8,!(o.isPublicOrder&&o.notForPublic.includes(e.value))]]))),128)),(0,l._)("div",la,[(0,l._)("div",ia,(0,i.zw)(e.$t("newOrder.soz")),1),(0,l._)("div",aa,(0,i.zw)(o.dateFormater(o.order.created_at)),1)]),o.isPublicOrder?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",oa,[(0,l._)("div",ra,(0,i.zw)(e.$t("newOrder.izm")),1),(0,l._)("div",da,(0,i.zw)(o.dateFormater(o.order.updated_at)),1)]))],2)],2)}var ca=s(7720),ua=s(4581),pa=s(8890),ha=s(3276),ga={components:{SelectorVue:ca.Z,AppInputSelect:pa.Z},props:{total:Object},setup(e){const{t:t}=(0,Is.j)(),{order:s,toggleSomeChange:i,isOrederLoaded:a,saveOrder:o,someChange:r}=(0,ki.r)(),{checkIsNull:d}=(0,Li._)(),n=(0,at.qj)([{label:t("newOrder.sum"),value:"price"},{label:t("newOrder.cp"),value:"cost_price"},{label:t("newOrder.prib"),value:"prib"},{label:t("newOrder.sotr"),value:"user_name",component:"SelectorVue"}]),c=["prib","cost_price"],u=(0,at.qj)({selected:(0,l.Fl)((()=>u.list.find((e=>e.value==s.status_id)))),list:[],getStatuses:async function(){const e=ua.Z.state.orders.pipelines.length?ua.Z.state.orders.pipelines:await ua.Z.dispatch("ordersPipelinesList",{}),t=[];e?.map((e=>{-1!==e.value&&(e.value="optgroup",t.push(e),e.statuses.map((e=>{e.value=e.id,e.optgroup=!0,3!==e.type&&t.push(e)})))})),this.list.length=0,this.list=t},setSelected:function(){const e=P.Z?.currentRoute?.value?.params?.pipelineId,t=this.list.find((t=>(e?t.id===Number(e):t.is_system)&&"optgroup"===t.value)),l=this.list.indexOf(t);s.status_id=this.list[l+1]?.id},checkSelStat:function(e){const t=[];return this.list.forEach((e=>t.push(e.value))),t.includes(e)},select:function(e){s.status_id=e.value,i(!0)}});(0,l.bv)((async()=>{await(0,ha.L)(a),await Promise.all([p.getList(),u.getStatuses()]),p.setSelected(),u.checkSelStat(s.status_id)||u.setSelected(),r.value&&o()}));const p=(0,at.qj)({selected:(0,l.Fl)((()=>p.list.find((e=>e.id==s.user_id))||p.list.find((t=>t.value==e.total?.user_name)))),list:[],getList:async function(){if(Xl.gp.value)return;const e=await ua.Z.dispatch("getUsersList");this.list=[],e.forEach((e=>this.list.push({...e,value:e.name})))},setSelected:function(){if(this.selected)return;const e=this.list.find((e=>e.id===m.value?.id));e&&this.select(e)},select:function(e){s.user_id=e.id,i(!0)}}),h=e=>{const t=new Date(e),s=t.toLocaleString();return"Invalid Date"===s?"":s},g=(0,l.Fl)((()=>ua.Z.state.account.account?.config)),m=(0,l.Fl)((()=>ua.Z.state.account.user));return{list:n,selector:u,order:s,user_name:p,toggleSomeChange:i,dateFormater:h,config:g,isPublicOrder:Xl.gp,checkIsNull:d,notForPublic:c}}};const ma=(0,ut.Z)(ga,[["render",na],["__scopeId","data-v-cacfff9e"]]);var wa=ma;const va={class:"flex flex-col gap-4 justify-center items-center w-full mt-5"};function fa(e,t,s,a,o,r){return(0,l.wg)(),(0,l.iD)("div",va,[(0,l._)("div",{class:(0,i.C_)(["min-w-[40%] text-gray-900 flex flex-col divide-y divide-gray-200 dark:text-white dark:divide-gray-700",[a.isPublicOrder?"w-full mr-auto grid grid-cols-1 sm:grid-cols-2 gap-2 items-start":"w-full md:w-fit"]])},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.fields.filter((e=>e.component&&!a.dontShowCodes.includes(e.code)&&(!a.isPublicOrder||Boolean(e.config?.public_order_visible)>0))),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:(0,i.C_)(["row pb-3",[a.isPublicOrder&&1===t&&"md:!border-t-0",{"w-11/12":a.isPublicOrder}]])},[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.component),{item:5==e.type||6==e.type?e:e.name,selected_option:a.order?.fields?.[e.code],idx:e.code,disabled:a.isPublicOrder,onChange_value:a.change_value},null,40,["item","selected_option","idx","disabled","onChange_value"]))],2)))),128))],2)])}var _a={components:{EditInteger:ui.Z,EditFloat:pi.Z,EditString:hi.Z,EditText:gi.Z,EditSelector:mi.Z,EditMultiSelector:wi.Z,EditDate:vi.Z,EditDateTime:fi.Z,EditFlag:_i.Z},setup(){const{order:e,toggleSomeChange:t}=(0,ki.r)();(0,l.bv)((async()=>{await Promise.all([ua.Z.dispatch("getOrdersTypes"),ua.Z.dispatch("getOrdersFields")])}));const s=(s,l)=>(e.fields[l]=s,t(!0)),i=(0,l.Fl)((()=>ua.Z.state.orders.fields.sort((e=>"description"===e.code?1:-1)))),a=(0,at.qj)(["name","created_at","updated_at"]);return{fields:i,order:e,change_value:s,dontShowCodes:a,isPublicOrder:Xl.gp}}};const ba=(0,ut.Z)(_a,[["render",fa],["__scopeId","data-v-2ae86c65"]]);var ya=ba,ka=s(3704);const xa=e=>((0,l.dD)("data-v-be47b67a"),e=e(),(0,l.Cn)(),e),Ca={key:0,class:"flex flex-row w-full justify-center gap-2"},Pa={class:"text-xl text-slate-900"},Da=xa((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,l._)("path",{fill:"currentColor",d:"M13.293 3.96a4.771 4.771 0 1 1 6.747 6.747l-3.03 3.03l-1.415-1.413l3.03-3.031a2.771 2.771 0 1 0-3.918-3.92l-3.031 3.031l-1.414-1.414l3.03-3.03Zm2.12 6.04l-5.415 5.414L8.584 14l5.414-5.414L15.413 10Zm-7.01 1.676l-3.03 3.031a2.771 2.771 0 1 0 3.92 3.92l3.03-3.031l1.414 1.414l-3.03 3.03a4.771 4.771 0 1 1-6.748-6.747l3.03-3.03l1.415 1.413Z"})],-1))),La=[Da],Wa={key:1},Sa={class:"flex flex-row items-center justify-evenly flex-wrap gap-2"},ja={class:"flex flex-row gap-4 items-center w-full sm:w-auto"},Oa=["disabled"],Fa=xa((()=>(0,l._)("span",{class:"animate-pulse ml-1"},".",-1))),qa=xa((()=>(0,l._)("span",{class:"animate-pulse",style:{"animation-delay":"0.667s"}},".",-1))),Za=xa((()=>(0,l._)("span",{class:"animate-pulse",style:{"animation-delay":"1.333s"}},".",-1))),Aa={for:"xlsx",class:"btn w-full sm:w-auto items-center justify-center pointer-events-auto relative inline-flex rounded-md bg-white text-[0.8125rem] font-medium leading-5 text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50 hover:text-slate-900 hover:disabled:bg-white disabled:opacity-30 disabled:cursor-not-allowed"},za=xa((()=>(0,l._)("span",{class:"animate-pulse ml-1"},".",-1))),Va=xa((()=>(0,l._)("span",{class:"animate-pulse",style:{"animation-delay":"0.667s"}},".",-1))),Ia=xa((()=>(0,l._)("span",{class:"animate-pulse",style:{"animation-delay":"1.333s"}},".",-1))),Ta=["disabled"],Ya={class:"mt-10 flex justify-center items-center"},Ma={class:"block md:hidden bg-white divide-y divide-gray-300 min-w-[80%] w-full space-y-1"},Ha={class:"text-lg font-medium"},Na={class:"flex flex-row gap-4 items-center justify-between w-full"},Ea={class:"flex flex-row gap-4 items-center justify-between w-full"},Ga=["href"],Ua=["href"],Ba=["onClick"],Ka=xa((()=>(0,l._)("span",{class:"material-icons-outlined text-red-600"}," delete ",-1))),Xa=[Ka],Qa={class:"hidden md:block bg-white divide-y divide-gray-300 md:w-fit lg:w-3/4"},Ja={class:"cell main"},Ra={class:"cell"},$a={class:"cell"},eo={class:"cell"},to=["href"],so={class:"cell"},lo=["href"],io={class:"cell"},ao=["onClick"],oo=xa((()=>(0,l._)("span",{class:"material-icons-outlined text-red-600"}," delete ",-1))),ro=[oo];function no(e,t,s,a,o,r){const d=(0,l.up)("AppInputSelect");return a.isGoogleAuth||a.order?.is_google_auth?((0,l.wg)(),(0,l.iD)("div",Wa,[(0,l._)("header",Sa,[(0,l.Wm)(d,{class:"w-full sm:w-1/2",list:a.docs.list,selected:a.docs.selected,countLettersReq:0,requestDelay:0,SelectedInTitle:!0,placeholder:a.t("newOrder.a"),onChangeInputValue:t[1]||(t[1]=e=>a.docs.value=e),onSelect:t[2]||(t[2]=e=>a.docs.select(e))},null,8,["list","selected","placeholder"]),(0,l._)("div",ja,[(0,l._)("button",{class:"btn w-full sm:w-auto items-center justify-center pointer-events-auto relative inline-flex transition-all rounded-md bg-white text-[0.8125rem] font-medium leading-5 text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50 hover:text-slate-900 hover:disabled:bg-white disabled:opacity-30 disabled:cursor-not-allowed",onClick:t[3]||(t[3]=e=>a.generate()),disabled:-1===a.docs.selected.value||a.docs.isGeneration},[a.docs.isGeneration?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,i.zw)(e.$t("newOrder.gen"))+" ",1),Fa,qa,Za],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,i.zw)(e.$t("newOrder.gen2")),1)],64))],8,Oa),(0,l._)("label",Aa,[a.isUpload?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,i.zw)(e.$t("newOrder.z"))+" ",1),za,Va,Ia],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,i.zw)(e.$t("newOrder.z2")),1)],64))]),(0,l._)("input",{type:"file",id:"xlsx",onChange:t[4]||(t[4]=e=>a.uploadFiles(e)),class:"hidden",disabled:a.docs.isGeneration},null,40,Ta)])]),(0,l._)("div",Ya,[(0,l._)("div",Ma,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)([...a.docsList,...a.customDocList],(t=>((0,l.wg)(),(0,l.iD)("div",{class:"flex flex-col items-start w-full",key:t.id},[(0,l._)("h4",Ha,(0,i.zw)(t.name),1),(0,l._)("div",Na,[(0,l._)("span",null,(0,i.zw)(t.created_at),1),(0,l._)("span",null,(0,i.zw)(t.user_name),1)]),(0,l._)("div",Ea,[t.open_url?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"btn !h-auto !p-1 w-full md:w-auto items-center justify-center pointer-events-auto relative inline-flex rounded-md bg-white text-[0.8125rem] font-medium leading-5 text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50 hover:text-slate-900 hover:disabled:bg-white disabled:opacity-30 disabled:cursor-not-allowed",target:"blank",href:t.open_url},(0,i.zw)(e.$t("newOrder.o")),9,Ga)):(0,l.kq)("",!0),(0,l._)("a",{class:"btn !h-auto !p-1 w-full md:w-auto items-center justify-center pointer-events-auto relative inline-flex rounded-md bg-white text-[0.8125rem] font-medium leading-5 text-slate-700 shadow-sm ring-1 ring-slate-700/10 hover:bg-slate-50 hover:text-slate-900 hover:disabled:bg-white disabled:opacity-30 disabled:cursor-not-allowed",target:"blank",href:t.download_url},(0,i.zw)(e.$t("newOrder.d")),9,Ua),(0,l._)("button",{class:"w-fit h-fit p-2 rounded-lg flex justify-center items-center focus:outline-2 focus:-outline-offset-4 focus:outline-slate-600 active:brightness-125",onClick:e=>t.isCustom?a.deleteCustomDoc(t.id):a.delDoc(t.id)},Xa,8,Ba)])])))),128))]),(0,l._)("table",Qa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)([...a.docsList,...a.customDocList],(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",Ja,[(0,l._)("span",null,(0,i.zw)(t.name),1)]),(0,l._)("td",Ra,[(0,l._)("span",null,(0,i.zw)(t.created_at),1)]),(0,l._)("td",$a,[(0,l._)("span",null,(0,i.zw)(t.user_name),1)]),(0,l._)("td",eo,[t.open_url?((0,l.wg)(),(0,l.iD)("a",{key:0,class:"link",target:"blank",href:t.open_url},(0,i.zw)(e.$t("newOrder.o")),9,to)):(0,l.kq)("",!0)]),(0,l._)("td",so,[(0,l._)("a",{class:"link",target:"blank",href:t.download_url},(0,i.zw)(e.$t("newOrder.d")),9,lo)]),(0,l._)("td",io,[(0,l._)("button",{class:"w-fit h-fit p-2 rounded-lg flex justify-center items-center focus:outline-2 focus:-outline-offset-4 focus:outline-slate-600 active:brightness-125",onClick:e=>t.isCustom?a.deleteCustomDoc(t.id):a.delDoc(t.id)},ro,8,ao)])])))),128))])])])):((0,l.wg)(),(0,l.iD)("div",Ca,[(0,l._)("h1",Pa,(0,i.zw)(e.$t("newOrder.auth")),1),(0,l._)("a",{onClick:t[0]||(t[0]=e=>a.routeToGoogleAuth()),class:"cursor-pointer text-blue-600 hover:border-b border-blue-600"},La)]))}function co(){const{newDealParams:e}=(0,ki.r)(),t=(0,at.iH)(!1),s=async s=>{t.value=!0;const l=s.target.files[0],a=new FormData;a.append("files",l),a.append("order_id",e.id),await ua.Z.dispatch(Xl.gp.value?"POCustomDocUpload":"customDocUpload",a),t.value=!1,i()},l=(0,at.qj)([]),i=async()=>{l.length=0,Object.assign(l,await ua.Z.dispatch(Xl.gp.value?"POCustomDocList":"customDocList",{order_id:e.id})),l.map((e=>e.isCustom=!0))},a=async t=>{await ua.Z.dispatch(Xl.gp.value?"POCustomDocDelete":"customDocDelete",{order_id:e.id,doc_id:t}),i()};return{uploadFiles:s,customDocList:l,getCustomDocList:i,deleteCustomDoc:a,isUpload:t}}var uo={components:{AppInputSelect:pa.Z},setup(){const{t:e}=(0,Is.j)(),{newDealParams:t,order:s}=(0,ki.r)(),{uploadFiles:i,customDocList:a,getCustomDocList:o,deleteCustomDoc:r,isUpload:d}=co(),n=(0,l.Fl)((()=>Boolean(ua.Z.state.account?.account?.is_google_auth)));(0,l.bv)((()=>{ua.Z.dispatch(Xl.gp.value?"PODocTemplates":"get_documents_v3"),u(),o()}));const c=(0,at.qj)([]),u=async()=>{c.length=0,Object.assign(c,await ua.Z.dispatch(Xl.gp.value?"PODocList":"getOrderDocList",{order_id:Number(t.id)}))},p=(0,at.qj)({value:"",selected:{name:"",value:-1},isGeneration:!1,list:(0,l.Fl)((()=>{const e=Xl.gp.value?ua.Z.state.PODoc.templates:ua.Z.state.documents.templates;return e?.map((e=>{e.value=e.id})),e?.filter((e=>e.name?.toUpperCase()?.includes(p.value?.toUpperCase())))})),select:function(e){this.selected=e}}),h=async()=>{p.isGeneration=!0,await ua.Z.dispatch(Xl.gp.value?"PODocGenerate":"generateOrderDoc",{order_id:Number(t.id),doc_tpl_id:p.selected.id}),p.isGeneration=!1,u()},g=async e=>{await ua.Z.dispatch(Xl.gp.value?"PODocDelete":"deleteOrderDoc",{order_id:t.id,doc_id:e}),u()},m=()=>{P.Z.push("/"),ua.Z.commit("open_close_document_setting",!0)};return{docs:p,generate:h,docsList:c,delDoc:g,uploadFiles:i,customDocList:a,getCustomDocList:o,deleteCustomDoc:r,isUpload:d,isGoogleAuth:n,routeToGoogleAuth:m,order:s,t:e}}};const po=(0,ut.Z)(uo,[["render",no],["__scopeId","data-v-be47b67a"]]);var ho=po,go={components:{MainPage:Bi,ProductsTabFields:wa,ProductsTabCastomFields:ya,DocumentsTab:ho},setup(){const e=(0,at.iH)(null),t=(0,l.Fl)((()=>e.value?.total));return{widjet:e,total:t,isPublicOrder:Xl.gp,isTest:ka.Y}}};const mo=(0,ut.Z)(go,[["render",L],["__scopeId","data-v-1e2ccad0"]]);var wo=mo;const vo={class:"grid grid-cols-2 justify-items-center items-start w-full md:w-4/5 mx-auto gap-2 md:gap-10 mt-4"},fo={class:"font-semibold text-gray-700 text-lg md:text-base w-full text-center my-2"};function _o(e,t,s,o,r,d){const n=(0,l.up)("AppInputSelect"),c=(0,l.up)("ClientTabItem");return(0,l.wg)(),(0,l.iD)("div",vo,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.autocompleteList,(e=>((0,l.wg)(),(0,l.j4)(n,{class:"w-full md:w-1/2 mx-auto",key:e.id,placeholder:e.placeholder,list:e.list,selected:e.selected,countLettersReq:3,onChangeInputValue:t=>e.changeInputValue(t),onSelect:t=>e.select(t)},null,8,["placeholder","list","selected","onChangeInputValue","onSelect"])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.list,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e,class:"w-full flex flex-col items-center"},[(0,l._)("h2",fo,(0,i.zw)(e.name),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(t=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(c,{key:t?.id,code:e.code2,item:t,fields:e.fields,placeholders:e.placeholders,alwaysShow:1===e.items.length,have_public_order:t.enabled,onUnLink:()=>o.unLink(t,e),onLink:()=>o.link(t,e.code),onTogglePublicOrder:s=>o.togglePublicOrder(t,s,e)},null,8,["code","item","fields","placeholders","alwaysShow","have_public_order","onUnLink","onLink","onTogglePublicOrder"])),[[a.F8,t]]))),128))])))),128))])}const bo=e=>((0,l.dD)("data-v-b8422538"),e=e(),(0,l.Cn)(),e),yo={class:"min-w-0 flex-auto text-left"},ko={class:"text-lg font-semibold leading-6 text-gray-800"},xo={class:"mt-1 truncate text-sm leading-5 text-gray-500"},Co={class:"sm:flex sm:flex-col sm:items-end"},Po={class:"text-base leading-6 text-gray-900"},Do={class:"flex flex-row gap-2 items-center mt-1"},Lo={class:"text-sm leading-5 text-gray-500"},Wo={key:1,class:"min-w-[40%] w-full text-gray-900 divide-y divide-gray-200 dark:text-white dark:divide-gray-700"},So={class:"mb-1 text-gray-500 md:text-base dark:text-gray-400 text-left"},jo={class:"text-base font-medium text-left"},Oo=["id"],Fo=["for"],qo={key:0,class:"flex flex-row gap-2 items-center"},Zo={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},Ao=bo((()=>(0,l._)("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.488 3.43a.75.75 0 0 1 .081 1.058l-6 7a.75.75 0 0 1-1.1.042l-3.5-3.5A.75.75 0 0 1 4.03 6.97l2.928 2.927l5.473-6.385a.75.75 0 0 1 1.057-.081Z","clip-rule":"evenodd"},null,-1))),zo=[Ao],Vo={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},Io=bo((()=>(0,l._)("path",{fill:"currentColor",d:"M9 3.25A5.75 5.75 0 0 0 3.25 9v7.107a.75.75 0 0 0 1.5 0V9A4.25 4.25 0 0 1 9 4.75h7.013a.75.75 0 0 0 0-1.5z"},null,-1))),To=bo((()=>(0,l._)("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.403 6.793a44.372 44.372 0 0 0-9.806 0a2.011 2.011 0 0 0-1.774 1.76a42.581 42.581 0 0 0 0 9.894a2.01 2.01 0 0 0 1.774 1.76c3.241.362 6.565.362 9.806 0a2.01 2.01 0 0 0 1.774-1.76a42.579 42.579 0 0 0 0-9.894a2.011 2.011 0 0 0-1.774-1.76M8.764 8.284c3.13-.35 6.342-.35 9.472 0a.51.51 0 0 1 .45.444a40.95 40.95 0 0 1 0 9.544a.51.51 0 0 1-.45.444c-3.13.35-6.342.35-9.472 0a.511.511 0 0 1-.45-.444a40.95 40.95 0 0 1 0-9.544a.511.511 0 0 1 .45-.444","clip-rule":"evenodd"},null,-1))),Yo=[Io,To];function Mo(e,t,s,o,r,d){return(0,l.wg)(),(0,l.iD)("li",{class:(0,i.C_)(["flex flex-col items-start sm:flex-row justify-between max-w-xl p-2 sm:px-6 sm:py-5 rounded-xl w-full transition-all relative mt-1 h-full",{"bg-slate-100":o.show,"cursor-pointer, hover:bg-slate-50 opacity-80":!s.alwaysShow,"bg-slate-100 !opacity-100":!s.alwaysShow&&!s.item?.isUnLink}]),onClick:t[4]||(t[4]=()=>s.alwaysShow?null:o.toggle())},[o.show||s.alwaysShow?((0,l.wg)(),(0,l.iD)("div",Wo,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.fields,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"flex flex-col pb-3 items-start w-full",key:e.code},[(0,l._)("div",So,(0,i.zw)(e.name),1),(0,l._)("div",jo,(0,i.zw)(s.item?.fields?.[e.code]),1)])))),128)),!s.item?.isUnLink&&o.isTest?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"flex flex-row justify-between items-center pt-2",onClick:t[2]||(t[2]=(0,a.iM)((()=>{}),["stop"]))},[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"checkbox",id:s.item.id,"onUpdate:modelValue":t[0]||(t[0]=e=>o.havePublicOrder=e)},null,8,Oo),[[a.e8,o.havePublicOrder]]),(0,l._)("label",{for:s.item.id},"Публичный заказ",8,Fo),o.havePublicOrder?((0,l.wg)(),(0,l.iD)("div",qo,[(0,l._)("button",{class:"p-2 bg-slate-400/90 rounded-xl text-white",onClick:t[1]||(t[1]=e=>o.copyLink())},[(0,l.Wm)(a.uT,{name:"opacity",mode:"out-in"},{default:(0,l.w5)((()=>[o.copied?((0,l.wg)(),(0,l.iD)("svg",Zo,zo)):((0,l.wg)(),(0,l.iD)("svg",Vo,Yo))])),_:1})])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("div",yo,[(0,l._)("p",ko,(0,i.zw)(s.item?.fields?.[s.placeholders.title]),1),(0,l._)("p",xo,(0,i.zw)(s.item?.fields?.[s.placeholders.subTitle]),1)]),(0,l._)("div",Co,[(0,l._)("p",Po,(0,i.zw)(s.item?.fields?.[s.placeholders.descriton]),1),(0,l._)("div",Do,[(0,l._)("div",{class:"w-4 h-4 rounded-full flex items-center justify-center",style:(0,i.j5)({"background-color":o.getColor(10*s.item?.fields?.[s.placeholders.subDescriton])+"50"})},[(0,l._)("div",{class:"w-2 h-2 rounded-full",style:(0,i.j5)({"background-color":o.getColor(10*s.item?.fields?.[s.placeholders.subDescriton])+"99"})},null,4)],4),(0,l._)("p",Lo,(0,i.zw)(s.item?.fields?.[s.placeholders.subDescriton]),1)])])],64)),s.alwaysShow||o.show?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"btn absolute -top-2 sm:top-5 right-0 sm:right-4 bg-transparent focus-visible:underline focus-visible:underline-offset-4 hover:underline hover:underline-offset-4",onClick:t[3]||(t[3]=e=>s.item?.isUnLink?o.link():o.unLink())},(0,i.zw)(s.item?.isUnLink?"Привязать":" Отвязать"),1)):(0,l.kq)("",!0)],2)}var Ho=s(8089),No={props:{item:Object,placeholders:Object,fields:Array,alwaysShow:Boolean,have_public_order:Boolean,code:String},emits:["unLink","link"],setup(e,t){const{getColor:s}=(0,Ho.a)(),{order:i}=(0,ki.r)(),[a,o]=(0,bi.OT)(!1),r=()=>t.emit("unLink"),d=()=>t.emit("link"),n=(0,l.Fl)({get:()=>Boolean(e.have_public_order),set:e=>t.emit("togglePublicOrder",e)}),{copy:c}=(0,ot.VPI)(),[u,p]=(0,bi.OT)(!1),h=async()=>{const t=await ua.Z.dispatch("getPublicToken",{client_type:e.code,client_id:e.item.id});await c("app.gosklad.ru/#/publicOrder?order_id="+i.id+"&potoken="+t),p(!0),setTimeout((()=>p(!1)),3e3)};return{show:a,toggle:o,getColor:s,unLink:r,link:d,havePublicOrder:n,copyLink:h,copied:u,isTest:ka.Y}}};const Eo=(0,ut.Z)(No,[["render",Mo],["__scopeId","data-v-b8422538"]]);var Go=Eo;function Uo(e){const{order:t,getOrder:s,saveOrder:l}=(0,ki.r)(),i=(0,at.qj)({code:e.code,placeholder:e.placeholder,selected:{},value:"",list:[],getList:async function(){this.list=await ua.Z.dispatch(e.getUrl,{q:this.value,order_id:t.id}),this.list.map((e=>e.name=e.label))},changeInputValue:function(e){this.value=e,this.getList()},select:async function(i){e.multi?(t[e.field]=[],t[e.fieldSource].forEach((s=>t[e.field].push(s.id))),t[e.field].push(i.id)):t[e.field]=i.id,await l(),s(),this.list=[]}});return i}var Bo={components:{AppInputSelect:pa.Z,ClientTabItem:Go},setup(){const{t:e}=(0,Is.j)(),{order:t,getOrder:s,saveOrder:i}=(0,ki.r)();(0,l.bv)((()=>{a.forEach((e=>e.fields.length?null:ua.Z.dispatch(e.getFieldsUrl)))}));const a=(0,at.qj)([{name:e("newOrder.komp"),code:"Company",code2:"company",getFieldsUrl:"getClientsCompanyFields",getAutocompeteUrl:"getClientsCompanyAutocomplete",fields:(0,l.Fl)((()=>ua.Z.state.clientsCompany.fields)),items:(0,l.Fl)((()=>t?.company?[t?.company]:[...o()])),placeholderForSearch:e("newOrder.kompP"),orderFieldForSave:"company_id",publicOrderFieldForSave:"public_company_id",placeholders:{title:"name",subTitle:"signatory",descriton:"director",subDescriton:"rating"}},{name:e("newOrder.cont"),code:"Contacts",code2:"contact",getFieldsUrl:"getClientsContactsFields",getAutocompeteUrl:"getClientsContactsAutocomplete",fields:(0,l.Fl)((()=>ua.Z.state.clientsContacts.fields)),items:(0,l.Fl)((()=>[...t?.company?.contacts.filter((e=>!a[1].linkedIds.includes(e.id))).map((e=>Object.assign(e,{isUnLink:!0})))||[],...t?.contacts||[]].sort((e=>e.isUnLink?1:-1)))),linkedIds:(0,l.Fl)((()=>t?.contacts.reduce(((e,t)=>(e.push(t.id),e)),[]))),placeholderForSearch:e("newOrder.contP"),orderFieldForSave:"contacts_id",publicOrderFieldForSave:"public_contacts_id",orderFieldSource:"contacts",isMultiSave:!0,placeholders:{title:"name",subTitle:"phone",descriton:"email",subDescriton:"rating"}}]),o=()=>{const e=[];return a[1].items.map((t=>t.companies.map((t=>{e.some((e=>e.id===t.id))||e.push({...t,isUnLink:!0})})))),e},r=(0,at.qj)([]);a.forEach((e=>r.push(Uo({getUrl:e.getAutocompeteUrl,code:e.code,placeholder:e.placeholderForSearch,multi:Boolean(e.isMultiSave),field:e.orderFieldForSave,fieldSource:e.orderFieldSource}))));const d=async(e,l)=>{l.isMultiSave?(void 0===t[l.field]&&(t[l.orderFieldForSave]=[]),t[l.orderFieldSource].forEach((s=>{s.id!==e.id&&t[l.orderFieldForSave].push(s.id)}))):t[l.orderFieldForSave]=0,await i(),s()},n=async(e,l,i)=>{await ua.Z.dispatch("clientUpdate",{client_type:i.code2,client_id:e.id,order_id:t.id,enabled:Number(l)}),s()},c=(e,t)=>r.find((e=>e.code===t)).select(e);return{list:a,autocompleteList:r,unLink:d,link:c,togglePublicOrder:n}}};const Ko=(0,ut.Z)(Bo,[["render",_o],["__scopeId","data-v-329f43cf"]]);var Xo=Ko,Qo=s(969),Jo=s(2524),Ro=s(2532),$o=s(7449),er=s(2450);function tr(){const{getSavedLSParam:e}=(0,$o.t)();"publicOrder"!==P.Z.currentRoute.value.name||e("POAuth")||e(er.POTokenName)||P.Z.push("publicOrderAuth")}var sr={components:{ProductsTab:wo,DocumentsTab:ho,ClientTab:Xo,AppRadioBtnsGroupUnderlined:Qo.Z,AvailablePublicOrderButton:Xl.Nw},setup(){const{add:e,saveParams:t,order:s,isOrderGeted:i}=(0,ki.r)(),{tabs:a}=(0,yi.F)(),{t:o}=(0,Is.j)(),{addNotification:r}=(0,Jo.l)(),{pipelines:d}=(0,Ro.p)();tr(),location.replace(location.href.replace("&potoken="+location.href.split("&potoken=")[1],""));const n=()=>P.Z.push("/");e();const c=(0,l.Fl)((()=>!!d.allStatuses.find((e=>e.value==s.status_id))?.type)),u=async()=>{const e=await ua.Z.dispatch("deleteOrder",{order_id:s.id});e.error?r(3,o("HomeMenu.err"),e.error):(r(1,o("newOrder.acrh"),""),n())};return{tabs:a,back:n,saveParams:t,archivate:u,isTest:ka.Y,isClosedStep:c,isOrderGeted:i,isPublicOrder:Xl.gp}}};const lr=(0,ut.Z)(sr,[["render",C],["__scopeId","data-v-40ffb29c"]]);var ir=lr},3574:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=348.7abcd560.js.map