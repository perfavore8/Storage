"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[282],{9935:function(e,t,s){s.d(t,{Z:function(){return v}});var o=s(6252),n=s(3577),l=s(9963);const c={class:"v-select"},i={class:"options",key:"a1"},a=["onClick"];function d(e,t,s,d,_,u){return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",{class:(0,n.C_)(["title",{title_checked:d.show_options,disabled:s.disabled}]),onClick:t[0]||(t[0]=e=>d.open_close_options()),onFocusout:t[1]||(t[1]=(...e)=>d.handleFocusOut&&d.handleFocusOut(...e)),tabindex:"0"},[(0,o._)("p",null,(0,n.zw)(s.selected_option.name),1),s.disabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,n.C_)(["arrow",{rotate_arrow:d.show_options}])},null,2))],34),(0,o.Wm)(l.uT,{name:"list"},{default:(0,o.w5)((()=>[d.show_options?((0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.options,(e=>((0,o.wg)(),(0,o.iD)("p",{key:e.value,onClick:t=>d.select_option(e)},(0,n.zw)(e.name),9,a)))),128))])):(0,o.kq)("",!0)])),_:1})])}var _=s(2262),u={props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0,default(){return{}}},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},emits:{select:null},setup(e,{emit:t}){const s=(0,_.iH)([]);(0,o.bv)((()=>{s.value=[],e.options_props.forEach((e=>s.value.push(e)))}));const n=(0,_.iH)(!1),l=()=>{n.value=!1},c=()=>{e.disabled||(n.value=!n.value)},i=()=>{l()},a=s=>{t("select",s,e.idx),l()};return{open_close_options:c,handleFocusOut:i,show_options:n,options:s,select_option:a}}},r=s(3744);const p=(0,r.Z)(u,[["render",d],["__scopeId","data-v-6e6fe5a6"]]);var v=p},5282:function(e,t,s){s.r(t),s.d(t,{default:function(){return ke}});var o=s(6252);function n(e,t,s,n,l,c){const i=(0,o.up)("document-setting");return(0,o.wg)(),(0,o.j4)(i)}var l=s(3577);const c=e=>((0,o.dD)("data-v-3fd61670"),e=e(),(0,o.Cn)(),e),i={key:0},a={key:1},d={class:"app",ref:"app"},_={class:"container"},u={class:"header"},r={class:"left"},p=c((()=>(0,o._)("div",{class:"title"},"Настройки документов",-1))),v={class:"autorization"},m=c((()=>(0,o._)("button",null,"Выйти",-1))),h=c((()=>(0,o._)("div",{class:"right"},[(0,o._)("button")],-1))),w={class:"content"},b={class:"binding"},g=c((()=>(0,o._)("div",{class:"header"},"Привязка полей документов",-1))),y={class:"main"},f=c((()=>(0,o._)("label",null,'Поле "Документы"',-1))),k={class:"patterns"},D=c((()=>(0,o._)("div",{class:"header"},[(0,o._)("div",null,"Шаблоны документов"),(0,o._)("div",{class:"small"}," Файлы шаблонов должны быть доступны для чтения по ссылке ")],-1))),x={class:"main"},C={class:"table"},S={class:"row title"},I=c((()=>(0,o._)("td",{class:"item"},null,-1))),O={class:"item"},j={class:"item"},q={class:"item"},$={href:"https://docs.google.com/spreadsheets/d/13U76ujSjV_iaY0L2WBVHVw7q07TSEqstuL0kSeX-Sh8/edit"},z={class:"item"},V={class:"item"},H={class:"item"},N={class:"btns"},Z=["onClick"],A=c((()=>(0,o._)("div",{class:"icon"},null,-1))),W=[A],Y=["onClick"],E=c((()=>(0,o._)("div",{class:"icon"},null,-1))),F=[E],U={class:"add_button_container"},G=c((()=>(0,o._)("div",{class:"icon"},null,-1))),K=[G],B={class:"footer"},L={class:"btns"};function T(e,t,s,n,c,A){const E=(0,o.up)("document-setting-add-new"),G=(0,o.up)("SelectorVue");return(0,o.wg)(),(0,o.iD)(o.HY,null,[c.showAddNew?((0,o.wg)(),(0,o.j4)(E,{key:0,cur_doc:c.cur_doc,idx:c.selected_doc_idx,onClose:A.close_add_new,onSave_new_doc:A.save_new_doc,onSave_cur_doc:A.save_cur_doc},{title:(0,o.w5)((()=>[null===c.selected_doc_idx?((0,o.wg)(),(0,o.iD)("span",i," Добавление шаблона документов ")):(0,o.kq)("",!0),null!==c.selected_doc_idx?((0,o.wg)(),(0,o.iD)("span",a," Редактирование шаблона документов ")):(0,o.kq)("",!0)])),_:1},8,["cur_doc","idx","onClose","onSave_new_doc","onSave_cur_doc"])):(0,o.kq)("",!0),(0,o._)("div",d,[(0,o._)("div",_,[(0,o._)("div",u,[(0,o._)("div",r,[p,(0,o._)("div",v,[(0,o.Uk)(' Вы авторизированы в сервисе Google Drive как "'+(0,l.zw)(c.name)+'". ',1),m])]),h]),(0,o._)("div",w,[(0,o._)("div",b,[g,(0,o._)("div",y,[f,(0,o.Wm)(G,{options_props:c.options,onSelect:A.option_select,selected_option:c.selected_option},null,8,["options_props","onSelect","selected_option"])])]),(0,o._)("div",k,[D,(0,o._)("div",x,[(0,o._)("table",C,[(0,o._)("thead",null,[(0,o._)("tr",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.title,(e=>((0,o.wg)(),(0,o.iD)("td",{class:"item",key:e},(0,l.zw)(e),1)))),128)),I])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.documents,(e=>((0,o.wg)(),(0,o.iD)("tr",{class:"row",key:e},[(0,o._)("td",O,(0,l.zw)(e.name),1),(0,o._)("td",j,(0,l.zw)(e.serviceID),1),(0,o._)("td",q,[(0,o._)("a",$,(0,l.zw)(e.gauge),1)]),(0,o._)("td",z,(0,l.zw)(e.gouge_type),1),(0,o._)("td",V,(0,l.zw)(e.download_type),1),(0,o._)("td",H,[(0,o._)("div",N,[(0,o._)("button",{class:"btn_edit",onClick:t=>A.open_edit(e)},W,8,Z),(0,o._)("button",{class:"btn_del",onClick:t=>A.delete_cur_doc(e)},F,8,Y)])])])))),128))])]),(0,o._)("div",U,[(0,o._)("button",{class:"add_new_button",onClick:t[0]||(t[0]=e=>A.open_add_new())},K)])])])]),(0,o._)("div",B,[(0,o._)("div",L,[(0,o._)("button",{class:"btn btn1",onClick:t[1]||(t[1]=t=>e.close_modal())},"Отмена"),(0,o._)("button",{class:"btn btn2",onClick:t[2]||(t[2]=t=>e.save())},"Сохранить")])])])],512)],64)}var X=s(9935),J=s(9963);const M=e=>((0,o.dD)("data-v-d393d312"),e=e(),(0,o.Cn)(),e),P={class:"app_new"},Q={class:"container"},R={class:"header"},ee={class:"content"},te={class:"label_input"},se=M((()=>(0,o._)("label",{class:"label"},"Название:",-1))),oe={class:"label_input"},ne=M((()=>(0,o._)("label",{class:"label"},"Google ID файла:",-1))),le={class:"label_input"},ce=M((()=>(0,o._)("label",{class:"label"},"Тип шаблона:",-1))),ie={class:"label_input"},ae=M((()=>(0,o._)("label",{class:"label"},"Тип для скачивания:",-1))),de={class:"footer"},_e={class:"btns"};function ue(e,t,s,n,c,i){const a=(0,o.up)("selector-vue");return(0,o.wg)(),(0,o.iD)("div",P,[(0,o._)("div",Q,[(0,o._)("div",R,[(0,o.WI)(e.$slots,"title",{},void 0,!0)]),(0,o._)("div",ee,[(0,o._)("div",te,[se,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>c.name=e),class:(0,l.C_)(["input",{not_valid:c.try_accept&&""==c.name}])},null,2),[[J.nr,c.name]])]),(0,o._)("div",oe,[ne,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>c.serviceID=e),class:(0,l.C_)(["input",{not_valid:c.try_accept&&""==c.serviceID}])},null,2),[[J.nr,c.serviceID]])]),(0,o._)("div",le,[ce,(0,o.Wm)(a,{options_props:c.options1,onSelect:i.option_select1,selected_option:c.gouge_type},null,8,["options_props","onSelect","selected_option"])]),(0,o._)("div",ie,[ae,(0,o.Wm)(a,{options_props:c.options2,onSelect:i.option_select2,selected_option:c.download_type},null,8,["options_props","onSelect","selected_option"])])]),(0,o._)("div",de,[(0,o._)("div",_e,[(0,o._)("button",{class:"btn btn1",onClick:t[2]||(t[2]=e=>i.close_modal())},"Отмена"),(0,o._)("button",{class:"btn btn2",onClick:t[3]||(t[3]=e=>i.save())},"Сохранить")])])])])}var re={components:{SelectorVue:X.Z},props:{cur_doc:{type:Object,required:!1,default(){return{}}},idx:{type:Number,required:!1,default(){return null}}},data(){return{options1:[{name:"docx",value:1},{name:"xlsx",value:2}],gouge_type:{name:"docx",value:1},options2:[{name:"Исходный",value:1},{name:"pdf",value:2}],download_type:{name:"Исходный",value:1},try_accept:!1,name:"",serviceID:""}},mounted(){(0,o.Y3)((()=>this.add_cur_doc()))},emits:{save_new_doc:null,close:null,save_cur_doc:null},methods:{save(){if(this.try_accept=!0,""!=this.name&&""!=this.serviceID){const e={name:this.name,serviceID:this.serviceID,gouge_type:this.gouge_type.name,download_type:this.download_type.name};Object.keys(this.cur_doc).length>0?this.$emit("save_cur_doc",e,this.idx):this.$emit("save_new_doc",e),this.close_modal()}},close_modal(){this.$emit("close")},option_select1(e){Object.assign(this.gouge_type,e)},option_select2(e){Object.assign(this.download_type,e)},add_cur_doc(){if(Object.keys(this.cur_doc).length>0){this.name=this.cur_doc.name,this.serviceID=this.cur_doc.serviceID;const e=(e,t)=>{let s={};return e.forEach((e=>{e.name==t&&Object.assign(s,e)})),s};this.gouge_type=e(this.options1,this.cur_doc.gouge_type),this.download_type=e(this.options2,this.cur_doc.download_type)}}}},pe=s(3744);const ve=(0,pe.Z)(re,[["render",ue],["__scopeId","data-v-d393d312"]]);var me=ve,he=s(3907),we={components:{SelectorVue:X.Z,DocumentSettingAddNew:me},data(){return{name:"Дмитрий Ивлев",title:["Название","Google ID файла","Шаблон","Тип шаблона","Тип для скачивания"],options:[{name:"Не выбрано",value:1},{name:"Прибыль",value:2},{name:"Бюджет общий",value:3}],selected_option:{name:"Не выбрано",value:1},showAddNew:!1,cur_doc:{},selected_doc_idx:null}},computed:{...(0,he.Se)(["documents"])},mounted(){this.open_add_new()},methods:{option_select(e){Object.assign(this.selected_option,e)},open_edit(e){Object.assign(this.cur_doc,e),this.selected_doc_idx=this.documents.indexOf(e),this.open_add_new()},open_add_new(){this.showAddNew=!0,this.$refs.app.style.pointerEvents="none",this.$refs.app.style.filter="blur(5px)"},close_add_new(){this.showAddNew=!1,this.$refs.app.style.pointerEvents="all",this.$refs.app.style.filter="none"},save_new_doc(e){this.$store.commit("save_new_doc",e)},save_cur_doc(e,t){const s={idx:t,cur_doc:e};this.$store.commit("save_cur_doc",s)},delete_cur_doc(e){const t=this.documents.indexOf(e);this.$store.commit("delete_cur_doc",t)}}};const be=(0,pe.Z)(we,[["render",T],["__scopeId","data-v-3fd61670"]]);var ge=be,ye={components:{DocumentSetting:ge}};const fe=(0,pe.Z)(ye,[["render",n]]);var ke=fe}}]);
//# sourceMappingURL=282.a82306e8.js.map