"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[140],{4306:function(e,t,n){n.d(t,{Z:function(){return d}});var o=n(3396),s=n(7139);const a={class:"span"};function i(e,t,n,i,l,c){const r=(0,o.up)("selector-vue");return n.show?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["bottom",{blur:n.blur}])},[n.previous?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>c.changePage(n.page-1)),class:"btn previous"},(0,s.zw)("<"))):(0,o.kq)("",!0),(0,o._)("div",a,(0,s.zw)(n.page),1),n.next?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>c.changePage(n.page+1)),class:"btn next"},(0,s.zw)(">"))):(0,o.kq)("",!0),(0,o.Wm)(r,{class:"count",options_props:l.count_values,selected_option:{name:n.count,value:Math.random()},onSelect:c.change_count},null,8,["options_props","selected_option","onSelect"])],2)):(0,o.kq)("",!0)}var l=n(5819),c={components:{SelectorVue:l.Z},props:{previous:{type:Boolean,required:!0},next:{type:Boolean,required:!0},page:{type:Number,required:!0},count:{type:Number,required:!0},blur:{type:Boolean,required:!1,default:!1},show:{type:Boolean,required:!0}},emits:{changePage:null,changeCount:null},data(){return{count_values:[{name:"3",value:1},{name:"5",value:2},{name:"15",value:3},{name:"40",value:4}]}},mounted(){this.change_count({name:this.count})},methods:{changePage(e){this.$emit("changePage",e)},change_count(e){this.$emit("changeCount",e.name)}}},r=n(89);const u=(0,r.Z)(c,[["render",i],["__scopeId","data-v-c2dffa7c"]]);var d=u},5819:function(e,t,n){n.d(t,{Z:function(){return h}});var o=n(3396),s=n(7139),a=n(9242);const i={class:"v-select"},l={class:"options",key:"a1"},c=["onClick"];function r(e,t,n,r,u,d){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",{class:(0,s.C_)(["title",{title_checked:r.show_options,disabled:n.disabled}]),onClick:t[0]||(t[0]=e=>r.open_close_options()),onFocusout:t[1]||(t[1]=(...e)=>r.handleFocusOut&&r.handleFocusOut(...e)),tabindex:"0"},[(0,o._)("p",null,(0,s.zw)(n.selected_option.name),1),n.disabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["arrow",{rotate_arrow:r.show_options}])},null,2))],34),(0,o.Wm)(a.uT,{name:"list"},{default:(0,o.w5)((()=>[r.show_options?((0,o.wg)(),(0,o.iD)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.options,(e=>((0,o.wg)(),(0,o.iD)("p",{key:e.value,onClick:t=>r.select_option(e)},(0,s.zw)(e.name),9,c)))),128))])):(0,o.kq)("",!0)])),_:1})])}var u=n(4870),d={props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0,default(){return{}}},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},emits:{select:null},setup(e,{emit:t}){const n=(0,u.iH)([]);(0,o.bv)((()=>{(0,o.Y3)((()=>{s()}))}));const s=()=>{n.value=[],e.options_props?.forEach((e=>n.value.push(e)))};(0,o.YP)((()=>e.options_props),(()=>{s()}),{deep:!0});const a=(0,u.iH)(!1),i=()=>{a.value=!1},l=()=>{e.disabled||(a.value=!a.value)},c=()=>{i()},r=n=>{t("select",n,e.idx),i()};return{open_close_options:l,handleFocusOut:c,show_options:a,options:n,select_option:r}}},p=n(89);const _=(0,p.Z)(d,[["render",r],["__scopeId","data-v-22e82ece"]]);var h=_},9336:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var o=n(3396),s=n(7139);const a={class:"app"},i={class:"header"},l={class:"btns"},c=["onClick"],r={class:"content"},u={class:"top"};function d(e,t,n,d,p,_){const h=(0,o.up)("archive-grid");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",i,[(0,o._)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.catalog,(t=>((0,o.wg)(),(0,o.iD)("button",{class:(0,s.C_)(["btns_btn",{selected_catalog:e.$route.name===t.value}]),onClick:e=>_.route(t.value),key:t},(0,s.zw)(t.name),11,c)))),128))])]),(0,o._)("div",r,[(0,o._)("div",u,[(0,o._)("p",null,"Найдено: "+(0,s.zw)(_.coun_archive),1)]),(0,o.Wm)(h)])])}var p=n(9242);const _=e=>((0,o.dD)("data-v-bec3c932"),e=e(),(0,o.Cn)(),e),h={key:0,class:"text"},g={key:1,class:"table"},v={class:"row title"},m=_((()=>(0,o._)("td",{class:"item"},null,-1))),w={class:"item"},b=["onClick"];function k(e,t,n,a,i,l){const c=(0,o.up)("grid-bottom");return(0,o.wg)(),(0,o.iD)(o.HY,null,[0==l.archive_list.length?((0,o.wg)(),(0,o.iD)("label",h," Ничего не найдено ")):((0,o.wg)(),(0,o.iD)("table",g,[(0,o._)("thead",null,[(0,o._)("tr",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.all_fields,(e=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("td",{key:e.id,class:"item"},(0,s.zw)(e.name),1)),[[p.F8,e?.table_config.visible]]))),128)),m])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.archive_list,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id,class:"row"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.all_fields,(t=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("td",{key:t,class:"item"},(0,s.zw)(e.fields[t.code]),1)),[[p.F8,t?.table_config.visible]]))),128)),(0,o._)("td",w,[(0,o._)("div",{class:"edit_icon",onClick:t=>l.unarchive_data(e)},null,8,b)])])))),128))])])),(0,o.Wm)(c,{previous:null!=l.meta.links.prev,next:null!=l.meta.links.next,page:l.meta.meta.current_page,show:0!=l.archive_list.length,count:l.meta.meta.per_page,onChangePage:l.changePage,onChangeCount:l.changeCount},null,8,["previous","next","page","show","count","onChangePage","onChangeCount"])],64)}var f=n(4306),y={components:{GridBottom:f.Z},data(){return{}},mounted(){this.$store.dispatch("get_all_fields"),this.$store.dispatch("get_products",{is_archive:1})},computed:{meta(){return this.$store.state.products.meta},all_fields(){return this.$store.state.fields.all_fields},archive_list(){return this.$store.state.products.products}},watch:{},methods:{changeCount(e){this.count=e},changePage(e){this.page=e},unarchive_data(e){const t={id:e.id,fields:e.fields,is_archive:0};this.$store.dispatch("update_product",t),this.$store.dispatch("get_products",{is_archive:1})}}},C=n(89);const D=(0,C.Z)(y,[["render",k],["__scopeId","data-v-bec3c932"]]);var q=D,$=n(65),x={name:"ArchiveView",components:{ArchiveGrid:q},computed:{...(0,$.Se)(["catalog"]),coun_archive(){return this.$store.state.products.products.length}},methods:{route(e){this.$router.push("/"+e)}}};const P=(0,C.Z)(x,[["render",d],["__scopeId","data-v-671b2b9e"]]);var z=P}}]);
//# sourceMappingURL=140.a8b8554e.js.map