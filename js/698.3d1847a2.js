(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[698],{9662:function(e,t,n){var i=n(614),o=n(6330),s=TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a function")}},1223:function(e,t,n){var i=n(5112),o=n(30),s=n(3070).f,a=i("unscopables"),l=Array.prototype;void 0==l[a]&&s(l,a,{configurable:!0,value:o(null)}),e.exports=function(e){l[a][e]=!0}},9670:function(e,t,n){var i=n(111),o=String,s=TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not an object")}},1318:function(e,t,n){var i=n(5656),o=n(1400),s=n(6244),a=function(e){return function(t,n,a){var l,r=i(t),c=s(r),d=o(a,c);if(e&&n!=n){while(c>d)if(l=r[d++],l!=l)return!0}else for(;c>d;d++)if((e||d in r)&&r[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:function(e,t,n){var i=n(1702),o=i({}.toString),s=i("".slice);e.exports=function(e){return s(o(e),8,-1)}},9920:function(e,t,n){var i=n(2597),o=n(3887),s=n(1236),a=n(3070);e.exports=function(e,t,n){for(var l=o(t),r=a.f,c=s.f,d=0;d<l.length;d++){var u=l[d];i(e,u)||n&&i(n,u)||r(e,u,c(t,u))}}},8880:function(e,t,n){var i=n(9781),o=n(3070),s=n(9114);e.exports=i?function(e,t,n){return o.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,n){var i=n(614),o=n(8880),s=n(6339),a=n(3072);e.exports=function(e,t,n,l){l||(l={});var r=l.enumerable,c=void 0!==l.name?l.name:t;return i(n)&&s(n,c,l),l.global?r?e[t]=n:a(t,n):(l.unsafe?e[t]&&(r=!0):delete e[t],r?e[t]=n:o(e,t,n)),e}},3072:function(e,t,n){var i=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},9781:function(e,t,n){var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var i=n(7854),o=n(111),s=i.document,a=o(s)&&o(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},8113:function(e,t,n){var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:function(e,t,n){var i,o,s=n(7854),a=n(8113),l=s.process,r=s.Deno,c=l&&l.versions||r&&r.version,d=c&&c.v8;d&&(i=d.split("."),o=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&a&&(i=a.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/),i&&(o=+i[1]))),e.exports=o},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var i=n(7854),o=n(1236).f,s=n(8880),a=n(8052),l=n(3072),r=n(9920),c=n(4705);e.exports=function(e,t){var n,d,u,p,_,h,f=e.target,m=e.global,g=e.stat;if(d=m?i:g?i[f]||l(f,{}):(i[f]||{}).prototype,d)for(u in t){if(_=t[u],e.dontCallGetSet?(h=o(d,u),p=h&&h.value):p=d[u],n=c(m?u:f+(g?".":"#")+u,e.forced),!n&&void 0!==p){if(typeof _==typeof p)continue;r(_,p)}(e.sham||p&&p.sham)&&s(_,"sham",!0),a(d,u,_,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4374:function(e,t,n){var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var i=n(4374),o=Function.prototype.call;e.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,n){var i=n(9781),o=n(2597),s=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,l=o(s,"name"),r=l&&"something"===function(){}.name,c=l&&(!i||i&&a(s,"name").configurable);e.exports={EXISTS:l,PROPER:r,CONFIGURABLE:c}},1702:function(e,t,n){var i=n(4374),o=Function.prototype,s=o.bind,a=o.call,l=i&&s.bind(a,a);e.exports=i?function(e){return e&&l(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:function(e,t,n){var i=n(7854),o=n(614),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e]):i[e]&&i[e][t]}},8173:function(e,t,n){var i=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},7854:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var i=n(1702),o=n(7908),s=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(o(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var i=n(5005);e.exports=i("document","documentElement")},4664:function(e,t,n){var i=n(9781),o=n(7293),s=n(317);e.exports=!i&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var i=n(1702),o=n(7293),s=n(4326),a=Object,l=i("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?l(e,""):a(e)}:a},2788:function(e,t,n){var i=n(1702),o=n(614),s=n(5465),a=i(Function.toString);o(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},9909:function(e,t,n){var i,o,s,a=n(8536),l=n(7854),r=n(1702),c=n(111),d=n(8880),u=n(2597),p=n(5465),_=n(6200),h=n(3501),f="Object already initialized",m=l.TypeError,g=l.WeakMap,v=function(e){return s(e)?o(e):i(e,{})},y=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(a||p.state){var w=p.state||(p.state=new g),b=r(w.get),x=r(w.has),k=r(w.set);i=function(e,t){if(x(w,e))throw new m(f);return t.facade=e,k(w,e,t),t},o=function(e){return b(w,e)||{}},s=function(e){return x(w,e)}}else{var D=_("state");h[D]=!0,i=function(e,t){if(u(e,D))throw new m(f);return t.facade=e,d(e,D,t),t},o=function(e){return u(e,D)?e[D]:{}},s=function(e){return u(e,D)}}e.exports={set:i,get:o,has:s,enforce:v,getterFor:y}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var i=n(7293),o=n(614),s=/#|\.prototype\./,a=function(e,t){var n=r[l(e)];return n==d||n!=c&&(o(t)?i(t):!!t)},l=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},r=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},111:function(e,t,n){var i=n(614);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var i=n(5005),o=n(614),s=n(7976),a=n(3307),l=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&s(t.prototype,l(e))}},6244:function(e,t,n){var i=n(7466);e.exports=function(e){return i(e.length)}},6339:function(e,t,n){var i=n(7293),o=n(614),s=n(2597),a=n(9781),l=n(6530).CONFIGURABLE,r=n(2788),c=n(9909),d=c.enforce,u=c.get,p=Object.defineProperty,_=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),h=String(String).split("String"),f=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&p(e,"name",{value:t,configurable:!0}),_&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var i=d(e);return s(i,"source")||(i.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return o(this)&&u(this).source||r(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},133:function(e,t,n){var i=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(e,t,n){var i=n(7854),o=n(614),s=n(2788),a=i.WeakMap;e.exports=o(a)&&/native code/.test(s(a))},30:function(e,t,n){var i,o=n(9670),s=n(6048),a=n(748),l=n(3501),r=n(490),c=n(317),d=n(6200),u=">",p="<",_="prototype",h="script",f=d("IE_PROTO"),m=function(){},g=function(e){return p+h+u+e+p+"/"+h+u},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",r.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&i?v(i):y():v(i);var e=a.length;while(e--)delete w[_][a[e]];return w()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[_]=o(e),n=new m,m[_]=null,n[f]=e):n=w(),void 0===t?n:s.f(n,t)}},6048:function(e,t,n){var i=n(9781),o=n(3353),s=n(3070),a=n(9670),l=n(5656),r=n(1956);t.f=i&&!o?Object.defineProperties:function(e,t){a(e);var n,i=l(t),o=r(t),c=o.length,d=0;while(c>d)s.f(e,n=o[d++],i[n]);return e}},3070:function(e,t,n){var i=n(9781),o=n(4664),s=n(3353),a=n(9670),l=n(4948),r=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",_="writable";t.f=i?s?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&_ in n&&!n[_]){var i=d(e,t);i&&i[_]&&(e[t]=n.value,n={configurable:p in n?n[p]:i[p],enumerable:u in n?n[u]:i[u],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=l(t),a(n),o)try{return c(e,t,n)}catch(i){}if("get"in n||"set"in n)throw r("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var i=n(9781),o=n(6916),s=n(5296),a=n(9114),l=n(5656),r=n(4948),c=n(2597),d=n(4664),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=l(e),t=r(t),d)try{return u(e,t)}catch(n){}if(c(e,t))return a(!o(s.f,e,t),e[t])}},8006:function(e,t,n){var i=n(6324),o=n(748),s=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},7976:function(e,t,n){var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:function(e,t,n){var i=n(1702),o=n(2597),s=n(5656),a=n(1318).indexOf,l=n(3501),r=i([].push);e.exports=function(e,t){var n,i=s(e),c=0,d=[];for(n in i)!o(l,n)&&o(i,n)&&r(d,n);while(t.length>c)o(i,n=t[c++])&&(~a(d,n)||r(d,n));return d}},1956:function(e,t,n){var i=n(6324),o=n(748);e.exports=Object.keys||function(e){return i(e,o)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},2140:function(e,t,n){var i=n(6916),o=n(614),s=n(111),a=TypeError;e.exports=function(e,t){var n,l;if("string"===t&&o(n=e.toString)&&!s(l=i(n,e)))return l;if(o(n=e.valueOf)&&!s(l=i(n,e)))return l;if("string"!==t&&o(n=e.toString)&&!s(l=i(n,e)))return l;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var i=n(5005),o=n(1702),s=n(8006),a=n(5181),l=n(9670),r=o([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(l(e)),n=a.f;return n?r(t,n(e)):t}},4488:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},6200:function(e,t,n){var i=n(2309),o=n(9711),s=i("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},5465:function(e,t,n){var i=n(7854),o=n(3072),s="__core-js_shared__",a=i[s]||o(s,{});e.exports=a},2309:function(e,t,n){var i=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var i=n(9303),o=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):s(n,t)}},5656:function(e,t,n){var i=n(8361),o=n(4488);e.exports=function(e){return i(o(e))}},9303:function(e,t,n){var i=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},7466:function(e,t,n){var i=n(9303),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},7908:function(e,t,n){var i=n(4488),o=Object;e.exports=function(e){return o(i(e))}},7593:function(e,t,n){var i=n(6916),o=n(111),s=n(2190),a=n(8173),l=n(2140),r=n(5112),c=TypeError,d=r("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,r=a(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},4948:function(e,t,n){var i=n(7593),o=n(2190);e.exports=function(e){var t=i(e,"string");return o(t)?t:t+""}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var i=n(1702),o=0,s=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+s,36)}},3307:function(e,t,n){var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var i=n(9781),o=n(7293);e.exports=i&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var i=n(7854),o=n(2309),s=n(2597),a=n(9711),l=n(133),r=n(3307),c=o("wks"),d=i.Symbol,u=d&&d["for"],p=r?d:d&&d.withoutSetter||a;e.exports=function(e){if(!s(c,e)||!l&&"string"!=typeof c[e]){var t="Symbol."+e;l&&s(d,e)?c[e]=d[e]:c[e]=r&&u?u(t):p(t)}return c[e]}},6699:function(e,t,n){"use strict";var i=n(2109),o=n(1318).includes,s=n(7293),a=n(1223),l=s((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:l},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},9935:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(6252),o=n(3577),s=n(9963);const a={class:"v-select"},l={class:"options",key:"a1"},r=["onClick"];function c(e,t,n,c,d,u){return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",{class:(0,o.C_)(["title",{title_checked:c.show_options,disabled:n.disabled}]),onClick:t[0]||(t[0]=e=>c.open_close_options()),onFocusout:t[1]||(t[1]=(...e)=>c.handleFocusOut&&c.handleFocusOut(...e)),tabindex:"0"},[(0,i._)("p",null,(0,o.zw)(n.selected_option.name),1),n.disabled?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["arrow",{rotate_arrow:c.show_options}])},null,2))],34),(0,i.Wm)(s.uT,{name:"list"},{default:(0,i.w5)((()=>[c.show_options?((0,i.wg)(),(0,i.iD)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.options,(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.value,onClick:t=>c.select_option(e)},(0,o.zw)(e.name),9,r)))),128))])):(0,i.kq)("",!0)])),_:1})])}var d=n(2262),u={props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0,default(){return{}}},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},emits:{select:null},setup(e,{emit:t}){const n=(0,d.iH)([]);(0,i.bv)((()=>{n.value=[],e.options_props.forEach((e=>n.value.push(e)))}));const o=(0,d.iH)(!1),s=()=>{o.value=!1},a=()=>{e.disabled||(o.value=!o.value)},l=()=>{s()},r=n=>{t("select",n,e.idx),s()};return{open_close_options:a,handleFocusOut:l,show_options:o,options:n,select_option:r}}},p=n(3744);const _=(0,p.Z)(u,[["render",c],["__scopeId","data-v-6e6fe5a6"]]);var h=_},7698:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ur}});var i=n(6252),o=n(3577),s=n(9963);const a=e=>((0,i.dD)("data-v-d40bbd96"),e=e(),(0,i.Cn)(),e),l={class:"table_setings"},r={key:0,class:"edit_staff"},c={key:1,class:"new_position"},d={key:2,class:"cancel_position"},u={class:"header_left"},p={class:"btns"},_=["onClick"],h={class:"radio_btns"},f=["value","id"],m=["for"],g={class:"header_right"},v=a((()=>(0,i._)("div",{class:"ref"},[(0,i._)("div",{class:"ref_1_logo"}),(0,i._)("a",{class:"links"},"Выгрузка в эксель")],-1))),y={class:"ref"},w=a((()=>(0,i._)("div",{class:"ref_2_logo"},null,-1))),b={class:"modal_settings modal_sync"},x=a((()=>(0,i._)("a",null,[(0,i._)("div",{class:"modal_container"},"AmoCrm -> Склад")],-1))),k=a((()=>(0,i._)("a",null,[(0,i._)("div",{class:"modal_container"},"Склад -> AmoCrm")],-1))),D=[x,k],S={class:"modal_settings"},C=a((()=>(0,i._)("a",null,[(0,i._)("div",{class:"modal_container"}," Синхронизация склада с товарами amoCrm ")],-1))),E=a((()=>(0,i._)("a",null,[(0,i._)("div",{class:"modal_container"},"Документы")],-1))),O={class:"filters_left"},V={class:"date"},I=a((()=>(0,i._)("input",{type:"date",id:"start",name:"trip-start",value:"2018-07-22",min:"2018-01-01",max:"2032-12-31","aria-required":"true","aria-invalid":"false"},null,-1))),T={class:"bot"},j=a((()=>(0,i._)("label",{for:"grid"},null,-1))),q={class:"buttons"},P={class:"filters_right"},A={class:"filter_group"},M=a((()=>(0,i._)("label",{for:"filter"},"Фильтр",-1))),F=["disabled"],N={class:"grid"};function U(e,t,n,a,x,k){const U=(0,i.up)("table-setings"),Y=(0,i.up)("edit-stuff"),$=(0,i.up)("new-position"),W=(0,i.up)("cancel-position"),z=(0,i.up)("main-grid"),H=(0,i.up)("card-grid");return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["app",{disabled:k.disabled_for_modals}]),onClick:t[11]||(t[11]=t=>{e.show_settings&&k.close_settings(),e.show_sync&&k.close_sync()})},[(0,i.wy)((0,i._)("div",l,[(0,i.Wm)(U,{names:x.paginatedParams,data:x.paginatedData,collval:e.show_columns[x.selected_storage],onReturnData1:k.getData},null,8,["names","data","collval","onReturnData1"])],512),[[s.F8,e.show_table_settings]]),e.show_edit_stuff?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(Y)])):(0,i.kq)("",!0),e.show_new_position?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)($,{rows:k.rows.arr,idxes:k.rows.idxes},null,8,["rows","idxes"])])):(0,i.kq)("",!0),e.show_cancel_position?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(W,{rows:k.rows_to_cancel.arr,idxes:k.rows_to_cancel.idxes},null,8,["rows","idxes"])])):(0,i.kq)("",!0),(0,i._)("div",{class:(0,o.C_)(["header",{blur:k.disabled_for_modals}])},[(0,i._)("div",u,[(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.catalog,(t=>((0,i.wg)(),(0,i.iD)("button",{class:(0,o.C_)(["btns_btn",{selected_catalog:e.$route.name===t.value}]),onClick:e=>k.route(t.value),key:t},(0,o.zw)(t.name),11,_)))),128))]),(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(x.storage_pages,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"radio_btn",key:e},[(0,i.wy)((0,i._)("input",{type:"radio",value:e.name,id:e.name,name:"selected_storage","onUpdate:modelValue":t[0]||(t[0]=e=>x.selected_storage=e)},null,8,f),[[s.G2,x.selected_storage]]),(0,i._)("label",{for:e.name},(0,o.zw)(e.name),9,m)])))),128))])]),(0,i._)("div",g,[v,(0,i._)("div",y,[w,(0,i._)("a",{class:"links",onClick:t[1]||(t[1]=(0,s.iM)((e=>k.open_close_sync()),["stop"]))}," Синхронизировать товары "),(0,i.Wm)(s.uT,{name:"modal"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",b,D,512),[[s.F8,e.show_sync]])])),_:1})]),(0,i._)("button",{class:"settings_btn",onClick:t[4]||(t[4]=(0,s.iM)((e=>k.open_close_settings()),["stop"]))},[(0,i.Wm)(s.uT,{name:"modal"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",S,[(0,i._)("a",null,[(0,i._)("div",{class:"modal_container",onClick:t[2]||(t[2]=e=>k.open_table_settings())}," Настройка таблицы ")]),(0,i._)("a",null,[(0,i._)("div",{class:"modal_container",onClick:t[3]||(t[3]=e=>k.open_edit_stuff())}," Настройка товаров ")]),C,E],512),[[s.F8,e.show_settings]])])),_:1})])])],2),(0,i._)("div",{class:(0,o.C_)(["wrapper",{blur:e.show_table_settings||e.show_edit_stuff||e.show_new_position}])},[(0,i._)("div",{class:(0,o.C_)(["filters",{blur:e.show_edit_modal}])},[(0,i._)("div",O,[(0,i._)("div",V,[I,(0,i._)("div",T,[(0,i._)("p",null,"Найдено: "+(0,o.zw)(e.data.length),1),(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>x.grid=e),id:"grid"},null,512),[[s.e8,x.grid]]),j])]),(0,i.Wm)(s.uT,{name:"btns"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",q,[(0,i._)("button",{class:"button button_1 smallBtn",onClick:t[6]||(t[6]=e=>k.archive_data())}," Архивировать "),k.isServicePage?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("button",{class:"button button_2 smallBtn",onClick:t[7]||(t[7]=e=>k.open_close_new_position(!0))}," Добавить "),(0,i._)("button",{class:"button button_3 smallBtn",onClick:t[8]||(t[8]=e=>k.open_close_cancel_position(!0))}," Списать ")],64))],512),[[s.F8,e.show_buttons]])])),_:1})]),(0,i._)("div",P,[(0,i._)("div",A,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>x.filter_value=e),name:"filter",id:"filter",class:"checkbox"},null,512),[[s.e8,x.filter_value]]),M]),(0,i._)("button",{class:"button button_4 smallBtn",onClick:t[10]||(t[10]=e=>k.open_close_new_position(!0)),disabled:k.rows.arr.length>0&&!k.isServicePage}," Новая позиция ",8,F)])],2),(0,i._)("div",N,[x.grid?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(z,{key:0,data:x.paginatedData,params:x.paginatedParams,collval:e.show_columns[x.selected_storage],drop_page:x.drop_page,onUpdate_changeValue:k.update_changeValue},null,8,["data","params","collval","drop_page","onUpdate_changeValue"])),x.grid?((0,i.wg)(),(0,i.j4)(H,{key:1,data:x.paginatedData,params:x.paginatedParams,collval:e.show_columns[x.selected_storage],drop_page:x.drop_page,onUpdate_changeValue:k.update_changeValue},null,8,["data","params","collval","drop_page","onUpdate_changeValue"])):(0,i.kq)("",!0)])],2)],2)}const Y=e=>((0,i.dD)("data-v-9533fe00"),e=e(),(0,i.Cn)(),e),$={class:"wrapper"},W={class:"bar_row"},z={class:"bar_item_group"},H={class:"bar_item_icon"},R={class:"filters"},X={class:"item",key:"b1"},L={class:"item",key:"2b"},B={class:"item"},Z=["id","onUpdate:modelValue"],K=["for"],G={class:"dublitem"},Q=["onClick"],J=["onClick"],ee={class:"item"},te=["onClick"],ne={style:{margin:"5px"}},ie=Y((()=>(0,i._)("option",null,"3",-1))),oe=Y((()=>(0,i._)("option",null,"5",-1))),se=Y((()=>(0,i._)("option",null,"10",-1))),ae=Y((()=>(0,i._)("option",null,"20",-1))),le=[ie,oe,se,ae];function re(e,t,n,a,l,r){const c=(0,i.up)("edit-item"),d=(0,i.up)("filter-number"),u=(0,i.up)("filter-text"),p=(0,i.up)("filter-list"),_=(0,i.up)("filter-date"),h=(0,i.up)("filter-flag");return(0,i.wg)(),(0,i.iD)("div",$,[e.show_edit_modal?((0,i.wg)(),(0,i.j4)(c,{key:0,edit_data:l.edit_data},null,8,["edit_data"])):(0,i.kq)("",!0),((0,i.wg)(),(0,i.iD)("table",{class:(0,o.C_)(["table",{blur:e.show_edit_modal}]),key:l.updateKey},[(0,i._)("thead",null,[(0,i._)("tr",W,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.params,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("th",{class:"bar_item item",style:(0,o.j5)({minWidth:0===t?"17px":t===n.params.length-1?"20px":0!=r.width[t]?r.width[t]+"px":(r.collsCount>=8?100:r.collsCount>3?90:80)/r.collsCount+"%"}),key:e},[(0,i._)("div",z,[(0,i._)("div",null,(0,o.zw)(e),1),(0,i.wy)((0,i._)("button",H,null,512),[[s.F8,e]])])],4)),[[s.F8,!1!==n.collval[t-1]]]))),128))]),(0,i._)("tr",R,[(0,i.Wm)(s.W3,{name:"mdl"},{default:(0,i.w5)((()=>[(0,i.Wm)(s.uT,{name:"mdl",key:"1b"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("th",X,null,512),[[s.F8,e.show_filter]])])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.filtersValue,((t,o)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("th",{class:"item",key:o},[1==t.type||2==t.type?((0,i.wg)(),(0,i.j4)(d,{key:0,item:t,idx:o,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0),3==t.type||4==t.type?((0,i.wg)(),(0,i.j4)(u,{key:1,item:t,idx:o,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0),5==t.type||6==t.type?((0,i.wg)(),(0,i.j4)(p,{key:2,item:t,idx:o,selector_options:t.selector_options,onChange_filter_value:r.change_filter_value},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,i.kq)("",!0),7==t.type||8==t.type?((0,i.wg)(),(0,i.j4)(_,{key:3,item:t,idx:o,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0),9==t.type?((0,i.wg)(),(0,i.j4)(h,{key:4,item:t,idx:o,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0)])),[[s.F8,e.show_filter&&!1!==n.collval[o]]]))),128)),(0,i.wy)((0,i._)("th",L,null,512),[[s.F8,e.show_filter]])])),_:1})])]),(0,i._)("tbody",null,[(0,i.Wm)(s.W3,{name:"rows"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.paginatedData,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:e},[(0,i._)("td",B,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:t+"a","onUpdate:modelValue":t=>l.changeValue[n.data.indexOf(e)]=t},null,8,Z),[[s.e8,l.changeValue[n.data.indexOf(e)]]]),(0,i._)("label",{for:t+"a"},null,8,K)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Object.entries(e),((e,a)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("td",{class:(0,o.C_)([{open_dublitem:l.duplicate[t+l.idxes[l.page-1][0]]},"item"]),key:e},[(0,i._)("div",G,[(0,i.Uk)((0,o.zw)(e[1])+" ",1),a==n.params.indexOf("Название")-1&&l.showduplicate[t+l.idxes[l.page-1][0]+1]&&!l.duplicate[t+l.idxes[l.page-1][0]]?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e=>r.showduble(t+l.idxes[l.page-1][0]),class:"buttonDuwn btn"},null,8,Q)):(0,i.kq)("",!0),a!=n.params.indexOf("Название")-1||l.showduplicate[t+l.idxes[l.page-1][0]+1]||l.duplicate[t+l.idxes[l.page-1][0]]||!l.duplicate[t+l.idxes[l.page-1][0]+1]?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:e=>r.hideduble(t+l.idxes[l.page-1][0]),class:"buttonUp btn"},null,8,J))])],2)),[[s.F8,!1!==n.collval[a]]]))),128)),(0,i._)("td",ee,[(0,i._)("div",{class:"edit_icon",onClick:t=>r.open_edit_modal(e,n.data.indexOf(e))},null,8,te)])])),[[s.F8,!l.showduplicate[t+l.idxes[l.page-1][0]]]]))),128))])),_:1})])],2)),(0,i._)("div",{class:(0,o.C_)(["bottom",{blur:e.show_edit_modal}])},[l.page>1?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>l.page-=1)},(0,o.zw)("<"))):(0,i.kq)("",!0),(0,i._)("span",ne,(0,o.zw)(l.page),1),l.page*l.count<n.data.length-r.countHideRows?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>l.page+=1)},(0,o.zw)(">"))):(0,i.kq)("",!0),(0,i.wy)((0,i._)("select",{name:"count",id:"count",class:"count","onUpdate:modelValue":t[2]||(t[2]=e=>l.count=e)},le,512),[[s.bM,l.count]])],2)])}const ce=(0,i._)("div",{class:"background_edit_modal"},null,-1),de={class:"app_edit_modal"},ue={class:"header"},pe={class:"header_left"},_e={class:"header_right"},he={class:"btns"},fe=(0,i._)("button",{class:"btn2"},"Архивировать",-1),me=(0,i._)("div",{class:"hr"},null,-1),ge={class:"main"},ve={class:"row"},ye=(0,i._)("label",null,"Тип:",-1),we=(0,i._)("div",{class:"hr"},null,-1),be={class:"footer"},xe={class:"btns"},ke=(0,i._)("button",{class:"btn2"},"Архивировать",-1);function De(e,t,n,a,l,r){const c=(0,i.up)("SelectorVue"),d=(0,i.up)("edit-integer"),u=(0,i.up)("edit-float"),p=(0,i.up)("edit-string"),_=(0,i.up)("edit-text"),h=(0,i.up)("edit-selector"),f=(0,i.up)("edit-multi-selector"),m=(0,i.up)("edit-date"),g=(0,i.up)("edit-date-time"),v=(0,i.up)("edit-flag");return(0,i.wg)(),(0,i.iD)(i.HY,null,[ce,(0,i._)("div",de,[(0,i._)("div",ue,[(0,i._)("div",pe," Редактирование "+(0,o.zw)(n.edit_data[e.params.indexOf("Название")-1]),1),(0,i._)("div",_e,[(0,i._)("div",he,[(0,i._)("button",{class:"btn1",onClick:t[0]||(t[0]=e=>r.close_edit_modal())},"Отмена"),fe,(0,i._)("button",{class:"btn3",onClick:t[1]||(t[1]=e=>r.save_data())},"Сохранить")])])]),me,(0,i._)("div",ge,[(0,i._)("div",ve,[ye,(0,i.Wm)(c,{options_props:l.options_1,onSelect:r.option_select_1,selected_option:l.selected_option_1},null,8,["options_props","onSelect","selected_option"])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e.id},[1==e.type.value?((0,i.wg)(),(0,i.j4)(d,{key:0,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),2==e.type.value?((0,i.wg)(),(0,i.j4)(u,{key:1,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),3==e.type.value?((0,i.wg)(),(0,i.j4)(p,{key:2,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),4==e.type.value?((0,i.wg)(),(0,i.j4)(_,{key:3,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),5==e.type.value?((0,i.wg)(),(0,i.j4)(h,{key:4,item:e,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),6==e.type.value?((0,i.wg)(),(0,i.j4)(f,{key:5,item:e,selected_options:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_options","idx","onChange_value"])):(0,i.kq)("",!0),7==e.type.value?((0,i.wg)(),(0,i.j4)(m,{key:6,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),8==e.type.value?((0,i.wg)(),(0,i.j4)(g,{key:7,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0),9==e.type.value?((0,i.wg)(),(0,i.j4)(v,{key:8,item:e.field,selected_option:l.new_edit_data[r.params_indexOf(e)],idx:r.params_indexOf(e),onChange_value:r.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,i.kq)("",!0)])),[[s.F8,e.available_to_services||!r.isServicePage]]))),128))]),we,(0,i._)("div",be,[(0,i._)("div",xe,[(0,i._)("button",{class:"btn1",onClick:t[2]||(t[2]=e=>r.close_edit_modal())},"Отмена"),ke,(0,i._)("button",{class:"btn3",onClick:t[3]||(t[3]=e=>r.save_data())},"Сохранить")])])])],64)}var Se=n(9935);const Ce={class:"row"};function Ee(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",Ce,[(0,i._)("label",null,(0,o.zw)(n.item)+":",1),(0,i.wy)((0,i._)("input",{type:"number",step:"1",onchange:"this.value = parseInt(this.value);","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[s.nr,l.copy_selected_option]])])}var Oe={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.copy_selected_option=`${this.copy_selected_option}`,this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,i.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}},Ve=n(3744);const Ie=(0,Ve.Z)(Oe,[["render",Ee],["__scopeId","data-v-5ad09574"]]);var Te=Ie;const je={class:"row"};function qe(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",je,[(0,i._)("label",null,(0,o.zw)(n.item)+":",1),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[s.nr,l.copy_selected_option]])])}var Pe={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.copy_selected_option=`${this.copy_selected_option}`,this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,i.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Ae=(0,Ve.Z)(Pe,[["render",qe],["__scopeId","data-v-2af56a93"]]);var Me=Ae;const Fe={class:"row"};function Ne(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",Fe,[(0,i._)("label",null,(0,o.zw)(n.item)+":",1),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[s.nr,l.copy_selected_option]])])}var Ue={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,i.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Ye=(0,Ve.Z)(Ue,[["render",Ne],["__scopeId","data-v-565bc7e4"]]);var $e=Ye;const We={class:"row"};function ze(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",We,[(0,i._)("label",null,(0,o.zw)(n.item)+":",1),(0,i.wy)((0,i._)("textarea",{class:"text_area",cols:"30",rows:"10","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[s.nr,l.copy_selected_option]])])}var He={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,i.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Re=(0,Ve.Z)(He,[["render",ze],["__scopeId","data-v-d4016114"]]);var Xe=Re;const Le={class:"row"};function Be(e,t,n,s,a,l){const r=(0,i.up)("SelectorVue");return(0,i.wg)(),(0,i.iD)("div",Le,[(0,i._)("label",null,(0,o.zw)(n.item.field)+":",1),(0,i.Wm)(r,{options_props:n.item.selector_options,onSelect:l.option_select,selected_option:a.copy_selected_option},null,8,["options_props","onSelect","selected_option"])])}var Ze={components:{SelectorVue:Se.Z},props:{item:{type:Object,required:!0,default(){return{}}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:{}}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()}},methods:{change_value(){let e={};(0,i.Y3)((()=>{this.item.selector_options.forEach((t=>{t.name==this.selected_option&&(e=t)})),Object.assign(this.copy_selected_option,e)}))},option_select(e){this.$emit("change_value",e.name,this.idx)}}};const Ke=(0,Ve.Z)(Ze,[["render",Be],["__scopeId","data-v-7478762c"]]);var Ge=Ke;const Qe={class:"row"};function Je(e,t,n,s,a,l){const r=(0,i.up)("multi-selector");return(0,i.wg)(),(0,i.iD)("div",Qe,[(0,i._)("label",null,(0,o.zw)(n.item.field)+":",1),(0,i.Wm)(r,{options_props:n.item.selector_options,onSelect:l.option_select,selected_options:a.copy_selected_options},null,8,["options_props","onSelect","selected_options"])])}n(6699);const et={class:"multi_selector"},tt=["onClick"];function nt(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("div",et,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.options_props,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["item",{selected:n.selected_options[t]}]),key:e.value,onClick:e=>l.select(t)},(0,o.zw)(e.name),11,tt)))),128))])}var it={name:"MultiSelector",props:{options_props:{type:Array,required:!0,default(){return[]}},selected_options:{type:Array,required:!0,default(){return[!0]}}},data(){return{options_value:[]}},mounted(){this.selected_options.forEach((e=>this.options_value.push(e)))},methods:{select(e){0==e&&(this.options_value=[]),1==this.options_value[0]&&(this.options_value[0]=!1),this.options_value[e]=!this.options_value[e],this.options_value.includes(!0)||(this.options_value[0]=!0),this.$emit("select",this.options_value)}}};const ot=(0,Ve.Z)(it,[["render",nt],["__scopeId","data-v-39baddff"]]);var st=ot,at={components:{MultiSelector:st},props:{item:{type:Object,required:!0,default(){return{}}},selected_options:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_options:[]}},mounted(){this.change_value()},watch:{selected_options(){this.change_value()}},methods:{change_value(){let e=[];(0,i.Y3)((()=>{const t=this.selected_options.split(", ");this.item.selector_options.forEach((n=>{t.includes(n.name)?e.push(!0):e.push(!1)})),this.copy_selected_options=[],this.copy_selected_options=this.copy_selected_options.concat(e)}))},option_select(e){let t=[];e.forEach(((e,n)=>{e&&t.push(this.item.selector_options[n].name)})),t=t.join(", "),this.$emit("change_value",t,this.idx)}}};const lt=(0,Ve.Z)(at,[["render",Je],["__scopeId","data-v-1de3bc0e"]]);var rt=lt;const ct={class:"row"};function dt(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",ct,[(0,i._)("label",null,(0,o.zw)(n.item)+":",1),(0,i.wy)((0,i._)("input",{type:"date",class:"date_input","aria-required":"true","aria-invalid":"false","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[s.nr,l.copy_selected_option]])])}var ut={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,i.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const pt=(0,Ve.Z)(ut,[["render",dt],["__scopeId","data-v-3510c506"]]);var _t=pt;const ht={class:"row"};function ft(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",ht,[(0,i._)("label",null,(0,o.zw)(n.item)+":",1),(0,i.wy)((0,i._)("input",{type:"datetime-local",class:"date_input","aria-required":"true","aria-invalid":"false","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[s.nr,l.copy_selected_option]])])}var mt={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,i.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const gt=(0,Ve.Z)(mt,[["render",ft],["__scopeId","data-v-d77c5ab6"]]);var vt=gt;const yt={class:"row"},wt=["id"],bt=["for"];function xt(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",yt,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:n.idx+"za","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,8,wt),[[s.e8,l.copy_selected_option]]),(0,i._)("label",{for:n.idx+"za"},(0,o.zw)(n.item),9,bt)])}var kt={props:{item:{type:String,required:!0,default(){return""}},selected_option:{type:String,required:!0,default(){return""}},idx:{type:Number,required:!0}},data(){return{copy_selected_option:Boolean}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){let e="";e=this.copy_selected_option?"Да":"Нет",this.option_select(e)}},methods:{change_value(){(0,i.Y3)((()=>{"Да"==this.selected_option?this.copy_selected_option=!0:this.copy_selected_option=!1}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Dt=(0,Ve.Z)(kt,[["render",xt],["__scopeId","data-v-3e3912dc"]]);var St=Dt,Ct=n(3907),Et={components:{SelectorVue:Se.Z,EditInteger:Te,EditFloat:Me,EditString:$e,EditText:Xe,EditSelector:Ge,EditMultiSelector:rt,EditDate:_t,EditDateTime:vt,EditFlag:St},props:{edit_data:{type:Array,required:!0}},inject:["isServicePage"],computed:{...(0,Ct.Se)(["params"]),...(0,Ct.Se)(["fields"]),...(0,Ct.Se)(["idx_edit_modal"])},data(){return{options_1:[{name:"Товар",value:1},{name:"Услуга",value:2}],selected_option_1:{name:"Товар",value:1},new_edit_data:[]}},mounted(){this.new_edit_data=[],this.new_edit_data=this.new_edit_data.concat(this.edit_data),this.isServicePage.value?Object.assign(this.selected_option_1,this.options_1[1]):Object.assign(this.selected_option_1,this.options_1[0])},methods:{change_value(e,t){this.new_edit_data[t]=e},option_select_1(e){Object.assign(this.selected_option_1,e)},close_edit_modal(){this.$store.commit("close_edit_modal")},save_data(){const e={idx:this.idx_edit_modal,data:this.new_edit_data},t=this.isServicePage.value,n="Услуга"==this.selected_option_1.name;t||n||this.$store.commit("update_data_idx",e),t&&n&&this.$store.commit("update_service_idx",e),!t&&n&&(this.fields.forEach(((t,n)=>{t.available_to_services||(e.data[n]="")})),this.$store.commit("remove_data_idx",e),this.$store.commit("add_service",e)),t&&!n&&(this.$store.commit("remove_service_idx",e),this.$store.commit("add_data",e)),this.close_edit_modal()},search_selector_options(e){let t=[];return this.fields.forEach((n=>{n.field==e&&(t=n.selector_options)})),t},params_indexOf(e){return this.params.indexOf(e.field)-1}}};const Ot=(0,Ve.Z)(Et,[["render",De]]);var Vt=Ot;const It={class:"filter"};function Tt(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",It,[(0,i._)("button",{onClick:t[0]||(t[0]=e=>5==l.option?l.option=1:l.option+=1)},[(0,i._)("div",{class:(0,o.C_)(["icon",{equal:1==l.option,more:2==l.option,more_or_equal:3==l.option,less:4==l.option,less_or_equal:5==l.option}])},null,2)]),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.filterValue=e),type:"number"},null,512),[[s.nr,l.filterValue]])])}var jt={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{option:1,filterValue:null}},computed:{option_value(){return{option:this.option,value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,i.Y3)((()=>{this.option=this.item.option,this.filterValue=this.item.value}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)}}};const qt=(0,Ve.Z)(jt,[["render",Tt],["__scopeId","data-v-74292d04"]]);var Pt=qt;const At={class:"filter"};function Mt(e,t,n,a,l,r){return(0,i.wg)(),(0,i.iD)("div",At,[(0,i._)("button",{onClick:t[0]||(t[0]=e=>2==l.option?l.option=1:l.option+=1)},[(0,i._)("div",{class:(0,o.C_)(["icon",{equal:1==l.option,tilde:2==l.option}])},null,2)]),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.filterValue=e),type:"text"},null,512),[[s.nr,l.filterValue]])])}var Ft={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{option:1,filterValue:null}},computed:{option_value(){return{option:this.option,value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,i.Y3)((()=>{this.option=this.item.option,this.filterValue=this.item.value}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)}}};const Nt=(0,Ve.Z)(Ft,[["render",Mt],["__scopeId","data-v-530d9d52"]]);var Ut=Nt;const Yt={class:"filter"};function $t(e,t,n,s,a,l){const r=(0,i.up)("multi-selector");return(0,i.wg)(),(0,i.iD)("div",Yt,[(0,i._)("button",{onClick:t[0]||(t[0]=e=>l.open_selector())},[(0,i._)("div",{class:(0,o.C_)(["arrow",{rotate_arrow:a.show_selector}])},null,2)]),a.show_selector?((0,i.wg)(),(0,i.j4)(r,{key:0,class:"selector",id:"selector123",options_props:n.selector_options,onSelect:l.option_select_multi,selected_options:a.filterValue,onFocusout:l.handleFocusOut,tabindex:"1"},null,8,["options_props","onSelect","selected_options","onFocusout"])):(0,i.kq)("",!0)])}var Wt={components:{MultiSelector:st},props:{item:{type:Object,required:!0},idx:{type:Number,required:!0},selector_options:{type:Array,required:!0}},data(){return{filterValue:[],show_selector:!1}},computed:{option_value(){return{value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,i.Y3)((()=>{this.filterValue=[],this.item.value.forEach(((e,t)=>{this.filterValue[t]=e}))}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)},option_select_multi(e){this.filterValue=e},open_selector(){this.show_selector=!0,(0,i.Y3)((()=>{this.show_selector&&document.getElementById("selector123").focus()}))},handleFocusOut(){setTimeout((()=>{(0,i.Y3)((()=>{this.show_selector=!1}))}),150)}}};const zt=(0,Ve.Z)(Wt,[["render",$t],["__scopeId","data-v-42d70668"]]);var Ht=zt;const Rt={key:0,class:"filter"},Xt={key:1,class:"filter"};function Lt(e,t,n,o,a,l){return(0,i.wg)(),(0,i.iD)(i.HY,null,[7==n.item.type?((0,i.wg)(),(0,i.iD)("div",Rt,[(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>a.date_start=e)},null,512),[[s.nr,a.date_start]]),(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>a.date_end=e)},null,512),[[s.nr,a.date_end]])])):(0,i.kq)("",!0),8==n.item.type?((0,i.wg)(),(0,i.iD)("div",Xt,[(0,i.wy)((0,i._)("input",{type:"datetime-local","onUpdate:modelValue":t[2]||(t[2]=e=>a.date_start=e)},null,512),[[s.nr,a.date_start]]),(0,i.wy)((0,i._)("input",{type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=e=>a.date_end=e)},null,512),[[s.nr,a.date_end]])])):(0,i.kq)("",!0)],64)}var Bt={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{date_start:"",date_end:""}},computed:{date(){return{value:this.date_start+"~"+this.date_end}}},watch:{date:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},emits:{change_filter_value:null},methods:{change_value(){(0,i.Y3)((()=>{if(null!=this.item.value){const e=this.item.value.split("~");this.date_start=e[0],this.date_end=e[1]}}))},emit_value(){this.$emit("change_filter_value",this.date,this.idx)}}};const Zt=(0,Ve.Z)(Bt,[["render",Lt],["__scopeId","data-v-5332f71a"]]);var Kt=Zt;const Gt={class:"filter"};function Qt(e,t,n,o,s,a){const l=(0,i.up)("selector-vue");return(0,i.wg)(),(0,i.iD)("div",Gt,[(0,i.Wm)(l,{options_props:s.options,onSelect:a.option_select,selected_option:s.options[s.filterValue-1]},null,8,["options_props","onSelect","selected_option"])])}var Jt={components:{SelectorVue:Se.Z},props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{options:[{name:"Все",value:1},{name:"Да",value:2},{name:"Нет",value:3}],filterValue:1}},computed:{option_value(){return{value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,i.Y3)((()=>{this.filterValue=this.item.value}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)},option_select(e){this.filterValue=e.value}}};const en=(0,Ve.Z)(Jt,[["render",Qt],["__scopeId","data-v-12148177"]]);var tn=en,nn={name:"Main_grid",components:{EditItem:Vt,FilterNumber:Pt,FilterText:Ut,FilterList:Ht,FilterDate:Kt,FilterFlag:tn},props:{params:{type:Array,required:!0},data:{type:Array,required:!0},collval:{type:Array,required:!0},drop_page:{type:Boolean,required:!1}},data(){return{coll:[],count:20,page:1,filtersValue:[],updateKey:0,changeValue:[],duplicate:[],showduplicate:[],startIdx:0,idxes:[[0,6]],edit_data:[]}},watch:{count(){this.startIdx=0,this.feelIdxes(),this.page=1},paginatedData:{handler:function(){this.updateKey+=1,this.changeValue=[]},deep:!0},changeValue:{handler:function(){this.$emit("update_changeValue",this.changeValue)},deep:!0},data:{handler:function(){this.filtersValue=[],this.calcDuplicate(),this.feelFilters()},deep:!0},show_buttons:function(){this.$store.commit("open_close_buttons",this.show_buttons)},countHideRows:function(){this.feelIdxes()},drop_page(){this.drop_page&&(this.page=1)}},computed:{show_buttons(){let e=!1;return this.changeValue.forEach((t=>{void 0!=t&&(e=t||e)})),e},paginatedData(){const e=this.data.slice(this.idxes[this.page-1][0],this.idxes[this.page-1][1]);return e},collsCount(){let e=0;return this.collval.forEach((t=>t?e+=1:null)),e},countPage(){return this.count*(this.page-1)},countHideRows(){let e=0;return this.duplicate.forEach((t=>t?e+=1:null)),e},endidx(){return this.endId(this.startIdx)},width(){let e=[];return this.params.forEach((t=>{let n=0;this.fields.forEach((e=>{t===e.field&&(9==e.type.value&&(n=70),7!=e.type.value&&8!=e.type.value||(n=130))})),e.push(n)})),e},...(0,Ct.Se)(["show_edit_modal"]),...(0,Ct.Se)(["show_filter"]),...(0,Ct.Se)(["fields"])},mounted(){this.calcDuplicate(),this.feelIdxes(),this.feelFilters()},methods:{calcDuplicate(){let e="",t="";this.duplicate=[],this.showduplicate=[];const n=this.params.indexOf("Название")-1,i=this.params.indexOf("Артикул")-1;this.data.forEach((o=>{o[n]==e&&o[i]==t?this.duplicate.push(!0):this.duplicate.push(!1),e=o[n],t=o[i]})),this.duplicate.forEach((e=>this.showduplicate.push(e)))},showduble(e){while(this.duplicate[e+1])this.showduplicate[e+1]=!1,e+=1},hideduble(e){while(this.duplicate[e+1])this.showduplicate[e+1]=!0,e+=1},endId(e){let t=0;while(t!=this.count)this.duplicate[e]||(t+=1),e+=1;while(this.duplicate[e])e+=1;return e},feelIdxes(){this.idxes=[];while(this.startIdx<this.data.length)this.idxes.push([this.startIdx,this.endId(this.startIdx)]),this.startIdx=this.endId(this.startIdx);this.startIdx=0},open_edit_modal(e,t){this.edit_data=[],this.edit_data=this.edit_data.concat(e),this.$store.commit("open_edit_modal",t)},change_filter_value(e,t){Object.assign(this.filtersValue[t],e)},feelFilters(){this.params.forEach(((e,t)=>{if(0!=t&&t!=this.params.length-1){let t=null,n=[];this.fields.forEach((i=>i.field==e?(t=i.type.value,n=i.selector_options):null));let i=null;5!=t&&6!=t||(i=[!0]),9==t&&(i=1);const o={type:t,option:1,selector_options:n,value:i};this.filtersValue.push(o)}}))}}};const on=(0,Ve.Z)(nn,[["render",re],["__scopeId","data-v-9533fe00"]]);var sn=on;const an=e=>((0,i.dD)("data-v-c6aa453c"),e=e(),(0,i.Cn)(),e),ln={class:"header"},rn={key:0,class:"filters"},cn={class:"title"},dn={class:"grid"},un=["onClick"],pn={class:"row"},_n=an((()=>(0,i._)("div",{class:"name"},null,-1))),hn={class:"value"},fn={key:0,class:"grid"},mn={key:0,class:"text"},gn={class:"name"},vn={class:"value"},yn={class:"card_footer"},wn=["id","onUpdate:modelValue"],bn=["for"],xn=["onClick"],kn={style:{margin:"5px"}},Dn=an((()=>(0,i._)("option",null,"5",-1))),Sn=an((()=>(0,i._)("option",null,"10",-1))),Cn=an((()=>(0,i._)("option",null,"20",-1))),En=[Dn,Sn,Cn];function On(e,t,n,a,l,r){const c=(0,i.up)("edit-item"),d=(0,i.up)("filter-number"),u=(0,i.up)("filter-text"),p=(0,i.up)("filter-list"),_=(0,i.up)("filter-date"),h=(0,i.up)("filter-flag");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.show_edit_modal?((0,i.wg)(),(0,i.j4)(c,{key:0,edit_data:l.edit_data},null,8,["edit_data"])):(0,i.kq)("",!0),(0,i._)("div",{class:(0,o.C_)(["wrapper",{blur:e.show_edit_modal}])},[(0,i._)("div",ln,[(0,i.Wm)(s.W3,{name:"mdl"},{default:(0,i.w5)((()=>[e.show_filter?((0,i.wg)(),(0,i.iD)("div",rn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.filtersValue,((t,a)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"item",key:a},[(0,i._)("div",cn,(0,o.zw)(n.params[a+1]),1),1==t.type||2==t.type?((0,i.wg)(),(0,i.j4)(d,{key:0,item:t,idx:a,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0),3==t.type||4==t.type?((0,i.wg)(),(0,i.j4)(u,{key:1,item:t,idx:a,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0),5==t.type||6==t.type?((0,i.wg)(),(0,i.j4)(p,{key:2,item:t,idx:a,selector_options:t.selector_options,onChange_filter_value:r.change_filter_value},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,i.kq)("",!0),7==t.type||8==t.type?((0,i.wg)(),(0,i.j4)(_,{key:3,item:t,idx:a,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0),9==t.type?((0,i.wg)(),(0,i.j4)(h,{key:4,item:t,idx:a,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,i.kq)("",!0)])),[[s.F8,e.show_filter&&!1!==n.collval[a]]]))),128))])):(0,i.kq)("",!0)])),_:1})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.path,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:e},[(0,i._)("h2",null,(0,o.zw)(e)+":",1),(0,i._)("div",dn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.categoryes[e],(e=>((0,i.wg)(),(0,i.iD)("div",{class:"card",key:e,onClick:t=>{l.selected_categoryes.push(e),l.sel_idx+=1}},[(0,i._)("div",pn,[_n,(0,i._)("div",hn,(0,o.zw)(e),1)])],8,un)))),128))])])),[[s.F8,l.sel_idx==t&&l.show_categoryes]]))),128)),l.show_categoryes&&l.path.length!=l.selected_categoryes.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",fn,[0==r.paginatedData.length?((0,i.wg)(),(0,i.iD)("label",mn," Ничего не найдено ")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.paginatedData,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"card",key:e},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,t)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",gn,(0,o.zw)(n.params[t+1])+" :",1),(0,i._)("div",vn,(0,o.zw)(e),1)])),[[s.F8,n.collval[t]]]))),128)),(0,i._)("div",yn,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:t+"a","onUpdate:modelValue":e=>l.changeValue[t]=e},null,8,wn),[[s.e8,l.changeValue[t]]]),(0,i._)("label",{for:t+"a"},null,8,bn),(0,i._)("div",{class:"edit_icon",onClick:t=>r.open_edit_modal(e,n.data.indexOf(e))},null,8,xn)])])))),128))])),l.show_categoryes&&l.path.length!=l.selected_categoryes.length||0==r.paginatedData.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)(["bottom",{blur:e.show_edit_modal}])},[l.page>1?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>l.page-=1)},(0,o.zw)("<"))):(0,i.kq)("",!0),(0,i._)("span",kn,(0,o.zw)(l.page),1),l.page*l.count<n.data.length?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>l.page+=1)},(0,o.zw)(">"))):(0,i.kq)("",!0),(0,i.wy)((0,i._)("select",{name:"count",id:"count",class:"count","onUpdate:modelValue":t[2]||(t[2]=e=>l.count=e)},En,512),[[s.bM,l.count]])],2))],2)],64)}var Vn={name:"Main_grid",components:{EditItem:Vt,FilterNumber:Pt,FilterText:Ut,FilterList:Ht,FilterDate:Kt,FilterFlag:tn},props:{params:{type:Array,required:!0},data:{type:Array,required:!0},collval:{type:Array,required:!0},drop_page:{type:Boolean,required:!1}},emits:{update_changeValue:null},data(){return{count:20,page:1,filtersValue:[],edit_data:[],changeValue:[],path:["Поступление","№ партии","НДС включен в цену"],selected_categoryes:[],sel_idx:0,show_categoryes:!0,categoryes:{}}},computed:{countPage(){return this.count*(this.page-1)},paginatedData(){if(this.show_categoryes){let e=[];e=e.concat(this.data);let t=[];return e.forEach((e=>{let n=!0;this.path.forEach(((t,i)=>{const o=this.params.indexOf(t)-1;n=e[o]==this.selected_categoryes[i]&&n})),n&&t.push(e)})),t.slice(this.countPage,this.count*this.page)}return this.data.slice(this.countPage,this.count*this.page)},show_buttons(){let e=!1;return this.changeValue.forEach((t=>{void 0!=t&&(e=t||e)})),e},...(0,Ct.Se)(["show_edit_modal"]),...(0,Ct.Se)(["show_filter"]),...(0,Ct.Se)(["fields"])},mounted(){this.get_data_categoryes(),this.feelFilters()},watch:{page(){this.page<1&&(this.page=1)},count(){this.page=1},paginatedData:{handler:function(){this.changeValue=[]},deep:!0},data:{handler:function(){this.get_data_categoryes(),this.filtersValue=[],this.feelFilters()},deep:!0},changeValue:{handler:function(){this.$emit("update_changeValue",this.changeValue)},deep:!0},show_buttons(){this.$store.commit("open_close_buttons",this.show_buttons)},drop_page(){this.drop_page&&(this.page=1,this.selected_categoryes=[],this.sel_idx=0,this.show_categoryes=!0,this.feelFilters())},show_categoryes(){this.show_categoryes||(this.selected_categoryes=[],this.sel_idx=0)}},methods:{open_edit_modal(e,t){this.edit_data=[],this.edit_data=this.edit_data.concat(e),this.$store.commit("open_edit_modal",t)},change_filter_value(e,t){Object.assign(this.filtersValue[t],e)},get_data_categoryes(){function e(e){let t=[];for(let n of e)t.includes(n)||t.push(n);return t}this.categoryes={};const t={};let n=[];n=n.concat(this.params),n.pop(),n.shift(),n.forEach(((n,i)=>{t[n]=[];let o=[];this.data.forEach((e=>{o.push(e[i])})),t[n]=e(o)})),Object.assign(this.categoryes,t)},feelFilters(){this.params.forEach(((e,t)=>{if(0!=t&&t!=this.params.length-1){let t=null,n=[];this.fields.forEach((i=>i.field==e?(t=i.type.value,n=i.selector_options):null));let i=null;5!=t&&6!=t||(i=[!0]),9==t&&(i=1);const o={type:t,option:1,selector_options:n,value:i};this.filtersValue.push(o)}}))}}};const In=(0,Ve.Z)(Vn,[["render",On],["__scopeId","data-v-c6aa453c"]]);var Tn=In;const jn=e=>((0,i.dD)("data-v-71e45dab"),e=e(),(0,i.Cn)(),e),qn={class:"modal"},Pn={class:"wrapper"},An=jn((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("div",{class:"head-text"},"Настройка таблицы")],-1))),Mn={class:"modal-body"},Fn=jn((()=>(0,i._)("div",{class:"text"},[(0,i._)("small",{class:"small-text"},"Перетаскивайте колонки для изменения очередности")],-1))),Nn=["onUpdate:modelValue","id","disabled"],Un=["for"],Yn={class:"modal-footer"};function $n(e,t,n,a,l,r){const c=(0,i.up)("draggable");return(0,i.wg)(),(0,i.iD)("div",qn,[(0,i._)("div",Pn,[An,(0,i._)("div",Mn,[Fn,(0,i.Wm)(c,{class:"dragArea",list:e.list,onChange:e.changeData},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.list,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:t},[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.checkbox_value[n]=t,id:n,class:"checkbox",disabled:"Название"==t},null,8,Nn),[[s.e8,e.checkbox_value[n]]]),(0,i._)("label",{for:n},null,8,Un),(0,i.Uk)(" "+(0,o.zw)(t),1)])))),128))])),_:1},8,["list","onChange"])]),(0,i._)("div",Yn,[(0,i._)("button",{onClick:t[0]||(t[0]=t=>e.closeComp()),class:"unAcceptButton btn"},"Отмена"),(0,i._)("button",{onClick:t[1]||(t[1]=t=>e.returnData()),class:"acceptButton btn"}," Сохранить ")])])])}
/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e){return Hn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(){return Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xn.apply(this,arguments)}function Ln(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Bn(e,t){if(null==e)return{};var n,i,o=Ln(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Zn="1.14.0";function Kn(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Gn=Kn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qn=Kn(/Edge/i),Jn=Kn(/firefox/i),ei=Kn(/safari/i)&&!Kn(/chrome/i)&&!Kn(/android/i),ti=Kn(/iP(ad|od|hone)/i),ni=Kn(/chrome/i)&&Kn(/android/i),ii={capture:!1,passive:!1};function oi(e,t,n){e.addEventListener(t,n,!Gn&&ii)}function si(e,t,n){e.removeEventListener(t,n,!Gn&&ii)}function ai(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function li(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ri(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&ai(e,t):ai(e,t))||i&&e===n)return e;if(e===n)break}while(e=li(e))}return null}var ci,di=/\s+/g;function ui(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(di," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(di," ")}}function pi(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"===typeof n?"":"px")}}function _i(e,t){var n="";if("string"===typeof e)n=e;else do{var i=pi(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function hi(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,s=i.length;if(n)for(;o<s;o++)n(i[o],o);return i}return[]}function fi(){var e=document.scrollingElement;return e||document.documentElement}function mi(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var s,a,l,r,c,d,u;if(e!==window&&e.parentNode&&e!==fi()?(s=e.getBoundingClientRect(),a=s.top,l=s.left,r=s.bottom,c=s.right,d=s.height,u=s.width):(a=0,l=0,r=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Gn))do{if(o&&o.getBoundingClientRect&&("none"!==pi(o,"transform")||n&&"static"!==pi(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(pi(o,"border-top-width")),l-=p.left+parseInt(pi(o,"border-left-width")),r=a+s.height,c=l+s.width;break}}while(o=o.parentNode);if(i&&e!==window){var _=_i(o||e),h=_&&_.a,f=_&&_.d;_&&(a/=f,l/=h,u/=h,d/=f,r=a+d,c=l+u)}return{top:a,left:l,bottom:r,right:c,width:u,height:d}}}function gi(e,t,n){var i=ki(e,!0),o=mi(e)[t];while(i){var s=mi(i)[n],a=void 0;if(a="top"===n||"left"===n?o>=s:o<=s,!a)return i;if(i===fi())break;i=ki(i,!1)}return!1}function vi(e,t,n,i){var o=0,s=0,a=e.children;while(s<a.length){if("none"!==a[s].style.display&&a[s]!==Po.ghost&&(i||a[s]!==Po.dragged)&&ri(a[s],n.draggable,e,!1)){if(o===t)return a[s];o++}s++}return null}function yi(e,t){var n=e.lastElementChild;while(n&&(n===Po.ghost||"none"===pi(n,"display")||t&&!ai(n,t)))n=n.previousElementSibling;return n||null}function wi(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Po.clone||t&&!ai(e,t)||n++;return n}function bi(e){var t=0,n=0,i=fi();if(e)do{var o=_i(e),s=o.a,a=o.d;t+=e.scrollLeft*s,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function xi(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}function ki(e,t){if(!e||!e.getBoundingClientRect)return fi();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=pi(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return fi();if(i||t)return n;i=!0}}}while(n=n.parentNode);return fi()}function Di(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Si(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ci(e,t){return function(){if(!ci){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),ci=setTimeout((function(){ci=void 0}),t)}}}function Ei(){clearTimeout(ci),ci=void 0}function Oi(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Vi(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Ii="Sortable"+(new Date).getTime();function Ti(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==pi(e,"display")&&e!==Po.ghost){t.push({target:e,rect:mi(e)});var n=zn({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=_i(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(xi(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var o=!1,s=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=mi(n),r=n.prevFromRect,c=n.prevToRect,d=e.rect,u=_i(n,!0);u&&(l.top-=u.f,l.left-=u.e),n.toRect=l,n.thisAnimationDuration&&Si(r,l)&&!Si(a,l)&&(d.top-l.top)/(d.left-l.left)===(a.top-l.top)/(a.left-l.left)&&(t=qi(d,r,c,i.options)),Si(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=i.options.animation),i.animate(n,d,l,t)),t&&(o=!0,s=Math.max(s,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"===typeof n&&n()}),s):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){pi(e,"transition",""),pi(e,"transform","");var o=_i(this.el),s=o&&o.a,a=o&&o.d,l=(t.left-n.left)/(s||1),r=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!r,pi(e,"transform","translate3d("+l+"px,"+r+"px,0)"),this.forRepaintDummy=ji(e),pi(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),pi(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){pi(e,"transition",""),pi(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}function ji(e){return e.offsetWidth}function qi(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var Pi=[],Ai={initializeByDefault:!0},Mi={mount:function(e){for(var t in Ai)Ai.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ai[t]);Pi.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Pi.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";Pi.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](zn({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](zn({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var o in Pi.forEach((function(i){var o=i.pluginName;if(e.options[o]||i.initializeByDefault){var s=new i(e,t,e.options);s.sortable=e,s.options=e.options,e[o]=s,Xn(n,s.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);"undefined"!==typeof s&&(e.options[o]=s)}},getEventProperties:function(e,t){var n={};return Pi.forEach((function(i){"function"===typeof i.eventProperties&&Xn(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return Pi.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"===typeof o.optionListeners[t]&&(i=o.optionListeners[t].call(e[o.pluginName],n))})),i}};function Fi(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,r=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,_=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[Ii],t){var f,m=t.options,g="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||Gn||Qn?(f=document.createEvent("Event"),f.initEvent(i,!0,!0)):f=new CustomEvent(i,{bubbles:!0,cancelable:!0}),f.to=a||n,f.from=l||n,f.item=o||n,f.clone=s,f.oldIndex=r,f.newIndex=c,f.oldDraggableIndex=d,f.newDraggableIndex=u,f.originalEvent=p,f.pullMode=_?_.lastPutMode:void 0;var v=zn(zn({},h),Mi.getEventProperties(i,t));for(var y in v)f[y]=v[y];n&&n.dispatchEvent(f),m[g]&&m[g].call(t,f)}}var Ni=["evt"],Ui=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=Bn(n,Ni);Mi.pluginEvent.bind(Po)(e,t,zn({dragEl:$i,parentEl:Wi,ghostEl:zi,rootEl:Hi,nextEl:Ri,lastDownEl:Xi,cloneEl:Li,cloneHidden:Bi,dragStarted:lo,putSortable:eo,activeSortable:Po.active,originalEvent:i,oldIndex:Zi,oldDraggableIndex:Gi,newIndex:Ki,newDraggableIndex:Qi,hideGhostForTarget:Io,unhideGhostForTarget:To,cloneNowHidden:function(){Bi=!0},cloneNowShown:function(){Bi=!1},dispatchSortableEvent:function(e){Yi({sortable:t,name:e,originalEvent:i})}},o))};function Yi(e){Fi(zn({putSortable:eo,cloneEl:Li,targetEl:$i,rootEl:Hi,oldIndex:Zi,oldDraggableIndex:Gi,newIndex:Ki,newDraggableIndex:Qi},e))}var $i,Wi,zi,Hi,Ri,Xi,Li,Bi,Zi,Ki,Gi,Qi,Ji,eo,to,no,io,oo,so,ao,lo,ro,co,uo,po,_o=!1,ho=!1,fo=[],mo=!1,go=!1,vo=[],yo=!1,wo=[],bo="undefined"!==typeof document,xo=ti,ko=Qn||Gn?"cssFloat":"float",Do=bo&&!ni&&!ti&&"draggable"in document.createElement("div"),So=function(){if(bo){if(Gn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Co=function(e,t){var n=pi(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=vi(e,0,t),s=vi(e,1,t),a=o&&pi(o),l=s&&pi(s),r=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+mi(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+mi(s).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a["float"]&&"none"!==a["float"]){var d="left"===a["float"]?"left":"right";return!s||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||r>=i&&"none"===n[ko]||s&&"none"===n[ko]&&r+c>i)?"vertical":"horizontal"},Eo=function(e,t,n){var i=n?e.left:e.top,o=n?e.right:e.bottom,s=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,r=n?t.width:t.height;return i===a||o===l||i+s/2===a+r/2},Oo=function(e,t){var n;return fo.some((function(i){var o=i[Ii].options.emptyInsertThreshold;if(o&&!yi(i)){var s=mi(i),a=e>=s.left-o&&e<=s.right+o,l=t>=s.top-o&&t<=s.bottom+o;return a&&l?n=i:void 0}})),n},Vo=function(e){function t(e,n){return function(i,o,s,a){var l=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(i,o,s,a),n)(i,o,s,a);var r=(n?i:o).options.group.name;return!0===e||"string"===typeof e&&e===r||e.join&&e.indexOf(r)>-1}}var n={},i=e.group;i&&"object"==Hn(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Io=function(){!So&&zi&&pi(zi,"display","none")},To=function(){!So&&zi&&pi(zi,"display","")};bo&&document.addEventListener("click",(function(e){if(ho)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ho=!1,!1}),!0);var jo=function(e){if($i){e=e.touches?e.touches[0]:e;var t=Oo(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Ii]._onDragOver(n)}}},qo=function(e){$i&&$i.parentNode[Ii]._isOutsideThisEl(e.target)};function Po(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Xn({},t),e[Ii]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Co(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Po.supportPointer&&"PointerEvent"in window&&!ei,emptyInsertThreshold:5};for(var i in Mi.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var o in Vo(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Do,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?oi(e,"pointerdown",this._onTapStart):(oi(e,"mousedown",this._onTapStart),oi(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(oi(e,"dragover",this),oi(e,"dragenter",this)),fo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Xn(this,Ti())}function Ao(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Mo(e,t,n,i,o,s,a,l){var r,c,d=e[Ii],u=d.options.onMove;return!window.CustomEvent||Gn||Qn?(r=document.createEvent("Event"),r.initEvent("move",!0,!0)):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=t,r.from=e,r.dragged=n,r.draggedRect=i,r.related=o||t,r.relatedRect=s||mi(t),r.willInsertAfter=l,r.originalEvent=a,e.dispatchEvent(r),u&&(c=u.call(d,r,a)),c}function Fo(e){e.draggable=!1}function No(){yo=!1}function Uo(e,t,n){var i=mi(vi(n.el,0,n.options,!0)),o=10;return t?e.clientX<i.left-o||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-o||e.clientY<i.bottom&&e.clientX<i.left}function Yo(e,t,n){var i=mi(yi(n.el,n.options.draggable)),o=10;return t?e.clientX>i.right+o||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+o}function $o(e,t,n,i,o,s,a,l){var r=i?e.clientY:e.clientX,c=i?n.height:n.width,d=i?n.top:n.left,u=i?n.bottom:n.right,p=!1;if(!a)if(l&&uo<c*o){if(!mo&&(1===co?r>d+c*s/2:r<u-c*s/2)&&(mo=!0),mo)p=!0;else if(1===co?r<d+uo:r>u-uo)return-co}else if(r>d+c*(1-o)/2&&r<u-c*(1-o)/2)return Wo(t);return p=p||a,p&&(r<d+c*s/2||r>u-c*s/2)?r>d+c/2?1:-1:0}function Wo(e){return wi($i)<wi(e)?1:-1}function zo(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;while(n--)i+=t.charCodeAt(n);return i.toString(36)}function Ho(e){wo.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var i=t[n];i.checked&&wo.push(i)}}function Ro(e){return setTimeout(e,0)}function Xo(e){return clearTimeout(e)}Po.prototype={constructor:Po,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ro=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,$i):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,r=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(Ho(n),!$i&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||i.disabled)&&!r.isContentEditable&&(this.nativeDraggable||!ei||!l||"SELECT"!==l.tagName.toUpperCase())&&(l=ri(l,i.draggable,n,!1),(!l||!l.animated)&&Xi!==l)){if(Zi=wi(l),Gi=wi(l,i.draggable),"function"===typeof c){if(c.call(this,e,l,this))return Yi({sortable:t,rootEl:r,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ui("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=ri(r,i.trim(),n,!1),i)return Yi({sortable:t,rootEl:i,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ui("filter",t,{evt:e}),!0})),c))return void(o&&e.cancelable&&e.preventDefault());i.handle&&!ri(r,i.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var i,o=this,s=o.el,a=o.options,l=s.ownerDocument;if(n&&!$i&&n.parentNode===s){var r=mi(n);if(Hi=s,$i=n,Wi=$i.parentNode,Ri=$i.nextSibling,Xi=n,Ji=a.group,Po.dragged=$i,to={target:$i,clientX:(t||e).clientX,clientY:(t||e).clientY},so=to.clientX-r.left,ao=to.clientY-r.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,$i.style["will-change"]="all",i=function(){Ui("delayEnded",o,{evt:e}),Po.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!Jn&&o.nativeDraggable&&($i.draggable=!0),o._triggerDragStart(e,t),Yi({sortable:o,name:"choose",originalEvent:e}),ui($i,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){hi($i,e.trim(),Fo)})),oi(l,"dragover",jo),oi(l,"mousemove",jo),oi(l,"touchmove",jo),oi(l,"mouseup",o._onDrop),oi(l,"touchend",o._onDrop),oi(l,"touchcancel",o._onDrop),Jn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$i.draggable=!0),Ui("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Qn||Gn))i();else{if(Po.eventCanceled)return void this._onDrop();oi(l,"mouseup",o._disableDelayedDrag),oi(l,"touchend",o._disableDelayedDrag),oi(l,"touchcancel",o._disableDelayedDrag),oi(l,"mousemove",o._delayedDragTouchMoveHandler),oi(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&oi(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$i&&Fo($i),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;si(e,"mouseup",this._disableDelayedDrag),si(e,"touchend",this._disableDelayedDrag),si(e,"touchcancel",this._disableDelayedDrag),si(e,"mousemove",this._delayedDragTouchMoveHandler),si(e,"touchmove",this._delayedDragTouchMoveHandler),si(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?oi(document,"pointermove",this._onTouchMove):oi(document,t?"touchmove":"mousemove",this._onTouchMove):(oi($i,"dragend",this),oi(Hi,"dragstart",this._onDragStart));try{document.selection?Ro((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(_o=!1,Hi&&$i){Ui("dragStarted",this,{evt:t}),this.nativeDraggable&&oi(document,"dragover",qo);var n=this.options;!e&&ui($i,n.dragClass,!1),ui($i,n.ghostClass,!0),Po.active=this,e&&this._appendGhost(),Yi({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(no){this._lastX=no.clientX,this._lastY=no.clientY,Io();var e=document.elementFromPoint(no.clientX,no.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(no.clientX,no.clientY),e===t)break;t=e}if($i.parentNode[Ii]._isOutsideThisEl(e),t)do{if(t[Ii]){var n=void 0;if(n=t[Ii]._onDragOver({clientX:no.clientX,clientY:no.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);To()}},_onTouchMove:function(e){if(to){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,s=zi&&_i(zi,!0),a=zi&&s&&s.a,l=zi&&s&&s.d,r=xo&&po&&bi(po),c=(o.clientX-to.clientX+i.x)/(a||1)+(r?r[0]-vo[0]:0)/(a||1),d=(o.clientY-to.clientY+i.y)/(l||1)+(r?r[1]-vo[1]:0)/(l||1);if(!Po.active&&!_o){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(zi){s?(s.e+=c-(io||0),s.f+=d-(oo||0)):s={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");pi(zi,"webkitTransform",u),pi(zi,"mozTransform",u),pi(zi,"msTransform",u),pi(zi,"transform",u),io=c,oo=d,no=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!zi){var e=this.options.fallbackOnBody?document.body:Hi,t=mi($i,!0,xo,!0,e),n=this.options;if(xo){po=e;while("static"===pi(po,"position")&&"none"===pi(po,"transform")&&po!==document)po=po.parentNode;po!==document.body&&po!==document.documentElement?(po===document&&(po=fi()),t.top+=po.scrollTop,t.left+=po.scrollLeft):po=fi(),vo=bi(po)}zi=$i.cloneNode(!0),ui(zi,n.ghostClass,!1),ui(zi,n.fallbackClass,!0),ui(zi,n.dragClass,!0),pi(zi,"transition",""),pi(zi,"transform",""),pi(zi,"box-sizing","border-box"),pi(zi,"margin",0),pi(zi,"top",t.top),pi(zi,"left",t.left),pi(zi,"width",t.width),pi(zi,"height",t.height),pi(zi,"opacity","0.8"),pi(zi,"position",xo?"absolute":"fixed"),pi(zi,"zIndex","100000"),pi(zi,"pointerEvents","none"),Po.ghost=zi,e.appendChild(zi),pi(zi,"transform-origin",so/parseInt(zi.style.width)*100+"% "+ao/parseInt(zi.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;Ui("dragStart",this,{evt:e}),Po.eventCanceled?this._onDrop():(Ui("setupClone",this),Po.eventCanceled||(Li=Vi($i),Li.draggable=!1,Li.style["will-change"]="",this._hideClone(),ui(Li,this.options.chosenClass,!1),Po.clone=Li),n.cloneId=Ro((function(){Ui("clone",n),Po.eventCanceled||(n.options.removeCloneOnHide||Hi.insertBefore(Li,$i),n._hideClone(),Yi({sortable:n,name:"clone"}))})),!t&&ui($i,o.dragClass,!0),t?(ho=!0,n._loopId=setInterval(n._emulateDragOver,50)):(si(document,"mouseup",n._onDrop),si(document,"touchend",n._onDrop),si(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,$i)),oi(document,"drop",n),pi($i,"transform","translateZ(0)")),_o=!0,n._dragStartId=Ro(n._dragStarted.bind(n,t,e)),oi(document,"selectstart",n),lo=!0,ei&&pi(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,s=this.el,a=e.target,l=this.options,r=l.group,c=Po.active,d=Ji===r,u=l.sort,p=eo||c,_=this,h=!1;if(!yo){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=ri(a,l.draggable,s,!0),V("dragOver"),Po.eventCanceled)return h;if($i.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||_._ignoreWhileAnimating===a)return T(!1);if(ho=!1,c&&!l.disabled&&(d?u||(i=Wi!==Hi):eo===this||(this.lastPutMode=Ji.checkPull(this,c,$i,e))&&r.checkPut(this,c,$i,e))){if(o="vertical"===this._getDirection(e,a),t=mi($i),V("dragOverValid"),Po.eventCanceled)return h;if(i)return Wi=Hi,I(),this._hideClone(),V("revert"),Po.eventCanceled||(Ri?Hi.insertBefore($i,Ri):Hi.appendChild($i)),T(!0);var f=yi(s,l.draggable);if(!f||Yo(e,o,this)&&!f.animated){if(f===$i)return T(!1);if(f&&s===e.target&&(a=f),a&&(n=mi(a)),!1!==Mo(Hi,s,$i,t,a,n,e,!!a))return I(),s.appendChild($i),Wi=s,j(),T(!0)}else if(f&&Uo(e,o,this)){var m=vi(s,0,l,!0);if(m===$i)return T(!1);if(a=m,n=mi(a),!1!==Mo(Hi,s,$i,t,a,n,e,!1))return I(),s.insertBefore($i,m),Wi=s,j(),T(!0)}else if(a.parentNode===s){n=mi(a);var g,v,y=0,w=$i.parentNode!==s,b=!Eo($i.animated&&$i.toRect||t,a.animated&&a.toRect||n,o),x=o?"top":"left",k=gi(a,"top","top")||gi($i,"top","top"),D=k?k.scrollTop:void 0;if(ro!==a&&(g=n[x],mo=!1,go=!b&&l.invertSwap||w),y=$o(e,a,n,o,b?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,go,ro===a),0!==y){var S=wi($i);do{S-=y,v=Wi.children[S]}while(v&&("none"===pi(v,"display")||v===zi))}if(0===y||v===a)return T(!1);ro=a,co=y;var C=a.nextElementSibling,E=!1;E=1===y;var O=Mo(Hi,s,$i,t,a,n,e,E);if(!1!==O)return 1!==O&&-1!==O||(E=1===O),yo=!0,setTimeout(No,30),I(),E&&!C?s.appendChild($i):a.parentNode.insertBefore($i,E?C:a),k&&Oi(k,0,D-k.scrollTop),Wi=$i.parentNode,void 0===g||go||(uo=Math.abs(g-mi(a)[x])),j(),T(!0)}if(s.contains($i))return T(!1)}return!1}function V(l,r){Ui(l,_,zn({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:u,fromSortable:p,target:a,completed:T,onMove:function(n,i){return Mo(Hi,s,$i,t,n,mi(n),e,i)},changed:j},r))}function I(){V("dragOverAnimationCapture"),_.captureAnimationState(),_!==p&&p.captureAnimationState()}function T(t){return V("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(_),_!==p&&(ui($i,eo?eo.options.ghostClass:c.options.ghostClass,!1),ui($i,l.ghostClass,!0)),eo!==_&&_!==Po.active?eo=_:_===Po.active&&eo&&(eo=null),p===_&&(_._ignoreWhileAnimating=a),_.animateAll((function(){V("dragOverAnimationComplete"),_._ignoreWhileAnimating=null})),_!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===$i&&!$i.animated||a===s&&!a.animated)&&(ro=null),l.dragoverBubble||e.rootEl||a===document||($i.parentNode[Ii]._isOutsideThisEl(e.target),!t&&jo(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function j(){Ki=wi($i),Qi=wi($i,l.draggable),Yi({sortable:_,name:"change",toEl:s,newIndex:Ki,newDraggableIndex:Qi,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){si(document,"mousemove",this._onTouchMove),si(document,"touchmove",this._onTouchMove),si(document,"pointermove",this._onTouchMove),si(document,"dragover",jo),si(document,"mousemove",jo),si(document,"touchmove",jo)},_offUpEvents:function(){var e=this.el.ownerDocument;si(e,"mouseup",this._onDrop),si(e,"touchend",this._onDrop),si(e,"pointerup",this._onDrop),si(e,"touchcancel",this._onDrop),si(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Ki=wi($i),Qi=wi($i,n.draggable),Ui("drop",this,{evt:e}),Wi=$i&&$i.parentNode,Ki=wi($i),Qi=wi($i,n.draggable),Po.eventCanceled||(_o=!1,go=!1,mo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xo(this.cloneId),Xo(this._dragStartId),this.nativeDraggable&&(si(document,"drop",this),si(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ei&&pi(document.body,"user-select",""),pi($i,"transform",""),e&&(lo&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),zi&&zi.parentNode&&zi.parentNode.removeChild(zi),(Hi===Wi||eo&&"clone"!==eo.lastPutMode)&&Li&&Li.parentNode&&Li.parentNode.removeChild(Li),$i&&(this.nativeDraggable&&si($i,"dragend",this),Fo($i),$i.style["will-change"]="",lo&&!_o&&ui($i,eo?eo.options.ghostClass:this.options.ghostClass,!1),ui($i,this.options.chosenClass,!1),Yi({sortable:this,name:"unchoose",toEl:Wi,newIndex:null,newDraggableIndex:null,originalEvent:e}),Hi!==Wi?(Ki>=0&&(Yi({rootEl:Wi,name:"add",toEl:Wi,fromEl:Hi,originalEvent:e}),Yi({sortable:this,name:"remove",toEl:Wi,originalEvent:e}),Yi({rootEl:Wi,name:"sort",toEl:Wi,fromEl:Hi,originalEvent:e}),Yi({sortable:this,name:"sort",toEl:Wi,originalEvent:e})),eo&&eo.save()):Ki!==Zi&&Ki>=0&&(Yi({sortable:this,name:"update",toEl:Wi,originalEvent:e}),Yi({sortable:this,name:"sort",toEl:Wi,originalEvent:e})),Po.active&&(null!=Ki&&-1!==Ki||(Ki=Zi,Qi=Gi),Yi({sortable:this,name:"end",toEl:Wi,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Ui("nulling",this),Hi=$i=Wi=zi=Ri=Li=Xi=Bi=to=no=lo=Ki=Qi=Zi=Gi=ro=co=eo=Ji=Po.dragged=Po.ghost=Po.clone=Po.active=null,wo.forEach((function(e){e.checked=!0})),wo.length=io=oo=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":$i&&(this._onDragOver(e),Ao(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,s=this.options;i<o;i++)e=n[i],ri(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||zo(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var o=i.children[t];ri(o,this.options.draggable,i,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ri(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=Mi.modifyOption(this,e,t);n[e]="undefined"!==typeof i?i:t,"group"===e&&Vo(n)},destroy:function(){Ui("destroy",this);var e=this.el;e[Ii]=null,si(e,"mousedown",this._onTapStart),si(e,"touchstart",this._onTapStart),si(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(si(e,"dragover",this),si(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),fo.splice(fo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Bi){if(Ui("hideClone",this),Po.eventCanceled)return;pi(Li,"display","none"),this.options.removeCloneOnHide&&Li.parentNode&&Li.parentNode.removeChild(Li),Bi=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Bi){if(Ui("showClone",this),Po.eventCanceled)return;$i.parentNode!=Hi||this.options.group.revertClone?Ri?Hi.insertBefore(Li,Ri):Hi.appendChild(Li):Hi.insertBefore(Li,$i),this.options.group.revertClone&&this.animate($i,Li),pi(Li,"display",""),Bi=!1}}else this._hideClone()}},bo&&oi(document,"touchmove",(function(e){(Po.active||_o)&&e.cancelable&&e.preventDefault()})),Po.utils={on:oi,off:si,css:pi,find:hi,is:function(e,t){return!!ri(e,t,e,!1)},extend:Di,throttle:Ci,closest:ri,toggleClass:ui,clone:Vi,index:wi,nextTick:Ro,cancelNextTick:Xo,detectDirection:Co,getChild:vi},Po.get=function(e){return e[Ii]},Po.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Po.utils=zn(zn({},Po.utils),e.utils)),Mi.mount(e)}))},Po.create=function(e,t){return new Po(e,t)},Po.version=Zn;var Lo,Bo,Zo,Ko,Go,Qo,Jo=[],es=!1;function ts(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?oi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?oi(document,"pointermove",this._handleFallbackAutoScroll):t.touches?oi(document,"touchmove",this._handleFallbackAutoScroll):oi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?si(document,"dragover",this._handleAutoScroll):(si(document,"pointermove",this._handleFallbackAutoScroll),si(document,"touchmove",this._handleFallbackAutoScroll),si(document,"mousemove",this._handleFallbackAutoScroll)),is(),ns(),Ei()},nulling:function(){Go=Bo=Lo=es=Qo=Zo=Ko=null,Jo.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(i,o);if(Go=e,t||this.options.forceAutoScrollFallback||Qn||Gn||ei){os(e,this.options,s,t);var a=ki(s,!0);!es||Qo&&i===Zo&&o===Ko||(Qo&&is(),Qo=setInterval((function(){var s=ki(document.elementFromPoint(i,o),!0);s!==a&&(a=s,ns()),os(e,n.options,s,t)}),10),Zo=i,Ko=o)}else{if(!this.options.bubbleScroll||ki(s,!0)===fi())return void ns();os(e,this.options,ki(s,!1),!1)}}},Xn(e,{pluginName:"scroll",initializeByDefault:!0})}function ns(){Jo.forEach((function(e){clearInterval(e.pid)})),Jo=[]}function is(){clearInterval(Qo)}var os=Ci((function(e,t,n,i){if(t.scroll){var o,s=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,r=t.scrollSpeed,c=fi(),d=!1;Bo!==n&&(Bo=n,ns(),Lo=t.scroll,o=t.scrollFn,!0===Lo&&(Lo=ki(n,!0)));var u=0,p=Lo;do{var _=p,h=mi(_),f=h.top,m=h.bottom,g=h.left,v=h.right,y=h.width,w=h.height,b=void 0,x=void 0,k=_.scrollWidth,D=_.scrollHeight,S=pi(_),C=_.scrollLeft,E=_.scrollTop;_===c?(b=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=w<D&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(b=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX),x=w<D&&("auto"===S.overflowY||"scroll"===S.overflowY));var O=b&&(Math.abs(v-s)<=l&&C+y<k)-(Math.abs(g-s)<=l&&!!C),V=x&&(Math.abs(m-a)<=l&&E+w<D)-(Math.abs(f-a)<=l&&!!E);if(!Jo[u])for(var I=0;I<=u;I++)Jo[I]||(Jo[I]={});Jo[u].vx==O&&Jo[u].vy==V&&Jo[u].el===_||(Jo[u].el=_,Jo[u].vx=O,Jo[u].vy=V,clearInterval(Jo[u].pid),0==O&&0==V||(d=!0,Jo[u].pid=setInterval(function(){i&&0===this.layer&&Po.active._onTouchMove(Go);var t=Jo[this.layer].vy?Jo[this.layer].vy*r:0,n=Jo[this.layer].vx?Jo[this.layer].vx*r:0;"function"===typeof o&&"continue"!==o.call(Po.dragged.parentNode[Ii],n,t,e,Go,Jo[this.layer].el)||Oi(Jo[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=ki(p,!1)));es=d}}),30),ss=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var r=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),r&&!r.el.contains(d)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function as(){}function ls(){}function rs(){return"undefined"!==typeof window?window.console:n.g.console}as.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=vi(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ss},Xn(as,{pluginName:"revertOnSpill"}),ls.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:ss},Xn(ls,{pluginName:"removeOnSpill"}),Po.mount(new ts),Po.mount(ls,as);const cs=rs();function ds(e){const t=Object.create(null);return function(n){const i=t[n];return i||(t[n]=e(n))}}const us=/-(\w)/g,ps=ds((e=>e.replace(us,((e,t)=>t?t.toUpperCase():""))));function _s(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function hs(e,t,n){const i=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,i)}function fs(e,t){return Object.values(e).indexOf(t)}function ms(e,t,n,i){if(!e)return[];const o=Object.values(e),s=t.length-i,a=[...t].map(((e,t)=>t>=s?o.length:o.indexOf(e)));return a}function gs(e,t){this.$nextTick((()=>this.$emit(e.toLowerCase(),t)))}function vs(e){return t=>{null!==this.realList&&this["onDrag"+e](t),gs.call(this,e,t)}}function ys(e){return["transition-group","TransitionGroup"].includes(e)}function ws(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&ys(t.name)}function bs(e,t){return t?{...t.props,...t.attrs}:e}const xs=["Start","Add","Remove","Update","End"],ks=["Choose","Unchoose","Sort","Filter","Clone"],Ds=["Move",...xs,...ks].map((e=>"on"+e));let Ss=null;const Cs={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Es=(0,i.aZ)({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...xs.map((e=>e.toLowerCase())),...ks.map((e=>e.toLowerCase()))],props:Cs,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=bs(this.$attrs,this.componentData);return e?(this.transitionMode=ws(e),(0,i.h)(this.getTag(),t,e)):(0,i.h)(this.getTag(),t,[])},created(){null!==this.list&&null!==this.modelValue&&cs.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};xs.forEach((t=>{e["on"+t]=vs.call(this,t)})),ks.forEach((t=>{e["on"+t]=gs.bind(this,t)}));const t=Object.keys(this.$attrs).reduce(((e,t)=>(e[ps(t)]=this.$attrs[t],e)),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const i=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new Po(i,n),i.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?(0,i.up)(this.component):this.tag},updateOptions(e){for(var t in e){const n=ps(t);-1===Ds.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=ms(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(e){const t=fs(this.getChildrenNodes()||[],e);if(-1===t)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick((()=>{this.$emit("change",e)}))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=n=>n.splice(t,0,n.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Ss=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;_s(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const i={element:t,newIndex:n};this.emitChanges({added:i})},onDragRemove(e){if(hs(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void _s(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){_s(e.item),hs(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const i={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:i})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const i=this.getRelatedContextFromMoveEvent(e),o=this.context,s=this.computeFutureIndex(i,e);Object.assign(o,{futureIndex:s});const a=Object.assign({},e,{relatedContext:i,draggedContext:o});return n(a,t)},onDragEnd(){this.computeIndexes(),Ss=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const i=n.realList,o={list:i,component:n};if(e!==t&&i&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,o)}return o},computeFutureIndex(e,t){const n=[...t.to.children].filter((e=>"none"!==e.style["display"]));if(0===n.length)return 0;const i=n.indexOf(t.related),o=e.component.getVmIndex(i),s=-1!==n.indexOf(Ss);return s||!t.willInsertAfter?o:o+1}}});var Os=(0,i.aZ)({components:{draggable:Es},props:{names:{type:Array,required:!0},data:{type:Array,required:!0},collval:{type:Array,required:!0}},data(){return{list:[],data_list:[],checkbox_value:[],enabled:!0,dragging:!0}},watch:{data:{handler:function(){this.getData()},deep:!0}},mounted(){this.getData()},emits:{returnData1:(e,t,n)=>{const i=e!=[]&&t!=[]&&n!=[],o=Array.isArray(e)&&Array.isArray(t)&&Array.isArray(n);return!(!o||!i)||(console.warn("Некорректные данные для генерации события returnData1!"),!1)}},methods:{changeData(e){const t=e.moved.oldIndex,n=e.moved.newIndex;this.data_list.map((e=>{const i=e[t];e.splice(t,1),e.splice(n,0,i)})),this.change_value_checkbox(t,n)},change_value_checkbox(e,t){const n=this.checkbox_value[e];this.checkbox_value.splice(e,1),this.checkbox_value.splice(t,0,n)},returnData(){this.$emit("returnData1",this.data_list,this.list,this.checkbox_value),this.$store.commit("close_table_settings")},closeComp(){this.$store.commit("close_table_settings"),this.getData()},getData(){this.list=[],this.data_list=[],this.checkbox_value=[],this.names.forEach((e=>this.list.push(e))),this.data.forEach((()=>this.data_list.push([]))),this.data.forEach(((e,t)=>{e.forEach((e=>{this.data_list[t].push(e)}))})),this.list.pop(),this.list.shift(),this.collval.forEach(((e,t)=>this.checkbox_value[t]=e))}}});const Vs=(0,Ve.Z)(Os,[["render",$n],["__scopeId","data-v-71e45dab"]]);var Is=Vs;const Ts=e=>((0,i.dD)("data-v-7c034e36"),e=e(),(0,i.Cn)(),e),js={class:"wrapper"},qs={class:"bgc"},Ps={class:"container"},As={class:"header"},Ms={class:"top"},Fs=Ts((()=>(0,i._)("label",null,"Настройки товаров",-1))),Ns={class:"btns"},Us=Ts((()=>(0,i._)("br",null,null,-1))),Ys={class:"bottom"},$s=(0,i.uE)('<div class="permits" data-v-7c034e36><div class="permit" data-v-7c034e36><input type="checkbox" class="checkbox" id="q1" data-v-7c034e36><label for="q1" data-v-7c034e36>Разрешать добавлять товары из резерва в другие сделки</label></div><div class="permit" data-v-7c034e36><input type="checkbox" class="checkbox" id="q2" data-v-7c034e36><label for="q2" data-v-7c034e36>Изменить цену у товаров в открытых сделках (по умолчанию)</label></div><div class="permit" data-v-7c034e36><input type="checkbox" class="checkbox" id="q3" data-v-7c034e36><label for="q3" data-v-7c034e36>Разрешать добавлять в сделки товар с нулевым остатком</label></div></div>',1),Ws={class:"sync"},zs=Ts((()=>(0,i._)("label",null,"Синхронизация товаров на складе с товарами amoCRM",-1))),Hs={class:"list"},Rs={class:"label_input"},Xs=Ts((()=>(0,i._)("label",null,"Выберите список товаров из amoCRM для синхронизации",-1))),Ls={class:"label_input"},Bs=Ts((()=>(0,i._)("label",null,"Скрытие штатной вкладки amoCRM с товарами. В штатной вкладке с товарами так же можно прикреплять товары к сделкам, но количество товара на складе учитываться учитываться не будет.",-1))),Zs={class:"content"},Ks=Ts((()=>(0,i._)("h6",null,"Поля товаров в сделке",-1))),Gs={class:"rows"},Qs=Ts((()=>(0,i._)("tr",{class:"row"},[(0,i._)("th",{class:"item"},"Поле"),(0,i._)("th",{class:"item"},"Тип"),(0,i._)("th",{class:"item"},"Видимость"),(0,i._)("th",{class:"item"},"Редактирование"),(0,i._)("th",{class:"item"})],-1))),Js={class:"item"},ea={class:"item selectors"},ta={key:0,class:"type_selector_options"},na=["onUpdate:modelValue"],ia=["onClick"],oa=["onClick"],sa={class:"box item"},aa=["id","onUpdate:modelValue"],la=["for"],ra={class:"box item"},ca=["id","onUpdate:modelValue"],da=["for"],ua={class:"item"},pa=["onClick"],_a={class:"item"},ha=["onUpdate:modelValue"],fa={class:"item selectors"},ma={key:0,class:"type_selector_options"},ga=["onUpdate:modelValue"],va=["onClick"],ya=["onClick"],wa={class:"box item"},ba=["id","onUpdate:modelValue"],xa=["for"],ka={class:"box item"},Da=["id","onUpdate:modelValue"],Sa=["for"],Ca={class:"item"},Ea=["onClick"],Oa=Ts((()=>(0,i._)("h6",null,"Этапы резервирования товаров со склада",-1))),Va=Ts((()=>(0,i._)("div",{class:"small"}," Внимание! В рамках одной воронки этап резерирования должен быть раньше этапа списания. Если этап презервирования не выбран, то резерирование будет происходить в момент добавления товара в сделку. ",-1))),Ia={class:"steps"},Ta={class:"label_input"},ja=Ts((()=>(0,i._)("h6",null,"Этапы списания товаров со склада",-1))),qa=Ts((()=>(0,i._)("div",{class:"small"}," Внимание! В рамках одной воронки этап списания должен быть позже этапа резерирования. ",-1))),Pa={class:"steps"},Aa={class:"label_input"},Ma=Ts((()=>(0,i._)("h6",null,"Привязка полей сделок",-1))),Fa={class:"steps"},Na={class:"label_input"},Ua={class:"footer"},Ya={class:"btns"};function $a(e,t,n,a,l,r){const c=(0,i.up)("SelectorVue"),d=(0,i.up)("edit-stuff-list");return(0,i.wg)(),(0,i.iD)("div",js,[(0,i._)("div",qs,[(0,i._)("div",Ps,[(0,i._)("div",As,[(0,i._)("div",Ms,[Fs,(0,i._)("div",Ns,[(0,i._)("button",{class:"btn btn1",onClick:t[0]||(t[0]=e=>r.close_edit_stuff())}," Назад "),(0,i._)("button",{class:"btn btn2",onClick:t[1]||(t[1]=e=>r.save())},"Сохранить")])]),Us,(0,i._)("div",Ys,[$s,(0,i._)("div",Ws,[zs,(0,i._)("div",Hs,[(0,i._)("div",Rs,[Xs,(0,i.Wm)(c,{options_props:e.sync_list_stuff_options,onSelect:r.option_select_sync_list_stuff,selected_option:e.sync_list_stuff_selected_option},null,8,["options_props","onSelect","selected_option"])]),(0,i._)("div",Ls,[Bs,(0,i.Wm)(c,{options_props:e.sync_list_hide_tab_options,onSelect:r.option_select_sync_list_hide_tab,selected_option:e.sync_list_hide_tab_selected_option},null,8,["options_props","onSelect","selected_option"])])])])])]),(0,i._)("div",Zs,[Ks,(0,i._)("table",Gs,[Qs,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.copy_fields,((t,n)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:t.id},[(0,i._)("td",Js,(0,o.zw)(t.field),1),(0,i._)("td",ea,[(0,i.Wm)(c,{options_props:e.types,onSelect:r.option_select_type,selected_option:l.copy_fields[n].type,disabled:l.copy_fields[n].disable_change_type,idx:n},null,8,["options_props","onSelect","selected_option","disabled","idx"]),5==l.copy_fields[n].type.value||6==l.copy_fields[n].type.value?((0,i.wg)(),(0,i.iD)("div",ta,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.copy_fields[n].selector_options,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"type_selector_option",key:t},[(0,i.wy)((0,i._)("input",{type:"text",class:"input","onUpdate:modelValue":e=>l.copy_fields[n].selector_options[t].name=e},null,8,na),[[s.nr,l.copy_fields[n].selector_options[t].name]]),(6==l.copy_fields[n].type.value?0!=t:l.copy_fields[n].selector_options.length>1)?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"del_button",onClick:e=>r.remove_selector_option(n,t)}," x ",8,ia)):(0,i.kq)("",!0)])))),128)),(0,i._)("button",{onClick:e=>r.add_selector_option(n),class:"add_button"}," + ",8,oa)])):(0,i.kq)("",!0)]),(0,i._)("td",sa,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:n+"b","onUpdate:modelValue":e=>l.copy_fields[n].visibility=e},null,8,aa),[[s.e8,l.copy_fields[n].visibility]]),(0,i._)("label",{for:n+"b"},null,8,la)]),(0,i._)("td",ra,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:n+"c","onUpdate:modelValue":e=>l.copy_fields[n].editing=e},null,8,ca),[[s.e8,l.copy_fields[n].editing]]),(0,i._)("label",{for:n+"c"},null,8,da)]),(0,i._)("td",ua,[(0,i.wy)((0,i._)("button",{class:"del_btn",onClick:e=>r.delete_field(n)}," X ",8,pa),[[s.F8,l.copy_fields[n].delete]])])])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.new_fields,((t,n)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:t.id},[(0,i._)("td",_a,[(0,i.wy)((0,i._)("input",{type:"text",class:"input new_item_input","onUpdate:modelValue":e=>l.new_fields[n].field=e},null,8,ha),[[s.nr,l.new_fields[n].field]])]),(0,i._)("td",fa,[(0,i.Wm)(c,{options_props:e.types,onSelect:r.option_select_new_field_type,selected_option:l.new_fields[n].type,idx:n},null,8,["options_props","onSelect","selected_option","idx"]),5==l.new_fields[n].type.value||6==l.new_fields[n].type.value?((0,i.wg)(),(0,i.iD)("div",ma,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.new_fields[n].selector_options,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"type_selector_option",key:t},[(0,i.wy)((0,i._)("input",{type:"text",class:"input","onUpdate:modelValue":e=>l.new_fields[n].selector_options[t].name=e},null,8,ga),[[s.nr,l.new_fields[n].selector_options[t].name]]),(6==l.new_fields[n].type.value?0!=t:l.new_fields[n].selector_options.length>1)?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"del_button",onClick:e=>r.remove_new_fields_selector_option(n,t)}," x ",8,va)):(0,i.kq)("",!0)])))),128)),(0,i._)("button",{onClick:e=>r.add_new_fields_selector_option(n),class:"add_button"}," + ",8,ya)])):(0,i.kq)("",!0)]),(0,i._)("td",wa,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:n+"nb","onUpdate:modelValue":e=>l.new_fields[n].visibility=e},null,8,ba),[[s.e8,l.new_fields[n].visibility]]),(0,i._)("label",{for:n+"nb"},null,8,xa)]),(0,i._)("td",ka,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"checkbox",id:n+"n","onUpdate:modelValue":e=>l.new_fields[n].editing=e},null,8,Da),[[s.e8,l.new_fields[n].editing]]),(0,i._)("label",{for:n+"n"},null,8,Sa)]),(0,i._)("td",Ca,[(0,i.wy)((0,i._)("button",{class:"del_btn",onClick:e=>r.delete_new_field(n)}," X ",8,Ea),[[s.F8,l.new_fields[n].delete]])])])))),128))]),(0,i._)("button",{onClick:t[2]||(t[2]=e=>r.add_new_field()),class:"add_new_button"},"+"),Oa,Va,(0,i._)("div",Ia,[(0,i.Wm)(d,{items:l.copy_items_from_storage},{item:(0,i.w5)((({item:e,idx:t})=>[(0,i._)("div",Ta,[(0,i._)("label",null,' Воронка "'+(0,o.zw)(e.name)+'" ',1),(0,i.Wm)(c,{options_props:e.reserve_selector_options,onSelect:r.option_select_reverse,selected_option:e.reserve_selected_option,idx:t,disabled:e.reserve_disable_change},null,8,["options_props","onSelect","selected_option","idx","disabled"])])])),_:1},8,["items"])]),ja,qa,(0,i._)("div",Pa,[(0,i.Wm)(d,{items:l.copy_items_from_storage},{item:(0,i.w5)((({item:e,idx:t})=>[(0,i._)("div",Aa,[(0,i._)("label",null,' Воронка "'+(0,o.zw)(e.name)+'" ',1),(0,i.Wm)(c,{options_props:e.cancellation_selector_options,onSelect:r.option_select_cancellation,selected_option:e.cancellation_selected_option,idx:t,disabled:e.cancellation_disable_change},null,8,["options_props","onSelect","selected_option","idx","disabled"])])])),_:1},8,["items"])]),Ma,(0,i._)("div",Fa,[(0,i.Wm)(d,{items:l.copy_binding_fields_deals},{item:(0,i.w5)((({item:e,idx:t})=>[(0,i._)("div",Na,[(0,i._)("label",null,' Поле "'+(0,o.zw)(e.name)+'" ',1),(0,i.Wm)(c,{options_props:e.binding_selector_options,onSelect:r.option_select_deals,selected_option:e.binding_selected_option,idx:t,disabled:e.binding_disable_change},null,8,["options_props","onSelect","selected_option","idx","disabled"])])])),_:1},8,["items"])])]),(0,i._)("div",Ua,[(0,i._)("div",Ya,[(0,i._)("button",{class:"btn btn1",onClick:t[3]||(t[3]=e=>r.close_edit_stuff())},"Назад"),(0,i._)("button",{class:"btn btn2",onClick:t[4]||(t[4]=e=>r.save())},"Сохранить")])])])])])}function Wa(e,t,n,o,s,a){return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:t.id},[(0,i.WI)(e.$slots,"item",{item:t,idx:n})])))),128)}var za={props:{items:{type:Array,required:!0}}};const Ha=(0,Ve.Z)(za,[["render",Wa]]);var Ra=Ha,Xa={components:{SelectorVue:Se.Z,EditStuffList:Ra},data(){return{copy_fields:[],new_fields:[],copy_items_from_storage:[],copy_binding_fields_deals:[],idx_to_delete:[],copy_sync_list_stuff_selected_option:{},copy_sync_list_hide_tab_selected_option:{},copy_binding_selected_option:{}}},mounted(){this.copy_fields=[],this.idx_to_delete=[],this.copy_fields=this.fields.map(((e,t)=>Object.assign({index:t},e))),this.copy_items_from_storage=[],this.copy_items_from_storage=this.items_from_storage.map(((e,t)=>Object.assign({index:t},e))),Object.assign(this.copy_sync_list_stuff_selected_option,this.sync_list_stuff_selected_option),Object.assign(this.copy_sync_list_hide_tab_selected_option,this.sync_list_hide_tab_selected_option),this.copy_binding_fields_deals=this.binding_fields_deals.map(((e,t)=>Object.assign({index:t},e))),Object.assign(this.copy_binding_selected_option,this.binding_selected_option)},computed:{...(0,Ct.Se)(["types"]),...(0,Ct.Se)(["fields"]),...(0,Ct.Se)(["sync_list_stuff_options"]),...(0,Ct.Se)(["sync_list_hide_tab_options"]),...(0,Ct.Se)(["sync_list_stuff_selected_option"]),...(0,Ct.Se)(["sync_list_hide_tab_selected_option"]),...(0,Ct.Se)(["items_from_storage"]),...(0,Ct.Se)(["binding_fields_deals"])},methods:{save(){this.copy_fields.forEach((e=>{let t=1;e.selector_options.forEach((e=>{Object.assign(e,{value:t}),t+=1}))})),this.new_fields.forEach((e=>this.copy_fields.push(e))),this.$store.commit("update_fields",this.copy_fields),this.$store.commit("update_items_from_storage",this.copy_items_from_storage),this.$store.commit("update_binding_fields_deals",this.copy_binding_fields_deals),this.$store.commit("update_sync_list_stuff_selected_option",this.copy_sync_list_stuff_selected_option),this.$store.commit("update_sync_list_hide_tab_selected_option",this.copy_sync_list_hide_tab_selected_option),this.$store.commit("delete_data_idx",this.idx_to_delete),this.new_fields_push();const e=[];this.fields.forEach((t=>e.push(t.field))),e.unshift(""),e.push(""),this.$store.commit("update_params",e),this.new_fields=[],this.close_edit_stuff()},new_fields_push(){let e=new Date;const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),o=e.getHours(),s=e.getMinutes(),a=i+"-"+n+"-"+t,l=i+"-"+n+"-"+t+"T"+o+":"+s;this.new_fields.forEach((e=>{let t="";1!=e.type.value&&2!=e.type.value||(t="0"),6==e.type.value&&(t="Не выбрано"),7==e.type.value&&(t=a),8==e.type.value&&(t=l),9==e.type.value&&(t="Нет"),this.$store.commit("update_all_data",t)}))},add_new_field(){this.new_fields.push({id:this.copy_fields.length+1+this.new_fields.length,field:"",type:{name:"Строка",value:3},selector_options:[{name:"Не выбрано"}],disable_change_type:!1,visibility:!1,edit:!1,editing:!1,delete:!0})},delete_new_field(e){this.new_fields.splice(e,1)},delete_field(e){this.copy_fields.splice(e,1),this.idx_to_delete.push(e)},option_select_type(e,t){this.copy_fields[t].type=e},option_select_new_field_type(e,t){this.new_fields[t].type=e},add_selector_option(e){this.copy_fields[e].selector_options.push({name:""})},remove_selector_option(e,t){this.copy_fields[e].selector_options.splice(t,1)},add_new_fields_selector_option(e){this.new_fields[e].selector_options.push({name:""})},remove_new_fields_selector_option(e,t){this.new_fields[e].selector_options.splice(t,1)},option_select_sync_list_stuff(e){Object.assign(this.copy_sync_list_stuff_selected_option,e)},option_select_sync_list_hide_tab(e){Object.assign(this.copy_sync_list_hide_tab_selected_option,e)},option_select_reverse(e,t){this.copy_items_from_storage[t].reserve_selected_option=e},option_select_cancellation(e,t){this.copy_items_from_storage[t].cancellation_selected_option=e},option_select_deals(e,t){this.copy_binding_fields_deals[t].binding_selected_option=e},close_edit_stuff(){this.$store.commit("open_close_show_edit_stuff",!1)}}};const La=(0,Ve.Z)(Xa,[["render",$a],["__scopeId","data-v-7c034e36"]]);var Ba=La;const Za=e=>((0,i.dD)("data-v-18d1ef1c"),e=e(),(0,i.Cn)(),e),Ka={class:"wrapper"},Ga={class:"container"},Qa=Za((()=>(0,i._)("div",{class:"header"},[(0,i._)("label",null,"Добавление товаров")],-1))),Ja={class:"content"},el={class:"table"},tl={class:"row title"},nl=Za((()=>(0,i._)("td",{class:"item"},null,-1))),il={class:"item"},ol={class:"item"},sl=["onUpdate:modelValue","disabled"],al={class:"item"},ll=["onUpdate:modelValue","disabled"],rl={class:"item"},cl={class:"select_input"},dl=["onUpdate:modelValue","disabled"],ul={class:"item"},pl={class:"item"},_l=["onUpdate:modelValue","disabled"],hl={class:"item"},fl={class:"item"},ml=["onUpdate:modelValue","disabled"],gl={class:"item"},vl=["onUpdate:modelValue"],yl={class:"nds"},wl={key:0},bl=["onUpdate:modelValue","id"],xl=["for"],kl={key:1,class:"hiden"},Dl={class:"checkboxes"},Sl=["onUpdate:modelValue","id"],Cl=["for"],El=["onUpdate:modelValue","id"],Ol=["for"],Vl=["onUpdate:modelValue","id"],Il=["for"],Tl=["onUpdate:modelValue"],jl={class:"item"},ql=["onClick"],Pl={class:"footer"},Al={class:"btns"};function Ml(e,t,n,a,l,r){const c=(0,i.up)("selector-vue");return(0,i.wg)(),(0,i.iD)("div",Ka,[(0,i._)("div",Ga,[Qa,(0,i._)("div",Ja,[(0,i._)("table",el,[(0,i._)("thead",null,[(0,i._)("tr",tl,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.title,(e=>((0,i.wg)(),(0,i.iD)("td",{class:"item",key:e},(0,o.zw)(e),1)))),128)),nl])]),(0,i._)("tbody",null,[(0,i.Wm)(s.W3,{name:"row"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.new_items,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:e},[(0,i._)("td",il,[(0,i.Wm)(c,{options_props:l.options2,onSelect:r.option_select2,selected_option:e[0],idx:t,disabled:n.rows.length>t},null,8,["options_props","onSelect","selected_option","idx","disabled"])]),(0,i._)("td",ol,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.new_items[t][1]=e,class:(0,o.C_)(["input",{not_valid:""==l.new_items[t][1]&&l.try_accept}]),disabled:n.rows.length>t},null,10,sl),[[s.nr,l.new_items[t][1]]])]),(0,i._)("td",al,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.new_items[t][2]=e,class:(0,o.C_)(["input",{not_valid:""==l.new_items[t][2]&&l.try_accept}]),disabled:n.rows.length>t},null,10,ll),[[s.nr,l.new_items[t][2]]])]),(0,i._)("td",rl,[(0,i._)("div",cl,[(0,i.Wm)(c,{options_props:l.options1[t],onSelect:r.option_select1,selected_option:e[3],idx:t,disabled:2==e[0].value},null,8,["options_props","onSelect","selected_option","idx","disabled"]),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.new_items[t][4]=e,class:(0,o.C_)(["input",{not_valid:""==l.new_items[t][4]&&l.try_accept&&2!=e[0].value}]),disabled:n.rows.length>t||2==e[0].value},null,10,dl),[[s.nr,l.new_items[t][4]]])])]),(0,i._)("td",ul,[(0,i.Wm)(c,{options_props:l.options[0],onSelect:r.option_select3,selected_option:e[5],idx:t,disabled:2==e[0].value},null,8,["options_props","onSelect","selected_option","idx","disabled"])]),(0,i._)("td",pl,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e=>l.new_items[t][6]=e,class:(0,o.C_)(["input",{not_valid:(""==l.new_items[t][6]||void 0==l.new_items[t][6])&&l.try_accept&&2!=e[0].value}]),disabled:2==e[0].value,min:"0"},null,10,_l),[[s.nr,l.new_items[t][6]]])]),(0,i._)("td",hl,[(0,i.Wm)(c,{options_props:l.options[1],onSelect:r.option_select4,selected_option:e[7],idx:t,disabled:2==e[0].value},null,8,["options_props","onSelect","selected_option","idx","disabled"])]),(0,i._)("td",fl,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e=>l.new_items[t][8]=e,class:(0,o.C_)(["input",{not_valid:""==l.new_items[t][8]&&l.try_accept}]),min:"0",disabled:n.rows.length>t},null,10,ml),[[s.nr,l.new_items[t][8]]])]),(0,i._)("td",gl,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e=>l.new_items[t][9]=e,class:(0,o.C_)(["input",{not_valid:""==l.new_items[t][9]&&l.try_accept}]),min:"0"},null,10,vl),[[s.nr,l.new_items[t][9]]])]),(0,i._)("td",{class:(0,o.C_)(["item",{long:l.new_items[t][10]}])},[(0,i._)("div",yl,[l.new_items[t][10]?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",wl,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":e=>l.new_items[t][10]=e,class:"checkbox",id:t+"nq"},null,8,bl),[[s.e8,l.new_items[t][10]]]),(0,i._)("label",{for:t+"nq"},null,8,xl)])),l.new_items[t][10]?((0,i.wg)(),(0,i.iD)("div",kl,[(0,i._)("div",Dl,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":e=>l.new_items[t][10]=e,class:"checkbox",id:t+"nq"},null,8,Sl),[[s.e8,l.new_items[t][10]]]),(0,i._)("label",{for:t+"nq"},"НДС",8,Cl),(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":e=>l.new_items[t][11]=e,class:"checkbox",id:t+"nw"},null,8,El),[[s.e8,l.new_items[t][11]]]),(0,i._)("label",{for:t+"nw"},"включен в цену",8,Ol),(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":e=>l.new_items[t][12]=e,class:"checkbox",id:t+"ne"},null,8,Vl),[[s.e8,l.new_items[t][12]]]),(0,i._)("label",{for:t+"ne"},"можно менять %",8,Il)]),(0,i.wy)((0,i._)("input",{type:"number",class:"input","onUpdate:modelValue":e=>l.new_items[t][13]=e,placeholder:"% НДС",min:"0"},null,8,Tl),[[s.nr,l.new_items[t][13]]])])):(0,i.kq)("",!0)])],2),(0,i.Wm)(s.uT,{name:"row"},{default:(0,i.w5)((()=>[(0,i._)("td",jl,[(0,i.wy)((0,i._)("button",{class:"del_btn",onClick:e=>r.del_item(t)}," X ",8,ql),[[s.F8,l.new_items.length>1]])])])),_:2},1024)])))),128))])),_:1})])]),(0,i._)("button",{class:"add_new_button",onClick:t[0]||(t[0]=e=>r.push_new_item())},"+")]),(0,i._)("div",Pl,[(0,i._)("div",Al,[(0,i._)("button",{class:"btn btn1",onClick:t[1]||(t[1]=e=>r.close_modal())},"Отмена"),(0,i._)("button",{class:"btn btn2",onClick:t[2]||(t[2]=e=>r.save())},"Сохранить")])])])])}var Fl={components:{SelectorVue:Se.Z},props:{rows:{type:Array,required:!1,default(){return[]}},idxes:{type:Array,required:!1}},data(){return{title:["Тип","Артикул","Название","№ партии","Склад","Кол-во","Единицы измерений","Себестоимость","Цена","НДС"],new_items:[],options1:[],options2:[{name:"Товар",value:1},{name:"Услуга",value:2}],options:[],try_accept:!1,fields_for_validation:[1,2,6,8,9],fields_for_validation_service:[1,2,8,9]}},computed:{...(0,Ct.Se)(["options_from_name"])},mounted(){this.start()},watch:{new_items:{handler:function(){this.new_items.forEach(((e,t)=>{const n=this.title.indexOf("Тип"),i=this.title.indexOf("Кол-во")+1,o=this.title.indexOf("№ партии"),s=this.title.indexOf("№ партии")+1,a=this.title.indexOf("Склад")+1,l=this.title.indexOf("Единицы измерений")+1,r={name:"",value:999},c=e=>{Object.assign(this.new_items[t][o],e[0]),Object.assign(this.new_items[t][a],e[1]),Object.assign(this.new_items[t][l],e[2])};2==e[n].value&&(this.new_items[t][i]="",this.new_items[t][s]="",c([r,r,r])),2!=e[n].value&&e[o].value==r.value&&c([this.options1[t][0],this.options[0][0],this.options[1][0]]),e[5]<0&&(this.new_items[t][5]=0),e[6]<0&&(this.new_items[t][6]=0),e[7]<0&&(this.new_items[t][7]=0),e[11]<0&&(this.new_items[t][11]=0)}))},deep:!0}},methods:{push_new_item(){this.new_items.push([{name:"Товар",value:1},"","",{name:"Новая",value:1},"",{},"",{},"","",!1,!1,!1,""]),Object.assign(this.new_items[this.new_items.length-1][5],this.options[0][0]),Object.assign(this.new_items[this.new_items.length-1][7],this.options[1][0]),this.options1.push([{name:"Новая",value:1}])},push_current_item(){this.rows.forEach(((e,t)=>{this.new_items.push([]);const n=(e,t)=>{let n={};return e.forEach((e=>{e.name==t&&Object.assign(n,e)})),n};e.forEach((e=>{this.new_items[t].push(e)})),this.options1.push([{name:this.new_items[t][3],value:2}]),this.new_items[t][3]={name:this.new_items[t][3],value:2},this.new_items[t][5]=n(this.options[0],this.new_items[t][5]),this.new_items[t][7]=n(this.options[1],this.new_items[t][7]),this.new_items[t][0]={name:"Товар",value:1}}))},del_item(e){this.new_items.splice(e,1)},save(){this.try_accept=!0;let e=!0;const t=(t,n)=>{n.forEach((n=>{e=e&&""!=t[n]&&void 0!=t[n]}))};this.new_items.forEach((e=>{1==e[0].value&&t(e,this.fields_for_validation),2==e[0].value&&t(e,this.fields_for_validation_service)})),e&&(this.new_items.forEach(((e,t)=>{e.forEach(((e,n)=>{this.new_items[t][n]=`${e}`,"object"==typeof e&&(this.new_items[t][n]=e.name),!0===e&&(this.new_items[t][n]="Да"),!1===e&&(this.new_items[t][n]="Нет")}))})),this.new_items.forEach((e=>{let t=[];this.title.forEach((e=>{"Кол-во"===e&&(e="На складе"),"№ партии"===e&&t.push(""),t.push(e)})),t.push("НДС включен в цену","Менеджер может менять % НДС","НДС %");const n={new_data:e,title:t};"Товар"==e[0]&&this.$store.commit("add_new_data",n),"Услуга"==e[0]&&this.$store.commit("add_new_service",n)})),this.close_modal())},close_modal(){this.new_items=[],this.try_accept=!1,this.$store.commit("open_close_new_position",!1)},option_select1(e,t){Object.assign(this.new_items[t][3],e)},option_select2(e,t){Object.assign(this.new_items[t][0],e)},option_select3(e,t){Object.assign(this.new_items[t][5],e)},option_select4(e,t){Object.assign(this.new_items[t][7],e)},start(){(0,i.Y3)((()=>{this.options.push(this.options_from_name["Склад"]),this.options.push(this.options_from_name["Единицы измерений"]),this.rows.length>0?this.push_current_item():this.push_new_item()}))}}};const Nl=(0,Ve.Z)(Fl,[["render",Ml],["__scopeId","data-v-18d1ef1c"]]);var Ul=Nl;const Yl=e=>((0,i.dD)("data-v-68cfc12b"),e=e(),(0,i.Cn)(),e),$l={class:"wrapper"},Wl={class:"container"},zl=Yl((()=>(0,i._)("div",{class:"header"},[(0,i._)("label",null,"Списание товаров")],-1))),Hl={class:"content"},Rl={class:"table"},Xl={class:"row title"},Ll={class:"item"},Bl=["onUpdate:modelValue"],Zl={class:"item"},Kl=["onUpdate:modelValue"],Gl={class:"item"},Ql={class:"select_input"},Jl={class:"item"},er=["onUpdate:modelValue"],tr={class:"item"},nr=["onUpdate:modelValue"],ir={class:"footer"},or={class:"btns"};function sr(e,t,n,a,l,r){const c=(0,i.up)("selector-vue");return(0,i.wg)(),(0,i.iD)("div",$l,[(0,i._)("div",Wl,[zl,(0,i._)("div",Hl,[(0,i._)("table",Rl,[(0,i._)("thead",null,[(0,i._)("tr",Xl,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.title,(e=>((0,i.wg)(),(0,i.iD)("td",{class:"item",key:e},(0,o.zw)(e),1)))),128))])]),(0,i._)("tbody",null,[(0,i.Wm)(s.W3,{name:"row"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.items_to_cancel,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:e},[(0,i._)("td",Ll,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.items_to_cancel[t][0]=e,class:"input",disabled:""},null,8,Bl),[[s.nr,l.items_to_cancel[t][0]]])]),(0,i._)("td",Zl,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.items_to_cancel[t][1]=e,class:"input",disabled:""},null,8,Kl),[[s.nr,l.items_to_cancel[t][1]]])]),(0,i._)("td",Gl,[(0,i._)("div",Ql,[(0,i.Wm)(c,{options_props:l.options1[t],onSelect:r.option_select1,selected_option:l.items_to_cancel[t][2],idx:t,disabled:!0},null,8,["options_props","onSelect","selected_option","idx"])])]),(0,i._)("td",Jl,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e=>l.items_to_cancel[t][3]=e,class:(0,o.C_)(["input",{not_valid:""==l.items_to_cancel[t][3]&&l.try_accept}])},null,10,er),[[s.nr,l.items_to_cancel[t][3]]])]),(0,i._)("td",tr,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>l.items_to_cancel[t][4]=e,class:(0,o.C_)(["input",{not_valid:""==l.items_to_cancel[t][4]&&l.try_accept}])},null,10,nr),[[s.nr,l.items_to_cancel[t][4]]])])])))),128))])),_:1})])])]),(0,i._)("div",ir,[(0,i._)("div",or,[(0,i._)("button",{class:"btn btn1",onClick:t[0]||(t[0]=e=>r.close_modal())},"Отмена"),(0,i._)("button",{class:"btn btn2",onClick:t[1]||(t[1]=e=>r.save())},"Сохранить")])])])])}var ar={components:{SelectorVue:Se.Z},props:{rows:{type:Array,required:!0,default(){return[]}},idxes:{type:Array,required:!0}},data(){return{title:["Артикул","Название","№ партии","Кол-во","Причина списания"],items_to_cancel:[],options1:[],try_accept:!1,max_count_to_cancel:[]}},watch:{items_to_cancel:{handler:function(){this.items_to_cancel.forEach(((e,t)=>{e[3]<0&&(this.items_to_cancel[t][3]=0),e[3]>this.max_count_to_cancel[t]&&(this.items_to_cancel[t][3]=this.max_count_to_cancel[t])}))},deep:!0}},mounted(){(0,i.Y3)((()=>{this.push_current_item(),this.items_to_cancel.forEach((e=>{this.max_count_to_cancel.push(e[3])}))}))},methods:{push_current_item(){this.rows.forEach(((e,t)=>{this.items_to_cancel.push([]),e.forEach((e=>{this.items_to_cancel[t].push(e)})),this.options1.push([{name:this.items_to_cancel[t][2],value:1}]),this.items_to_cancel[t][2]=this.options1[t][0]}))},save(){this.try_accept=!0;let e=!0;this.items_to_cancel.forEach((t=>{e=e&&""!=t[3]&&""!=t[4]&&void 0!=t[3]&&void 0!=t[4]})),e&&(this.items_to_cancel.forEach(((e,t)=>{const n={name:"На складе",idx:this.idxes[t],count:e[3]};this.$store.commit("cancel_item_in_data",n)})),this.close_modal())},close_modal(){this.items_to_cancel=[],this.try_accept=!1,this.$store.commit("open_close_cancel_position",!1)},option_select1(e,t){this.items_to_cancel[t][2]=e}}};const lr=(0,Ve.Z)(ar,[["render",sr],["__scopeId","data-v-68cfc12b"]]);var rr=lr,cr={components:{MainGrid:sn,TableSetings:Is,EditStuff:Ba,NewPosition:Ul,CancelPosition:rr,CardGrid:Tn},provide(){return{isServicePage:(0,i.Fl)((()=>this.isServicePage))}},data(){return{filter_value:!1,paginatedData:[],paginatedParams:[],changeValue:[],old_data_length:null,selected_storage:"Все остатки",storage_pages:[{name:"Все остатки"},{name:"Склад 1"},{name:"Склад 2"},{name:"Услуги"}],grid:!1,drop_page:!1}},created:function(){this.old_data_length=this.data[0].length,this.paginate()},computed:{show_modals(){return this.show_edit_modal||this.show_settings||this.show_table_settings||this.show_edit_stuff||this.show_new_position},disabled_for_modals(){return this.show_edit_modal||this.show_table_settings||this.show_edit_stuff||this.show_new_position},rows(){let e=[],t=[];const n=["Тип","Артикул","Название","№ партии","Склад","На складе","Единицы измерений","Себестоимость","Цена","НДС","НДС включен в цену","Менеджер может менять % НДС","НДС %"];return this.changeValue.forEach(((i,o)=>{if(i){let i=[];n.forEach((e=>{let t="";const n=this.data[o][this.params.indexOf(e)-1];t=n,"Да"==n&&(t=!0),"Нет"==n&&(t=!1),i.push(t),"№ партии"==e&&i.push(t)})),e.push(i),t.push(o)}})),{arr:e,idxes:t}},rows_to_cancel(){let e=[],t=[];const n=["Артикул","Название","№ партии","На складе","Причина списания"];return this.changeValue.forEach(((i,o)=>{if(i){let i=[];n.forEach((e=>{let t="";const n=this.data[o][this.params.indexOf(e)-1];void 0!=n&&(t=n),i.push(t)})),e.push(i),t.push(o)}})),{arr:e,idxes:t}},isServicePage(){return"Услуги"===this.selected_storage},...(0,Ct.Se)(["data"]),...(0,Ct.Se)(["params"]),...(0,Ct.Se)(["show_edit_modal"]),...(0,Ct.Se)(["show_settings"]),...(0,Ct.Se)(["show_table_settings"]),...(0,Ct.Se)(["show_buttons"]),...(0,Ct.Se)(["show_filter"]),...(0,Ct.Se)(["show_edit_stuff"]),...(0,Ct.Se)(["show_sync"]),...(0,Ct.Se)(["show_new_position"]),...(0,Ct.Se)(["show_cancel_position"]),...(0,Ct.Se)(["catalog"]),...(0,Ct.Se)(["get_data_storage"]),...(0,Ct.Se)(["service"]),...(0,Ct.Se)(["show_columns"])},watch:{data:{handler:function(){this.paginate()},deep:!0},service:{handler:function(){this.paginate()},deep:!0},filter_value(){this.$store.commit("open_close_filter",this.filter_value)},show_modals(){this.show_modals?(window.scrollBy(-99999,0),document.body.style.overflowX="hidden"):document.body.style.overflowX="auto"},selected_storage(){this.paginate(),this.drop_page=!1,(0,i.Y3)((()=>this.drop_page=!0))}},methods:{archive_data(){let e=[];this.changeValue.forEach(((t,n)=>{t&&e.push(n)})),this.isServicePage?this.$store.commit("archive_service",e):this.$store.commit("archive_data",e),this.changeValue=[]},getData(e,t,n){this.paginatedData=[],this.paginatedParams=[],this.$store.commit("update_columns",{name:this.selected_storage,value:n}),e.forEach((e=>this.paginatedData.push(e))),t.forEach((e=>this.paginatedParams.push(e))),this.paginatedParams.unshift(""),this.paginatedParams.push(""),this.filter_value=!1},open_table_settings(){this.$store.commit("open_table_settings")},open_close_new_position(e){this.$store.commit("open_close_new_position",e)},open_close_cancel_position(e){this.$store.commit("open_close_cancel_position",e)},open_close_settings(){this.$store.commit("open_close_settings")},close_settings(){this.$store.commit("close_settings")},close_sync(){this.$store.commit("close_sync")},open_close_sync(){this.$store.commit("open_close_sync")},open_edit_stuff(){this.$store.commit("open_close_show_edit_stuff",!0)},update_changeValue(e){this.changeValue=[],this.changeValue=this.changeValue.concat(e)},route(e){this.$router.push("/"+e)},paginate(){this.paginatedData=[],this.paginatedParams=[],"Все остатки"==this.selected_storage&&this.data.forEach((e=>this.paginatedData.push(e))),"Склад 1"!=this.selected_storage&&"Склад 2"!=this.selected_storage||this.get_data_storage[this.selected_storage].forEach((e=>this.paginatedData.push(e))),"Услуги"==this.selected_storage&&this.service.forEach((e=>this.paginatedData.push(e))),this.params.forEach((e=>this.paginatedParams.push(e)))}}};const dr=(0,Ve.Z)(cr,[["render",U],["__scopeId","data-v-d40bbd96"]]);var ur=dr}}]);
//# sourceMappingURL=698.3d1847a2.js.map