(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[443],{9662:function(e,t,n){var o=n(614),i=n(6330),a=TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},1223:function(e,t,n){var o=n(5112),i=n(30),a=n(3070).f,s=o("unscopables"),l=Array.prototype;void 0==l[s]&&a(l,s,{configurable:!0,value:i(null)}),e.exports=function(e){l[s][e]=!0}},9670:function(e,t,n){var o=n(111),i=String,a=TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},1318:function(e,t,n){var o=n(5656),i=n(1400),a=n(6244),s=function(e){return function(t,n,s){var l,r=o(t),c=a(r),d=i(s,c);if(e&&n!=n){while(c>d)if(l=r[d++],l!=l)return!0}else for(;c>d;d++)if((e||d in r)&&r[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},4326:function(e,t,n){var o=n(1702),i=o({}.toString),a=o("".slice);e.exports=function(e){return a(i(e),8,-1)}},9920:function(e,t,n){var o=n(2597),i=n(3887),a=n(1236),s=n(3070);e.exports=function(e,t,n){for(var l=i(t),r=s.f,c=a.f,d=0;d<l.length;d++){var u=l[d];o(e,u)||n&&o(n,u)||r(e,u,c(t,u))}}},8880:function(e,t,n){var o=n(9781),i=n(3070),a=n(9114);e.exports=o?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,n){var o=n(614),i=n(8880),a=n(6339),s=n(3072);e.exports=function(e,t,n,l){l||(l={});var r=l.enumerable,c=void 0!==l.name?l.name:t;return o(n)&&a(n,c,l),l.global?r?e[t]=n:s(t,n):(l.unsafe?e[t]&&(r=!0):delete e[t],r?e[t]=n:i(e,t,n)),e}},3072:function(e,t,n){var o=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},9781:function(e,t,n){var o=n(7293);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var o=n(7854),i=n(111),a=o.document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},8113:function(e,t,n){var o=n(5005);e.exports=o("navigator","userAgent")||""},7392:function(e,t,n){var o,i,a=n(7854),s=n(8113),l=a.process,r=a.Deno,c=l&&l.versions||r&&r.version,d=c&&c.v8;d&&(o=d.split("."),i=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&s&&(o=s.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/),o&&(i=+o[1]))),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var o=n(7854),i=n(1236).f,a=n(8880),s=n(8052),l=n(3072),r=n(9920),c=n(4705);e.exports=function(e,t){var n,d,u,p,_,h,f=e.target,m=e.global,v=e.stat;if(d=m?o:v?o[f]||l(f,{}):(o[f]||{}).prototype,d)for(u in t){if(_=t[u],e.dontCallGetSet?(h=i(d,u),p=h&&h.value):p=d[u],n=c(m?u:f+(v?".":"#")+u,e.forced),!n&&void 0!==p){if(typeof _==typeof p)continue;r(_,p)}(e.sham||p&&p.sham)&&a(_,"sham",!0),s(d,u,_,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4374:function(e,t,n){var o=n(7293);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var o=n(4374),i=Function.prototype.call;e.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var o=n(9781),i=n(2597),a=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,l=i(a,"name"),r=l&&"something"===function(){}.name,c=l&&(!o||o&&s(a,"name").configurable);e.exports={EXISTS:l,PROPER:r,CONFIGURABLE:c}},1702:function(e,t,n){var o=n(4374),i=Function.prototype,a=i.bind,s=i.call,l=o&&a.bind(s,s);e.exports=o?function(e){return e&&l(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},5005:function(e,t,n){var o=n(7854),i=n(614),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(o[e]):o[e]&&o[e][t]}},8173:function(e,t,n){var o=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:o(n)}},7854:function(e,t,n){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var o=n(1702),i=n(7908),a=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var o=n(5005);e.exports=o("document","documentElement")},4664:function(e,t,n){var o=n(9781),i=n(7293),a=n(317);e.exports=!o&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var o=n(1702),i=n(7293),a=n(4326),s=Object,l=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?l(e,""):s(e)}:s},2788:function(e,t,n){var o=n(1702),i=n(614),a=n(5465),s=o(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},9909:function(e,t,n){var o,i,a,s=n(8536),l=n(7854),r=n(1702),c=n(111),d=n(8880),u=n(2597),p=n(5465),_=n(6200),h=n(3501),f="Object already initialized",m=l.TypeError,v=l.WeakMap,g=function(e){return a(e)?i(e):o(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(s||p.state){var y=p.state||(p.state=new v),w=r(y.get),x=r(y.has),S=r(y.set);o=function(e,t){if(x(y,e))throw new m(f);return t.facade=e,S(y,e,t),t},i=function(e){return w(y,e)||{}},a=function(e){return x(y,e)}}else{var C=_("state");h[C]=!0,o=function(e,t){if(u(e,C))throw new m(f);return t.facade=e,d(e,C,t),t},i=function(e){return u(e,C)?e[C]:{}},a=function(e){return u(e,C)}}e.exports={set:o,get:i,has:a,enforce:g,getterFor:b}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var o=n(7293),i=n(614),a=/#|\.prototype\./,s=function(e,t){var n=r[l(e)];return n==d||n!=c&&(i(t)?o(t):!!t)},l=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},r=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";e.exports=s},111:function(e,t,n){var o=n(614);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var o=n(5005),i=n(614),a=n(7976),s=n(3307),l=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,l(e))}},6244:function(e,t,n){var o=n(7466);e.exports=function(e){return o(e.length)}},6339:function(e,t,n){var o=n(7293),i=n(614),a=n(2597),s=n(9781),l=n(6530).CONFIGURABLE,r=n(2788),c=n(9909),d=c.enforce,u=c.get,p=Object.defineProperty,_=s&&!o((function(){return 8!==p((function(){}),"length",{value:8}).length})),h=String(String).split("String"),f=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&p(e,"name",{value:t,configurable:!0}),_&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var o=d(e);return a(o,"source")||(o.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return i(this)&&u(this).source||r(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},133:function(e,t,n){var o=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},8536:function(e,t,n){var o=n(7854),i=n(614),a=n(2788),s=o.WeakMap;e.exports=i(s)&&/native code/.test(a(s))},30:function(e,t,n){var o,i=n(9670),a=n(6048),s=n(748),l=n(3501),r=n(490),c=n(317),d=n(6200),u=">",p="<",_="prototype",h="script",f=d("IE_PROTO"),m=function(){},v=function(e){return p+h+u+e+p+"/"+h+u},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",r.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},y=function(){try{o=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&o?g(o):b():g(o);var e=s.length;while(e--)delete y[_][s[e]];return y()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[_]=i(e),n=new m,m[_]=null,n[f]=e):n=y(),void 0===t?n:a.f(n,t)}},6048:function(e,t,n){var o=n(9781),i=n(3353),a=n(3070),s=n(9670),l=n(5656),r=n(1956);t.f=o&&!i?Object.defineProperties:function(e,t){s(e);var n,o=l(t),i=r(t),c=i.length,d=0;while(c>d)a.f(e,n=i[d++],o[n]);return e}},3070:function(e,t,n){var o=n(9781),i=n(4664),a=n(3353),s=n(9670),l=n(4948),r=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",_="writable";t.f=o?a?function(e,t,n){if(s(e),t=l(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&_ in n&&!n[_]){var o=d(e,t);o&&o[_]&&(e[t]=n.value,n={configurable:p in n?n[p]:o[p],enumerable:u in n?n[u]:o[u],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=l(t),s(n),i)try{return c(e,t,n)}catch(o){}if("get"in n||"set"in n)throw r("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var o=n(9781),i=n(6916),a=n(5296),s=n(9114),l=n(5656),r=n(4948),c=n(2597),d=n(4664),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=l(e),t=r(t),d)try{return u(e,t)}catch(n){}if(c(e,t))return s(!i(a.f,e,t),e[t])}},8006:function(e,t,n){var o=n(6324),i=n(748),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,a)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},7976:function(e,t,n){var o=n(1702);e.exports=o({}.isPrototypeOf)},6324:function(e,t,n){var o=n(1702),i=n(2597),a=n(5656),s=n(1318).indexOf,l=n(3501),r=o([].push);e.exports=function(e,t){var n,o=a(e),c=0,d=[];for(n in o)!i(l,n)&&i(o,n)&&r(d,n);while(t.length>c)i(o,n=t[c++])&&(~s(d,n)||r(d,n));return d}},1956:function(e,t,n){var o=n(6324),i=n(748);e.exports=Object.keys||function(e){return o(e,i)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},2140:function(e,t,n){var o=n(6916),i=n(614),a=n(111),s=TypeError;e.exports=function(e,t){var n,l;if("string"===t&&i(n=e.toString)&&!a(l=o(n,e)))return l;if(i(n=e.valueOf)&&!a(l=o(n,e)))return l;if("string"!==t&&i(n=e.toString)&&!a(l=o(n,e)))return l;throw s("Can't convert object to primitive value")}},3887:function(e,t,n){var o=n(5005),i=n(1702),a=n(8006),s=n(5181),l=n(9670),r=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=a.f(l(e)),n=s.f;return n?r(t,n(e)):t}},4488:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},6200:function(e,t,n){var o=n(2309),i=n(9711),a=o("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5465:function(e,t,n){var o=n(7854),i=n(3072),a="__core-js_shared__",s=o[a]||i(a,{});e.exports=s},2309:function(e,t,n){var o=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:o?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var o=n(9303),i=Math.max,a=Math.min;e.exports=function(e,t){var n=o(e);return n<0?i(n+t,0):a(n,t)}},5656:function(e,t,n){var o=n(8361),i=n(4488);e.exports=function(e){return o(i(e))}},9303:function(e,t,n){var o=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},7466:function(e,t,n){var o=n(9303),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},7908:function(e,t,n){var o=n(4488),i=Object;e.exports=function(e){return i(o(e))}},7593:function(e,t,n){var o=n(6916),i=n(111),a=n(2190),s=n(8173),l=n(2140),r=n(5112),c=TypeError,d=r("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},4948:function(e,t,n){var o=n(7593),i=n(2190);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var o=n(1702),i=0,a=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+a,36)}},3307:function(e,t,n){var o=n(133);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var o=n(9781),i=n(7293);e.exports=o&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var o=n(7854),i=n(2309),a=n(2597),s=n(9711),l=n(133),r=n(3307),c=i("wks"),d=o.Symbol,u=d&&d["for"],p=r?d:d&&d.withoutSetter||s;e.exports=function(e){if(!a(c,e)||!l&&"string"!=typeof c[e]){var t="Symbol."+e;l&&a(d,e)?c[e]=d[e]:c[e]=r&&u?u(t):p(t)}return c[e]}},6699:function(e,t,n){"use strict";var o=n(2109),i=n(1318).includes,a=n(7293),s=n(1223),l=a((function(){return!Array(1).includes()}));o({target:"Array",proto:!0,forced:l},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},553:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var o=n(6252),i=n(3577),a=n(9963);const s=e=>((0,o.dD)("data-v-7e7e4408"),e=e(),(0,o.Cn)(),e),l={class:"wrapper"},r={class:"container"},c=s((()=>(0,o._)("div",{class:"header"},[(0,o._)("label",null,"Добавление товаров")],-1))),d={class:"content"},u={class:"table"},p={class:"row title"},_=s((()=>(0,o._)("td",{class:"item"},null,-1))),h={class:"item"},f=["onUpdate:modelValue","disabled"],m={class:"item"},v=["onUpdate:modelValue","disabled"],g={class:"item"},b={class:"select_input"},y=["onUpdate:modelValue","disabled"],w={class:"item"},x={class:"item"},S=["onUpdate:modelValue","disabled"],C={class:"item"},D=["onUpdate:modelValue","disabled"],k={class:"item"},E=["onUpdate:modelValue"],O={class:"item"},I={class:"nds"},T=["onUpdate:modelValue","id"],V=["for"],j={key:0,class:"hiden"},q=["onUpdate:modelValue","id"],P=["for"],A=["onUpdate:modelValue","id"],M=["for"],N=["onUpdate:modelValue"],F={class:"item"},Y=["onClick"],$={class:"footer"},U={class:"btns"};function R(e,t,n,s,R,W){const X=(0,o.up)("selector-vue");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",r,[c,(0,o._)("div",d,[(0,o._)("table",u,[(0,o._)("thead",null,[(0,o._)("tr",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(R.title,(e=>((0,o.wg)(),(0,o.iD)("td",{class:"item",key:e},(0,i.zw)(e),1)))),128)),_])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(R.new_items,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{class:"row",key:e},[(0,o._)("td",h,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e=>R.new_items[t][0]=e,class:(0,i.C_)(["input",{not_valid:""==R.new_items[t][0]&&R.try_accept}]),disabled:n.rows.length>t},null,10,f),[[a.nr,R.new_items[t][0]]])]),(0,o._)("td",m,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e=>R.new_items[t][1]=e,class:(0,i.C_)(["input",{not_valid:""==R.new_items[t][1]&&R.try_accept}]),disabled:n.rows.length>t},null,10,v),[[a.nr,R.new_items[t][1]]])]),(0,o._)("td",g,[(0,o._)("div",b,[(0,o.Wm)(X,{options_props:R.options1,onSelect:W.option_select1,selected_option:e[2],idx:t},null,8,["options_props","onSelect","selected_option","idx"]),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e=>R.new_items[t][3]=e,class:(0,i.C_)(["input",{not_valid:""==R.new_items[t][3]&&R.try_accept}]),disabled:n.rows.length>t},null,10,y),[[a.nr,R.new_items[t][3]]])])]),(0,o._)("td",w,[(0,o.Wm)(X,{options_props:R.options2,onSelect:W.option_select2,selected_option:e[4],idx:t,disabled:n.rows.length>t},null,8,["options_props","onSelect","selected_option","idx","disabled"])]),(0,o._)("td",x,[(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e=>R.new_items[t][5]=e,class:(0,i.C_)(["input",{not_valid:(""==R.new_items[t][5]||void 0==R.new_items[t][5])&&R.try_accept}]),disabled:2==e[4].value,min:"0"},null,10,S),[[a.nr,R.new_items[t][5]]])]),(0,o._)("td",C,[(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e=>R.new_items[t][6]=e,class:(0,i.C_)(["input",{not_valid:""==R.new_items[t][6]&&R.try_accept}]),min:"0",disabled:n.rows.length>t},null,10,D),[[a.nr,R.new_items[t][6]]])]),(0,o._)("td",k,[(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e=>R.new_items[t][7]=e,class:(0,i.C_)(["input",{not_valid:""==R.new_items[t][7]&&R.try_accept}]),min:"0"},null,10,E),[[a.nr,R.new_items[t][7]]])]),(0,o._)("td",O,[(0,o._)("div",I,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e=>R.new_items[t][8]=e,class:"checkbox",id:t+"nq"},null,8,T),[[a.e8,R.new_items[t][8]]]),(0,o._)("label",{for:t+"nq"},null,8,V),R.new_items[t][8]?((0,o.wg)(),(0,o.iD)("div",j,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e=>R.new_items[t][9]=e,class:"checkbox",id:t+"nw"},null,8,q),[[a.e8,R.new_items[t][9]]]),(0,o._)("label",{for:t+"nw"},"включен в цену",8,P),(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e=>R.new_items[t][10]=e,class:"checkbox",id:t+"ne"},null,8,A),[[a.e8,R.new_items[t][10]]]),(0,o._)("label",{for:t+"ne"},"менеджер может менять %",8,M),(0,o.wy)((0,o._)("input",{type:"number",class:"input","onUpdate:modelValue":e=>R.new_items[t][11]=e,placeholder:"% НДС",min:"0"},null,8,N),[[a.nr,R.new_items[t][11]]])])):(0,o.kq)("",!0)])]),(0,o._)("td",F,[(0,o.wy)((0,o._)("button",{class:"del_btn",onClick:e=>W.del_item(t)}," X ",8,Y),[[a.F8,R.new_items.length>1]])])])))),128))])]),(0,o._)("button",{class:"add_new_button",onClick:t[0]||(t[0]=e=>W.push_new_item())},"+")]),(0,o._)("div",$,[(0,o._)("div",U,[(0,o._)("button",{class:"btn btn1",onClick:t[1]||(t[1]=e=>W.close_modal())},"Отмена"),(0,o._)("button",{class:"btn btn2",onClick:t[2]||(t[2]=e=>W.save())},"Сохранить")])])])])}var W=n(2376),X={components:{SelectorVue:W.Z},props:{rows:{type:Array,required:!1,default(){return[]}},idxes:{type:Number,required:!1}},data(){return{title:["Артикул","Название","№ партии","Тип","Кол-во","Себестоимость","Цена","НДС"],new_items:[],options1:[{name:"Новая",value:1}],options2:[{name:"Товар",value:1},{name:"Услуга",value:2}],try_accept:!1}},mounted(){this.start()},methods:{push_new_item(){this.new_items.push(["","",{name:"Новая",value:1},"",{name:"Товар",value:1},"","","",!1,!1,!1,""])},push_current_item(){this.rows.forEach(((e,t)=>{this.new_items.push([]),e.forEach((e=>{this.new_items[t].push(e)})),this.options1.push({name:this.new_items[t][2],value:2}),this.new_items[t][2]={name:this.new_items[t][2],value:2},this.new_items[t][4]={name:"Товар",value:1}}))},del_item(e){this.new_items.splice(e,1)},save(){this.try_accept=!0;let e=!0;this.new_items.forEach((t=>{e=e&&""!=t[0]&&""!=t[1]&&""!=t[3]&&""!=t[5]&&""!=t[6]&&""!=t[7]&&void 0!=t[0]&&void 0!=t[1]&&void 0!=t[3]&&void 0!=t[5]&&void 0!=t[6]&&void 0!=t[7]})),e&&(this.new_items.forEach(((e,t)=>{e.forEach(((e,n)=>{this.new_items[t][n]=`${e}`,"object"==typeof e&&(this.new_items[t][n]=e.name),!0===e&&(this.new_items[t][n]="Да"),!1===e&&(this.new_items[t][n]="Нет")}))})),this.new_items.forEach((e=>{this.$store.commit("add_new_data",e)})),this.close_modal())},close_modal(){this.$store.commit("open_close_new_position",!1),this.new_items=[],this.try_accept=!1},option_select1(e,t){this.new_items[t][2]=e},option_select2(e,t){this.new_items[t][4]=e},start(){(0,o.Y3)((()=>{this.rows.length>0?this.push_current_item():this.push_new_item()}))}}},z=n(3744);const L=(0,z.Z)(X,[["render",R],["__scopeId","data-v-7e7e4408"]]);var B=L},2376:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var o=n(6252),i=n(3577),a=n(9963);const s={class:"v-select"},l={key:0,class:"options"},r=["onClick"];function c(e,t,n,c,d,u){return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",{class:(0,i.C_)(["title",{title_checked:d.show_options,disabled:n.disabled}]),onClick:t[0]||(t[0]=e=>u.open_close_options()),onFocusout:t[1]||(t[1]=(...e)=>u.handleFocusOut&&u.handleFocusOut(...e)),tabindex:"0"},[(0,o._)("p",null,(0,i.zw)(n.selected_option.name),1),n.disabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["arrow",{rotate_arrow:d.show_options}])},null,2))],34),(0,o.Wm)(a.uT,{name:"list"},{default:(0,o.w5)((()=>[d.show_options?((0,o.wg)(),(0,o.iD)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.options,(e=>((0,o.wg)(),(0,o.iD)("p",{key:e.value,onClick:t=>u.select_option(e)},(0,i.zw)(e.name),9,r)))),128))])):(0,o.kq)("",!0)])),_:1})])}var d={name:"SelectorVue",props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},data(){return{show_options:!1,options:[]}},mounted(){this.options=[],this.options_props.forEach((e=>this.options.push(e)))},methods:{select_option(e){this.$emit("select",e,this.idx),this.hide_select()},hide_select(){this.show_options=!1},open_close_options(){this.disabled||(this.show_options=!this.show_options)},handleFocusOut(){this.hide_select()}}},u=n(3744);const p=(0,u.Z)(d,[["render",c],["__scopeId","data-v-47580c00"]]);var _=p},1308:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return xs}});var o=n(6252),i=n(3577),a=n(9963);const s=e=>((0,o.dD)("data-v-784904cc"),e=e(),(0,o.Cn)(),e),l={class:"table_setings"},r={key:0,class:"edit_staff"},c={key:1,class:"new_position"},d={class:"header_left"},u={class:"btns"},p=(0,o.uE)('<div class="radio_btns" data-v-784904cc><div class="radio_btn" data-v-784904cc><input type="radio" name="store1" id="store1" data-v-784904cc><label for="store1" data-v-784904cc>Все остатки </label></div><div class="radio_btn" data-v-784904cc><input type="radio" name="store1" id="store2" checked data-v-784904cc><label for="store2" data-v-784904cc>Склад 1</label></div><div class="radio_btn" data-v-784904cc><input type="radio" name="store1" id="store3" data-v-784904cc><label for="store3" data-v-784904cc>Склад 2</label></div><div class="radio_btn" data-v-784904cc><input type="radio" name="store1" id="store4" data-v-784904cc><label for="store4" data-v-784904cc>Услуги</label></div></div>',1),_={class:"header_right"},h=s((()=>(0,o._)("div",{class:"ref"},[(0,o._)("div",{class:"ref_1_logo"}),(0,o._)("a",{class:"links"},"Выгрузка в эксель")],-1))),f={class:"ref"},m=s((()=>(0,o._)("div",{class:"ref_2_logo"},null,-1))),v={class:"modal_settings modal_sync"},g=s((()=>(0,o._)("a",null,[(0,o._)("div",{class:"modal_container"},"AmoCrm -> Склад")],-1))),b=s((()=>(0,o._)("a",null,[(0,o._)("div",{class:"modal_container"},"Склад -> AmoCrm")],-1))),y=[g,b],w={class:"modal_settings"},x=s((()=>(0,o._)("a",null,[(0,o._)("div",{class:"modal_container"}," Синхронизация склада с товарами amoCrm ")],-1))),S=s((()=>(0,o._)("a",null,[(0,o._)("div",{class:"modal_container"},"Документы")],-1))),C={class:"filters_left"},D={class:"date"},k=s((()=>(0,o._)("input",{type:"date",id:"start",name:"trip-start",value:"2018-07-22",min:"2018-01-01",max:"2032-12-31","aria-required":"true","aria-invalid":"false"},null,-1))),E={class:"buttons"},O=s((()=>(0,o._)("button",{class:"button button_1 smallBtn"},"Архивировать",-1))),I=s((()=>(0,o._)("button",{class:"button button_3 smallBtn"},"Списать",-1))),T={class:"filters_right"},V={class:"filter_group"},j=s((()=>(0,o._)("label",{for:"filter"},"Фильтр",-1))),q=["disabled"],P={class:"grid"};function A(e,t,n,s,g,b){const A=(0,o.up)("table-setings"),M=(0,o.up)("edit-stuff"),N=(0,o.up)("new-position"),F=(0,o.up)("main-grid");return(0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["app",{disabled:e.show_table_settings||e.show_edit_modal||e.show_edit_stuff||e.show_new_position}]),onClick:t[11]||(t[11]=t=>{e.show_settings&&b.close_settings(),e.show_sync&&b.close_sync()})},[(0,o.wy)((0,o._)("div",l,[(0,o.Wm)(A,{names:g.paginatedParams,data:g.paginatedData,collval:g.collumn_value,onReturnData1:b.getData},null,8,["names","data","collval","onReturnData1"])],512),[[a.F8,e.show_table_settings]]),e.show_edit_stuff?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(M)])):(0,o.kq)("",!0),e.show_new_position?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(N,{rows:b.rows.arr,idxes:b.rows.idxes},null,8,["rows","idxes"])])):(0,o.kq)("",!0),(0,o._)("div",{class:(0,i.C_)(["header",{blur:e.show_table_settings||e.show_edit_modal||e.show_edit_stuff}])},[(0,o._)("div",d,[(0,o._)("div",u,[(0,o._)("button",{class:(0,i.C_)(["btns_btn",{selected_catalog:"Residue"===g.catalog_page}]),onClick:t[0]||(t[0]=e=>g.catalog_page="Residue")}," Остатки ",2),(0,o._)("button",{class:(0,i.C_)(["btns_btn",{selected_catalog:"Analytics"===g.catalog_page}]),onClick:t[1]||(t[1]=e=>g.catalog_page="Analytics")}," Аналитика ",2),(0,o._)("button",{class:(0,i.C_)(["btns_btn",{selected_catalog:"Archive"===g.catalog_page}]),onClick:t[2]||(t[2]=e=>{b.add2(),g.catalog_page="Archive"})}," Архив ",2),(0,o._)("button",{class:(0,i.C_)(["btns_btn",{selected_catalog:"Instructions"===g.catalog_page}]),onClick:t[3]||(t[3]=e=>{b.add(),g.catalog_page="Instructions"})}," Инструкции ",2)]),p]),(0,o._)("div",_,[h,(0,o._)("div",f,[m,(0,o._)("a",{class:"links",onClick:t[4]||(t[4]=(0,a.iM)((e=>b.open_close_sync()),["stop"]))},"Синхронизировать товары"),(0,o.Wm)(a.uT,{name:"modal"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",v,y,512),[[a.F8,e.show_sync]])])),_:1})]),(0,o._)("button",{class:"settings_btn",onClick:t[7]||(t[7]=(0,a.iM)((e=>b.open_close_settings()),["stop"]))},[(0,o.Wm)(a.uT,{name:"modal"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",w,[(0,o._)("a",null,[(0,o._)("div",{class:"modal_container",onClick:t[5]||(t[5]=e=>b.open_table_settings())}," Настройка таблицы ")]),(0,o._)("a",null,[(0,o._)("div",{class:"modal_container",onClick:t[6]||(t[6]=e=>b.open_edit_stuff())}," Настройка товаров ")]),x,S],512),[[a.F8,e.show_settings]])])),_:1})])])],2),(0,o._)("div",{class:(0,i.C_)(["wrapper",{blur:e.show_table_settings||e.show_edit_stuff}])},[(0,o._)("div",{class:(0,i.C_)(["filters",{blur:e.show_edit_modal}])},[(0,o._)("div",C,[(0,o._)("div",D,[k,(0,o._)("p",null,"Найдено: "+(0,i.zw)(e.data.length),1)]),(0,o.Wm)(a.uT,{name:"btns"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",E,[O,(0,o._)("button",{class:"button button_2 smallBtn",onClick:t[8]||(t[8]=e=>b.open_close_new_position(!0))}," Добавить "),I],512),[[a.F8,e.show_buttons]])])),_:1})]),(0,o._)("div",T,[(0,o._)("div",V,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>g.filter_value=e),name:"filter",id:"filter",class:"checkbox"},null,512),[[a.e8,g.filter_value]]),j]),(0,o._)("button",{class:"button button_4 smallBtn",onClick:t[10]||(t[10]=e=>b.open_close_new_position(!0)),disabled:b.rows.arr.length>0}," Новая позиция ",8,q)])],2),(0,o._)("div",P,[(0,o.Wm)(F,{data:g.paginatedData,params:g.paginatedParams,collval:g.collumn_value,onApdate_changeValue:b.apdate_changeValue},null,8,["data","params","collval","onApdate_changeValue"])])],2)],2)}const M=e=>((0,o.dD)("data-v-3f40e0e9"),e=e(),(0,o.Cn)(),e),N={class:"wrapper"},F={class:"bar_row"},Y={class:"bar_item_group"},$={class:"bar_item_icon"},U={class:"filters"},R={class:"item"},W={class:"item"},X={class:"item"},z=["id","onUpdate:modelValue"],L=["for"],B={class:"dublitem"},H=["onClick"],Z=["onClick"],K={class:"item"},G=["onClick"],Q={style:{margin:"5px"}},J=M((()=>(0,o._)("option",null,"3",-1))),ee=M((()=>(0,o._)("option",null,"5",-1))),te=M((()=>(0,o._)("option",null,"10",-1))),ne=M((()=>(0,o._)("option",null,"20",-1))),oe=[J,ee,te,ne];function ie(e,t,n,s,l,r){const c=(0,o.up)("edit-item"),d=(0,o.up)("filter-number"),u=(0,o.up)("filter-text"),p=(0,o.up)("filter-list"),_=(0,o.up)("filter-date"),h=(0,o.up)("filter-flag"),f=(0,o.up)("tabel");return(0,o.wg)(),(0,o.iD)("div",N,[(0,o.Wm)(a.uT,{name:"mdl"},{default:(0,o.w5)((()=>[e.show_edit_modal?((0,o.wg)(),(0,o.j4)(c,{key:0,edit_data:l.edit_data},null,8,["edit_data"])):(0,o.kq)("",!0)])),_:1}),((0,o.wg)(),(0,o.j4)(f,{class:(0,i.C_)(["tabel",{blur:e.show_edit_modal}]),key:l.updateKey},{default:(0,o.w5)((()=>[(0,o._)("thead",null,[(0,o._)("tr",F,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.params,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("th",{class:"bar_item item",style:(0,i.j5)({minWidth:0===t?"17px":t===n.params.length-1?"20px":0!=r.width[t]?r.width[t]+"px":(r.collsCount>=8?100:r.collsCount>3?90:80)/r.collsCount+"%"}),key:e},[(0,o._)("div",Y,[(0,o._)("div",null,(0,i.zw)(e),1),(0,o.wy)((0,o._)("button",$,null,512),[[a.F8,e]])])],4)),[[a.F8,!1!==n.collval[t-1]]]))),128))]),(0,o._)("tr",U,[(0,o.Wm)(a.W3,{name:"mdl"},{default:(0,o.w5)((()=>[(0,o.Wm)(a.uT,{name:"mdl"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("th",R,null,512),[[a.F8,e.show_filter]])])),_:1}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.filtersValue,((t,i)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("th",{class:"item",key:i},[1==t.type||2==t.type?((0,o.wg)(),(0,o.j4)(d,{key:0,item:t,idx:i,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,o.kq)("",!0),3==t.type||4==t.type?((0,o.wg)(),(0,o.j4)(u,{key:1,item:t,idx:i,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,o.kq)("",!0),5==t.type||6==t.type?((0,o.wg)(),(0,o.j4)(p,{key:2,item:t,idx:i,selector_options:t.selector_options,onChange_filter_value:r.change_filter_value},null,8,["item","idx","selector_options","onChange_filter_value"])):(0,o.kq)("",!0),7==t.type||8==t.type?((0,o.wg)(),(0,o.j4)(_,{key:3,item:t,idx:i,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,o.kq)("",!0),9==t.type?((0,o.wg)(),(0,o.j4)(h,{key:4,item:t,idx:i,onChange_filter_value:r.change_filter_value},null,8,["item","idx","onChange_filter_value"])):(0,o.kq)("",!0)])),[[a.F8,e.show_filter&&!1!==n.collval[i-1]]]))),128)),(0,o.wy)((0,o._)("th",W,null,512),[[a.F8,e.show_filter]])])),_:1})])]),(0,o._)("tbody",null,[(0,o.Wm)(a.W3,{name:"rows"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.paginatedData,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("tr",{class:"row",key:e},[(0,o._)("td",X,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"checkbox",id:t+"a","onUpdate:modelValue":t=>l.changeValue[n.data.indexOf(e)]=t},null,8,z),[[a.e8,l.changeValue[n.data.indexOf(e)]]]),(0,o._)("label",{for:t+"a"},null,8,L)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(Object.entries(e),((e,s)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("td",{class:(0,i.C_)([{open_dublitem:l.duplicate[t+l.idxes[l.page-1][0]]},"item"]),key:e},[(0,o._)("div",B,[(0,o.Uk)((0,i.zw)(e[1])+" ",1),s==n.params.indexOf("Название")-1&&l.showduplicate[t+l.idxes[l.page-1][0]+1]&&!l.duplicate[t+l.idxes[l.page-1][0]]?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e=>r.showduble(t+l.idxes[l.page-1][0]),class:"buttonDuwn btn"},null,8,H)):(0,o.kq)("",!0),s!=n.params.indexOf("Название")-1||l.showduplicate[t+l.idxes[l.page-1][0]+1]||l.duplicate[t+l.idxes[l.page-1][0]]||!l.duplicate[t+l.idxes[l.page-1][0]+1]?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:e=>r.hideduble(t+l.idxes[l.page-1][0]),class:"buttonUp btn"},null,8,Z))])],2)),[[a.F8,!1!==n.collval[s]]]))),128)),(0,o._)("td",K,[(0,o._)("div",{class:"edit_icon",onClick:n=>r.open_edit_modal(e,t)},null,8,G)])])),[[a.F8,!l.showduplicate[t+l.idxes[l.page-1][0]]]]))),128))])),_:1})])])),_:1},8,["class"])),(0,o._)("div",{class:(0,i.C_)(["bottom",{blur:e.show_edit_modal}])},[l.page>1?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>l.page-=1)},(0,i.zw)("<"))):(0,o.kq)("",!0),(0,o._)("span",Q,(0,i.zw)(l.page),1),l.page*l.count<n.data.length-r.countHideRows?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>l.page+=1)},(0,i.zw)(">"))):(0,o.kq)("",!0),(0,o.wy)((0,o._)("select",{name:"count",id:"count",class:"count","onUpdate:modelValue":t[2]||(t[2]=e=>l.count=e)},oe,512),[[a.bM,l.count]])],2)])}const ae=(0,o._)("div",{class:"background_edit_modal"},null,-1),se={class:"app_edit_modal"},le={class:"header"},re={class:"header_left"},ce={class:"header_right"},de={class:"btns"},ue=(0,o._)("button",{class:"btn2"},"Архивировать",-1),pe=(0,o._)("div",{class:"hr"},null,-1),_e={class:"main"},he={class:"row"},fe=(0,o._)("label",null,"Тип:",-1),me=(0,o._)("div",{class:"hr"},null,-1),ve={class:"footer"},ge={class:"btns"},be=(0,o._)("button",{class:"btn2"},"Архивировать",-1);function ye(e,t,n,a,s,l){const r=(0,o.up)("SelectorVue"),c=(0,o.up)("edit-integer"),d=(0,o.up)("edit-float"),u=(0,o.up)("edit-string"),p=(0,o.up)("edit-text"),_=(0,o.up)("edit-selector"),h=(0,o.up)("edit-multi-selector"),f=(0,o.up)("edit-date"),m=(0,o.up)("edit-date-time"),v=(0,o.up)("edit-flag");return(0,o.wg)(),(0,o.iD)(o.HY,null,[ae,(0,o._)("div",se,[(0,o._)("div",le,[(0,o._)("div",re," Редактирование "+(0,i.zw)(n.edit_data[e.params.indexOf("Название")-1]),1),(0,o._)("div",ce,[(0,o._)("div",de,[(0,o._)("button",{class:"btn1",onClick:t[0]||(t[0]=e=>l.close_edit_modal())},"Отмена"),ue,(0,o._)("button",{class:"btn3",onClick:t[1]||(t[1]=e=>l.save_data())},"Сохранить")])])]),pe,(0,o._)("div",_e,[(0,o._)("div",he,[fe,(0,o.Wm)(r,{options_props:s.options_1,onSelect:l.option_select_1,selected_option:s.selected_option_1},null,8,["options_props","onSelect","selected_option"])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.fields,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:t.id},[1==t.type.value?((0,o.wg)(),(0,o.j4)(c,{key:0,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),2==t.type.value?((0,o.wg)(),(0,o.j4)(d,{key:1,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),3==t.type.value?((0,o.wg)(),(0,o.j4)(u,{key:2,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),4==t.type.value?((0,o.wg)(),(0,o.j4)(p,{key:3,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),5==t.type.value?((0,o.wg)(),(0,o.j4)(_,{key:4,item:t,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),6==t.type.value?((0,o.wg)(),(0,o.j4)(h,{key:5,item:t,selected_options:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_options","idx","onChange_value"])):(0,o.kq)("",!0),7==t.type.value?((0,o.wg)(),(0,o.j4)(f,{key:6,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),8==t.type.value?((0,o.wg)(),(0,o.j4)(m,{key:7,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0),9==t.type.value?((0,o.wg)(),(0,o.j4)(v,{key:8,item:t.field,selected_option:s.new_edit_data[e.params.indexOf(t.field)-1],idx:e.params.indexOf(t.field)-1,onChange_value:l.change_value},null,8,["item","selected_option","idx","onChange_value"])):(0,o.kq)("",!0)])))),128))]),me,(0,o._)("div",ve,[(0,o._)("div",ge,[(0,o._)("button",{class:"btn1",onClick:t[2]||(t[2]=e=>l.close_edit_modal())},"Отмена"),be,(0,o._)("button",{class:"btn3",onClick:t[3]||(t[3]=e=>l.save_data())},"Сохранить")])])])],64)}var we=n(2376);const xe={class:"row"};function Se(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",xe,[(0,o._)("label",null,(0,i.zw)(n.item)+":",1),(0,o.wy)((0,o._)("input",{type:"number",step:"1",onchange:"this.value = parseInt(this.value);","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[a.nr,l.copy_selected_option]])])}var Ce={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.copy_selected_option=`${this.copy_selected_option}`,this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,o.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}},De=n(3744);const ke=(0,De.Z)(Ce,[["render",Se],["__scopeId","data-v-fd62ad50"]]);var Ee=ke;const Oe={class:"row"};function Ie(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",Oe,[(0,o._)("label",null,(0,i.zw)(n.item)+":",1),(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[a.nr,l.copy_selected_option]])])}var Te={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.copy_selected_option=`${this.copy_selected_option}`,this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,o.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Ve=(0,De.Z)(Te,[["render",Ie],["__scopeId","data-v-852b67b6"]]);var je=Ve;const qe={class:"row"};function Pe(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",qe,[(0,o._)("label",null,(0,i.zw)(n.item)+":",1),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[a.nr,l.copy_selected_option]])])}var Ae={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,o.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Me=(0,De.Z)(Ae,[["render",Pe],["__scopeId","data-v-1f5bef14"]]);var Ne=Me;const Fe={class:"row"};function Ye(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",Fe,[(0,o._)("label",null,(0,i.zw)(n.item)+":",1),(0,o.wy)((0,o._)("textarea",{class:"text_area",cols:"30",rows:"10","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[a.nr,l.copy_selected_option]])])}var $e={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,o.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const Ue=(0,De.Z)($e,[["render",Ye],["__scopeId","data-v-77795b24"]]);var Re=Ue;const We={class:"row"};function Xe(e,t,n,a,s,l){const r=(0,o.up)("SelectorVue");return(0,o.wg)(),(0,o.iD)("div",We,[(0,o._)("label",null,(0,i.zw)(n.item.field)+":",1),(0,o.Wm)(r,{options_props:n.item.selector_options,onSelect:l.option_select,selected_option:s.copy_selected_option},null,8,["options_props","onSelect","selected_option"])])}var ze={components:{SelectorVue:we.Z},props:{item:{type:Object,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:{}}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()}},methods:{change_value(){let e={};(0,o.Y3)((()=>{this.item.selector_options.forEach((t=>{t.name==this.selected_option&&(e=t)})),Object.assign(this.copy_selected_option,e)}))},option_select(e){this.$emit("change_value",e.name,this.idx)}}};const Le=(0,De.Z)(ze,[["render",Xe],["__scopeId","data-v-13cc679c"]]);var Be=Le;const He={class:"row"};function Ze(e,t,n,a,s,l){const r=(0,o.up)("multi-selector");return(0,o.wg)(),(0,o.iD)("div",He,[(0,o._)("label",null,(0,i.zw)(n.item.field)+":",1),(0,o.Wm)(r,{options_props:n.item.selector_options,onSelect:l.option_select,selected_options:s.copy_selected_options},null,8,["options_props","onSelect","selected_options"])])}n(6699);const Ke={class:"multi_selector"},Ge=["onClick"];function Qe(e,t,n,a,s,l){return(0,o.wg)(),(0,o.iD)("div",Ke,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.options_props,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["item",{selected:n.selected_options[t]}]),key:e.value,onClick:e=>l.select(t)},(0,i.zw)(e.name),11,Ge)))),128))])}var Je={name:"MultiSelector",props:{options_props:{type:Array,required:!0,default(){return[]}},selected_options:{type:Array,required:!0,default(){return[!0]}}},data(){return{options_value:[]}},mounted(){this.selected_options.forEach((e=>this.options_value.push(e)))},methods:{select(e){0==e&&(this.options_value=[]),1==this.options_value[0]&&(this.options_value[0]=!1),this.options_value[e]=!this.options_value[e],this.options_value.includes(!0)||(this.options_value[0]=!0),this.$emit("select",this.options_value)}}};const et=(0,De.Z)(Je,[["render",Qe],["__scopeId","data-v-39baddff"]]);var tt=et,nt={components:{MultiSelector:tt},props:{item:{type:Object,required:!0},selected_options:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_options:[]}},mounted(){this.change_value()},watch:{selected_options(){this.change_value()}},methods:{change_value(){let e=[];(0,o.Y3)((()=>{const t=this.selected_options.split(", ");this.item.selector_options.forEach((n=>{t.includes(n.name)?e.push(!0):e.push(!1)})),this.copy_selected_options=[],this.copy_selected_options=this.copy_selected_options.concat(e)}))},option_select(e){let t=[];e.forEach(((e,n)=>{e&&t.push(this.item.selector_options[n].name)})),t=t.join(", "),this.$emit("change_value",t,this.idx)}}};const ot=(0,De.Z)(nt,[["render",Ze],["__scopeId","data-v-a194d58a"]]);var it=ot;const at={class:"row"};function st(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",at,[(0,o._)("label",null,(0,i.zw)(n.item)+":",1),(0,o.wy)((0,o._)("input",{type:"date",class:"date_input","aria-required":"true","aria-invalid":"false","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[a.nr,l.copy_selected_option]])])}var lt={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,o.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const rt=(0,De.Z)(lt,[["render",st],["__scopeId","data-v-0c7d1ae2"]]);var ct=rt;const dt={class:"row"};function ut(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",dt,[(0,o._)("label",null,(0,i.zw)(n.item)+":",1),(0,o.wy)((0,o._)("input",{type:"datetime-local",class:"date_input","aria-required":"true","aria-invalid":"false","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,512),[[a.nr,l.copy_selected_option]])])}var pt={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:""}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){this.option_select(this.copy_selected_option)}},methods:{change_value(){(0,o.Y3)((()=>{this.copy_selected_option=this.selected_option}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const _t=(0,De.Z)(pt,[["render",ut],["__scopeId","data-v-886e9892"]]);var ht=_t;const ft={class:"row"},mt=["id"],vt=["for"];function gt(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",ft,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"checkbox",id:n.idx+"za","onUpdate:modelValue":t[0]||(t[0]=e=>l.copy_selected_option=e)},null,8,mt),[[a.e8,l.copy_selected_option]]),(0,o._)("label",{for:n.idx+"za"},(0,i.zw)(n.item),9,vt)])}var bt={props:{item:{type:String,required:!0},selected_option:{type:String,required:!0},idx:{type:Number,required:!0}},data(){return{copy_selected_option:Boolean}},mounted(){this.change_value()},watch:{selected_option(){this.change_value()},copy_selected_option(){let e="";e=this.copy_selected_option?"Да":"Нет",this.option_select(e)}},methods:{change_value(){(0,o.Y3)((()=>{"Да"==this.selected_option?this.copy_selected_option=!0:this.copy_selected_option=!1}))},option_select(e){this.$emit("change_value",e,this.idx)}}};const yt=(0,De.Z)(bt,[["render",gt],["__scopeId","data-v-1b8200ee"]]);var wt=yt,xt=n(3907),St={components:{SelectorVue:we.Z,EditInteger:Ee,EditFloat:je,EditString:Ne,EditText:Re,EditSelector:Be,EditMultiSelector:it,EditDate:ct,EditDateTime:ht,EditFlag:wt},props:{edit_data:{type:Array,required:!0}},computed:{...(0,xt.Se)(["data"]),...(0,xt.Se)(["params"]),...(0,xt.Se)(["fields"]),...(0,xt.Se)(["idx_edit_modal"])},data(){return{options_1:[{name:"Товар",value:1},{name:"Услуга",value:2}],selected_option_1:{name:"Товар",value:1},options_2:[{name:"Не выбрано",value:1},{name:"шт",value:2},{name:"л (литры)",value:3},{name:"м3 (кубические метры)",value:4},{name:"кг (килограммы)",value:5},{name:"т (тонны)",value:6},{name:"комплект",value:7},{name:"услуга",value:8}],selected_option_2:{name:"Не выбрано",value:1},options_3:[{name:"Не выбрано",value:1},{name:"шт",value:2},{name:"л (литры)",value:3},{name:"м3 (кубические метры)",value:4},{name:"кг (килограммы)",value:5},{name:"т (тонны)",value:6},{name:"комплект",value:7},{name:"услуга",value:8}],selected_options_3:[!0],new_edit_data:[]}},mounted(){this.new_edit_data=[],this.new_edit_data=this.new_edit_data.concat(this.edit_data),""!=this.new_edit_data.a1&&this.options_2.forEach((e=>{e.name==this.new_edit_data.a1&&Object.assign(this.selected_option_2,e)}))},methods:{change_value(e,t){this.new_edit_data[t]=e},option_select_1(e){Object.assign(this.selected_option_1,e)},option_select_2(e){Object.assign(this.selected_option_2,e)},option_select_multi(e){this.selected_options_3=e},close_edit_modal(){this.$store.commit("close_edit_modal")},save_data(){const e={idx:this.idx_edit_modal,data:this.new_edit_data};this.$store.commit("update_data_idx",e),this.close_edit_modal()},search_selector_options(e){let t=[];return this.fields.forEach((n=>{n.field==e&&(t=n.selector_options)})),t}}};const Ct=(0,De.Z)(St,[["render",ye]]);var Dt=Ct;const kt={class:"filter"};function Et(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",kt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>5==l.option?l.option=1:l.option+=1)},[(0,o._)("div",{class:(0,i.C_)(["icon",{equal:1==l.option,more:2==l.option,more_or_equal:3==l.option,less:4==l.option,less_or_equal:5==l.option}])},null,2)]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.filterValue=e),type:"number"},null,512),[[a.nr,l.filterValue]])])}var Ot={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{option:1,filterValue:null}},computed:{type_value(){return{option:this.option,value:this.filterValue}}},watch:{option_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,o.Y3)((()=>{this.option=this.item.option,this.filterValue=this.item.value}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)}}};const It=(0,De.Z)(Ot,[["render",Et],["__scopeId","data-v-e13322ce"]]);var Tt=It;const Vt={class:"filter"};function jt(e,t,n,s,l,r){return(0,o.wg)(),(0,o.iD)("div",Vt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>2==l.option?l.option=1:l.option+=1)},[(0,o._)("div",{class:(0,i.C_)(["icon",{equal:1==l.option,tilde:2==l.option}])},null,2)]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.filterValue=e),type:"text"},null,512),[[a.nr,l.filterValue]])])}var qt={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{option:1,filterValue:null}},computed:{option_value(){return{option:this.option,value:this.filterValue}}},watch:{type_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,o.Y3)((()=>{this.option=this.item.option,this.filterValue=this.item.value}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)}}};const Pt=(0,De.Z)(qt,[["render",jt],["__scopeId","data-v-356c0657"]]);var At=Pt;const Mt={class:"filter"};function Nt(e,t,n,a,s,l){const r=(0,o.up)("multi-selector");return(0,o.wg)(),(0,o.iD)("div",Mt,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>l.open_selector())},[e.disabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)(["arrow",{rotate_arrow:s.show_selector}])},null,2))]),s.show_selector?((0,o.wg)(),(0,o.j4)(r,{key:0,class:"selector",id:"selector123",options_props:n.selector_options,onSelect:l.option_select_multi,selected_options:s.filterValue,onFocusout:l.handleFocusOut,tabindex:"1"},null,8,["options_props","onSelect","selected_options","onFocusout"])):(0,o.kq)("",!0)])}var Ft={components:{MultiSelector:tt},props:{item:{type:Object,required:!0},idx:{type:Number,required:!0},selector_options:{type:Array,required:!0}},data(){return{filterValue:[],show_selector:!1}},computed:{option_value(){return{value:this.filterValue}}},watch:{type_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,o.Y3)((()=>{this.filterValue=[],this.item.value.forEach(((e,t)=>{this.filterValue[t]=e}))}))},emit_value(){this.$emit("change_filter_value",this.option_value,this.idx)},option_select_multi(e){this.filterValue=e},open_selector(){this.show_selector=!0,(0,o.Y3)((()=>{this.show_selector&&document.getElementById("selector123").focus()}))},handleFocusOut(){setTimeout((()=>{(0,o.Y3)((()=>{this.show_selector=!1}))}),150)}}};const Yt=(0,De.Z)(Ft,[["render",Nt],["__scopeId","data-v-0d927f30"]]);var $t=Yt;const Ut={key:0,class:"filter"},Rt={key:1,class:"filter"};function Wt(e,t,n,i,s,l){return(0,o.wg)(),(0,o.iD)(o.HY,null,[7==n.item.type?((0,o.wg)(),(0,o.iD)("div",Ut,[(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>s.date_start=e)},null,512),[[a.nr,s.date_start]]),(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>s.date_end=e)},null,512),[[a.nr,s.date_end]])])):(0,o.kq)("",!0),8==n.item.type?((0,o.wg)(),(0,o.iD)("div",Rt,[(0,o.wy)((0,o._)("input",{type:"datetime-local","onUpdate:modelValue":t[2]||(t[2]=e=>s.date_start=e)},null,512),[[a.nr,s.date_start]]),(0,o.wy)((0,o._)("input",{type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=e=>s.date_end=e)},null,512),[[a.nr,s.date_end]])])):(0,o.kq)("",!0)],64)}var Xt={props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{date_start:"",date_end:""}},computed:{date(){return{value:this.date_start+"~"+this.date_end}}},watch:{type_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,o.Y3)((()=>{if(null!=this.item.value){const e=this.item.value.split("~");this.date_start=e[0],this.date_end=e[1]}}))},emit_value(){this.$emit("change_filter_value",this.date,this.idx)}}};const zt=(0,De.Z)(Xt,[["render",Wt],["__scopeId","data-v-e3464102"]]);var Lt=zt;const Bt={class:"filter"};function Ht(e,t,n,i,a,s){const l=(0,o.up)("selector-vue");return(0,o.wg)(),(0,o.iD)("div",Bt,[(0,o.Wm)(l,{options_props:a.options,onSelect:s.option_select,selected_option:a.options[a.filterValue-1]},null,8,["options_props","onSelect","selected_option"])])}var Zt={components:{SelectorVue:we.Z},props:{item:{type:Object,required:!0},idx:{type:Number,required:!0}},data(){return{options:[{name:"Все",value:1},{name:"Да",value:2},{name:"Нет",value:3}],filterValue:1}},watch:{type_value:{handler(){this.emit_value()},deep:!0},item(){this.change_value()}},mounted(){this.change_value()},methods:{change_value(){(0,o.Y3)((()=>{this.filterValue=this.item.value}))},emit_value(){this.$emit("change_filter_value",this.filterValue,this.idx)},option_select(e){this.filterValue=e.value}}};const Kt=(0,De.Z)(Zt,[["render",Ht],["__scopeId","data-v-743d51c8"]]);var Gt=Kt,Qt={name:"Main_grid",components:{EditItem:Dt,FilterNumber:Tt,FilterText:At,FilterList:$t,FilterDate:Lt,FilterFlag:Gt},props:{params:{type:Array,required:!0},data:{type:Array,required:!0},collval:{type:Array,required:!0}},data(){return{coll:[],count:3,page:1,filtersValue:[],updateKey:0,changeValue:[],duplicate:[],showduplicate:[],startIdx:0,idxes:[[0,6]],edit_data:[]}},watch:{count(){this.startIdx=0,this.feelIdxes(),this.page=1},paginatedData:{handler:function(){this.updateKey+=1,this.changeValue=[]},deep:!0},changeValue:{handler:function(){this.$emit("apdate_changeValue",this.changeValue)},deep:!0},data:{handler:function(){this.filtersValue=[],this.calcDuplicate(),this.feelFilters()},deep:!0},show_buttons:function(){this.$store.commit("open_close_buttons",this.show_buttons)},show_edit_modal:function(){this.$emit("show_edit_mod",this.show_edit_modal)},countHideRows:function(){this.feelIdxes()}},computed:{show_buttons(){let e=!1;return this.changeValue.forEach((t=>{void 0!=t&&(e=t||e)})),e},paginatedData(){const e=this.data.slice(this.idxes[this.page-1][0],this.idxes[this.page-1][1]);return e},collsCount(){let e=0;return this.collval.forEach((t=>t?e+=1:null)),e},countPage(){return this.count*(this.page-1)},countHideRows(){let e=0;return this.duplicate.forEach((t=>t?e+=1:null)),e},endidx(){return this.endId(this.startIdx)},width(){let e=[];return this.params.forEach((t=>{let n=0;this.fields.forEach((e=>{t===e.field&&(9==e.type.value&&(n=70),7!=e.type.value&&8!=e.type.value||(n=130))})),e.push(n)})),e},...(0,xt.Se)(["show_edit_modal"]),...(0,xt.Se)(["show_filter"]),...(0,xt.Se)(["fields"])},mounted(){this.calcDuplicate(),this.feelIdxes(),this.feelFilters()},methods:{calcDuplicate(){let e="",t="";this.duplicate=[],this.showduplicate=[];const n=this.params.indexOf("Название")-1,o=this.params.indexOf("Артикул")-1;this.data.forEach((i=>{i[n]==e&&i[o]==t?this.duplicate.push(!0):this.duplicate.push(!1),e=i[n],t=i[o]})),this.duplicate.forEach((e=>this.showduplicate.push(e)))},showduble(e){while(this.duplicate[e+1])this.showduplicate[e+1]=!1,e+=1},hideduble(e){while(this.duplicate[e+1])this.showduplicate[e+1]=!0,e+=1},endId(e){let t=0;while(t!=this.count)this.duplicate[e]||(t+=1),e+=1;while(this.duplicate[e])e+=1;return e},feelIdxes(){this.idxes=[];while(this.startIdx<this.data.length)this.idxes.push([this.startIdx,this.endId(this.startIdx)]),this.startIdx=this.endId(this.startIdx);this.startIdx=0},open_edit_modal(e,t){this.edit_data=[],this.edit_data=this.edit_data.concat(e),this.$store.commit("open_edit_modal",t)},change_filter_value(e,t){Object.assign(this.filtersValue[t],e)},feelFilters(){this.params.forEach(((e,t)=>{if(0!=t&&t!=this.params.length-1){let t=null,n=[];this.fields.forEach((o=>o.field==e?(t=o.type.value,n=o.selector_options):null));let o=null;5!=t&&6!=t||(o=[!0]),9==t&&(o=1);const i={type:t,option:1,selector_options:n,value:o};this.filtersValue.push(i)}}))}}};const Jt=(0,De.Z)(Qt,[["render",ie],["__scopeId","data-v-3f40e0e9"]]);var en=Jt;const tn=e=>((0,o.dD)("data-v-125a30c4"),e=e(),(0,o.Cn)(),e),nn={class:"modal"},on={class:"wrapper"},an=tn((()=>(0,o._)("div",{class:"modal-header"},[(0,o._)("div",{class:"head-text"},"Настройка таблицы")],-1))),sn={class:"modal-body"},ln=tn((()=>(0,o._)("div",{class:"text"},[(0,o._)("small",{class:"small-text"},"Перетаскивайте колонки для изменения очередности")],-1))),rn=["onUpdate:modelValue","id","disabled"],cn=["for"],dn={class:"modal-footer"};function un(e,t,n,s,l,r){const c=(0,o.up)("draggable");return(0,o.wg)(),(0,o.iD)("div",nn,[(0,o._)("div",on,[an,(0,o._)("div",sn,[ln,(0,o.Wm)(c,{class:"dragArea",list:e.list,onChange:e.changeData},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.list,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"item",key:t},[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.checkbox_value[n]=t,id:n,class:"checkbox",disabled:"Название"==t},null,8,rn),[[a.e8,e.checkbox_value[n]]]),(0,o._)("label",{for:n},null,8,cn),(0,o.Uk)(" "+(0,i.zw)(t),1)])))),128))])),_:1},8,["list","onChange"])]),(0,o._)("div",dn,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.closeComp()),class:"unAcceptButton btn"},"Отмена"),(0,o._)("button",{onClick:t[1]||(t[1]=t=>e.returnData()),class:"acceptButton btn"}," Сохранить ")])])])}
/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  */
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e){return hn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(){return mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mn.apply(this,arguments)}function vn(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function gn(e,t){if(null==e)return{};var n,o,i=vn(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bn="1.14.0";function yn(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var wn=yn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xn=yn(/Edge/i),Sn=yn(/firefox/i),Cn=yn(/safari/i)&&!yn(/chrome/i)&&!yn(/android/i),Dn=yn(/iP(ad|od|hone)/i),kn=yn(/chrome/i)&&yn(/android/i),En={capture:!1,passive:!1};function On(e,t,n){e.addEventListener(t,n,!wn&&En)}function In(e,t,n){e.removeEventListener(t,n,!wn&&En)}function Tn(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function Vn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function jn(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Tn(e,t):Tn(e,t))||o&&e===n)return e;if(e===n)break}while(e=Vn(e))}return null}var qn,Pn=/\s+/g;function An(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Pn," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Pn," ")}}function Mn(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"===typeof n?"":"px")}}function Nn(e,t){var n="";if("string"===typeof e)n=e;else do{var o=Mn(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Fn(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,a=o.length;if(n)for(;i<a;i++)n(o[i],i);return o}return[]}function Yn(){var e=document.scrollingElement;return e||document.documentElement}function $n(e,t,n,o,i){if(e.getBoundingClientRect||e===window){var a,s,l,r,c,d,u;if(e!==window&&e.parentNode&&e!==Yn()?(a=e.getBoundingClientRect(),s=a.top,l=a.left,r=a.bottom,c=a.right,d=a.height,u=a.width):(s=0,l=0,r=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!wn))do{if(i&&i.getBoundingClientRect&&("none"!==Mn(i,"transform")||n&&"static"!==Mn(i,"position"))){var p=i.getBoundingClientRect();s-=p.top+parseInt(Mn(i,"border-top-width")),l-=p.left+parseInt(Mn(i,"border-left-width")),r=s+a.height,c=l+a.width;break}}while(i=i.parentNode);if(o&&e!==window){var _=Nn(i||e),h=_&&_.a,f=_&&_.d;_&&(s/=f,l/=h,u/=h,d/=f,r=s+d,c=l+u)}return{top:s,left:l,bottom:r,right:c,width:u,height:d}}}function Un(e,t,n){var o=Bn(e,!0),i=$n(e)[t];while(o){var a=$n(o)[n],s=void 0;if(s="top"===n||"left"===n?i>=a:i<=a,!s)return o;if(o===Yn())break;o=Bn(o,!1)}return!1}function Rn(e,t,n,o){var i=0,a=0,s=e.children;while(a<s.length){if("none"!==s[a].style.display&&s[a]!==ii.ghost&&(o||s[a]!==ii.dragged)&&jn(s[a],n.draggable,e,!1)){if(i===t)return s[a];i++}a++}return null}function Wn(e,t){var n=e.lastElementChild;while(n&&(n===ii.ghost||"none"===Mn(n,"display")||t&&!Tn(n,t)))n=n.previousElementSibling;return n||null}function Xn(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===ii.clone||t&&!Tn(e,t)||n++;return n}function zn(e){var t=0,n=0,o=Yn();if(e)do{var i=Nn(e),a=i.a,s=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*s}while(e!==o&&(e=e.parentNode));return[t,n]}function Ln(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}function Bn(e,t){if(!e||!e.getBoundingClientRect)return Yn();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Mn(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Yn();if(o||t)return n;o=!0}}}while(n=n.parentNode);return Yn()}function Hn(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Zn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Kn(e,t){return function(){if(!qn){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),qn=setTimeout((function(){qn=void 0}),t)}}}function Gn(){clearTimeout(qn),qn=void 0}function Qn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Jn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var eo="Sortable"+(new Date).getTime();function to(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==Mn(e,"display")&&e!==ii.ghost){t.push({target:e,rect:$n(e)});var n=_n({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=Nn(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(Ln(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,l=$n(n),r=n.prevFromRect,c=n.prevToRect,d=e.rect,u=Nn(n,!0);u&&(l.top-=u.f,l.left-=u.e),n.toRect=l,n.thisAnimationDuration&&Zn(r,l)&&!Zn(s,l)&&(d.top-l.top)/(d.left-l.left)===(s.top-l.top)/(s.left-l.left)&&(t=oo(d,r,c,o.options)),Zn(l,s)||(n.prevFromRect=s,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,d,l,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),a):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){Mn(e,"transition",""),Mn(e,"transform","");var i=Nn(this.el),a=i&&i.a,s=i&&i.d,l=(t.left-n.left)/(a||1),r=(t.top-n.top)/(s||1);e.animatingX=!!l,e.animatingY=!!r,Mn(e,"transform","translate3d("+l+"px,"+r+"px,0)"),this.forRepaintDummy=no(e),Mn(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Mn(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Mn(e,"transition",""),Mn(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function no(e){return e.offsetWidth}function oo(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var io=[],ao={initializeByDefault:!0},so={mount:function(e){for(var t in ao)ao.hasOwnProperty(t)&&!(t in e)&&(e[t]=ao[t]);io.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),io.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";io.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][i]&&t[o.pluginName][i](_n({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](_n({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var i in io.forEach((function(o){var i=o.pluginName;if(e.options[i]||o.initializeByDefault){var a=new o(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,mn(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return io.forEach((function(o){"function"===typeof o.eventProperties&&mn(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return io.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(o=i.optionListeners[t].call(e[i.pluginName],n))})),o}};function lo(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,r=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,_=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[eo],t){var f,m=t.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||wn||xn?(f=document.createEvent("Event"),f.initEvent(o,!0,!0)):f=new CustomEvent(o,{bubbles:!0,cancelable:!0}),f.to=s||n,f.from=l||n,f.item=i||n,f.clone=a,f.oldIndex=r,f.newIndex=c,f.oldDraggableIndex=d,f.newDraggableIndex=u,f.originalEvent=p,f.pullMode=_?_.lastPutMode:void 0;var g=_n(_n({},h),so.getEventProperties(o,t));for(var b in g)f[b]=g[b];n&&n.dispatchEvent(f),m[v]&&m[v].call(t,f)}}var ro=["evt"],co=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,i=gn(n,ro);so.pluginEvent.bind(ii)(e,t,_n({dragEl:po,parentEl:_o,ghostEl:ho,rootEl:fo,nextEl:mo,lastDownEl:vo,cloneEl:go,cloneHidden:bo,dragStarted:jo,putSortable:Do,activeSortable:ii.active,originalEvent:o,oldIndex:yo,oldDraggableIndex:xo,newIndex:wo,newDraggableIndex:So,hideGhostForTarget:ei,unhideGhostForTarget:ti,cloneNowHidden:function(){bo=!0},cloneNowShown:function(){bo=!1},dispatchSortableEvent:function(e){uo({sortable:t,name:e,originalEvent:o})}},i))};function uo(e){lo(_n({putSortable:Do,cloneEl:go,targetEl:po,rootEl:fo,oldIndex:yo,oldDraggableIndex:xo,newIndex:wo,newDraggableIndex:So},e))}var po,_o,ho,fo,mo,vo,go,bo,yo,wo,xo,So,Co,Do,ko,Eo,Oo,Io,To,Vo,jo,qo,Po,Ao,Mo,No=!1,Fo=!1,Yo=[],$o=!1,Uo=!1,Ro=[],Wo=!1,Xo=[],zo="undefined"!==typeof document,Lo=Dn,Bo=xn||wn?"cssFloat":"float",Ho=zo&&!kn&&!Dn&&"draggable"in document.createElement("div"),Zo=function(){if(zo){if(wn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ko=function(e,t){var n=Mn(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Rn(e,0,t),a=Rn(e,1,t),s=i&&Mn(i),l=a&&Mn(a),r=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+$n(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+$n(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s["float"]&&"none"!==s["float"]){var d="left"===s["float"]?"left":"right";return!a||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||r>=o&&"none"===n[Bo]||a&&"none"===n[Bo]&&r+c>o)?"vertical":"horizontal"},Go=function(e,t,n){var o=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,s=n?t.left:t.top,l=n?t.right:t.bottom,r=n?t.width:t.height;return o===s||i===l||o+a/2===s+r/2},Qo=function(e,t){var n;return Yo.some((function(o){var i=o[eo].options.emptyInsertThreshold;if(i&&!Wn(o)){var a=$n(o),s=e>=a.left-i&&e<=a.right+i,l=t>=a.top-i&&t<=a.bottom+i;return s&&l?n=o:void 0}})),n},Jo=function(e){function t(e,n){return function(o,i,a,s){var l=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(o,i,a,s),n)(o,i,a,s);var r=(n?o:i).options.group.name;return!0===e||"string"===typeof e&&e===r||e.join&&e.indexOf(r)>-1}}var n={},o=e.group;o&&"object"==hn(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},ei=function(){!Zo&&ho&&Mn(ho,"display","none")},ti=function(){!Zo&&ho&&Mn(ho,"display","")};zo&&document.addEventListener("click",(function(e){if(Fo)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Fo=!1,!1}),!0);var ni=function(e){if(po){e=e.touches?e.touches[0]:e;var t=Qo(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[eo]._onDragOver(n)}}},oi=function(e){po&&po.parentNode[eo]._isOutsideThisEl(e.target)};function ii(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=mn({},t),e[eo]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ko(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ii.supportPointer&&"PointerEvent"in window&&!Cn,emptyInsertThreshold:5};for(var o in so.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var i in Jo(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ho,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?On(e,"pointerdown",this._onTapStart):(On(e,"mousedown",this._onTapStart),On(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(On(e,"dragover",this),On(e,"dragenter",this)),Yo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),mn(this,to())}function ai(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function si(e,t,n,o,i,a,s,l){var r,c,d=e[eo],u=d.options.onMove;return!window.CustomEvent||wn||xn?(r=document.createEvent("Event"),r.initEvent("move",!0,!0)):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=t,r.from=e,r.dragged=n,r.draggedRect=o,r.related=i||t,r.relatedRect=a||$n(t),r.willInsertAfter=l,r.originalEvent=s,e.dispatchEvent(r),u&&(c=u.call(d,r,s)),c}function li(e){e.draggable=!1}function ri(){Wo=!1}function ci(e,t,n){var o=$n(Rn(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function di(e,t,n){var o=$n(Wn(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function ui(e,t,n,o,i,a,s,l){var r=o?e.clientY:e.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,p=!1;if(!s)if(l&&Ao<c*i){if(!$o&&(1===Po?r>d+c*a/2:r<u-c*a/2)&&($o=!0),$o)p=!0;else if(1===Po?r<d+Ao:r>u-Ao)return-Po}else if(r>d+c*(1-i)/2&&r<u-c*(1-i)/2)return pi(t);return p=p||s,p&&(r<d+c*a/2||r>u-c*a/2)?r>d+c/2?1:-1:0}function pi(e){return Xn(po)<Xn(e)?1:-1}function _i(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;while(n--)o+=t.charCodeAt(n);return o.toString(36)}function hi(e){Xo.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var o=t[n];o.checked&&Xo.push(o)}}function fi(e){return setTimeout(e,0)}function mi(e){return clearTimeout(e)}ii.prototype={constructor:ii,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(qo=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,po):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,i=o.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(s||e).target,r=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(hi(n),!po&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||o.disabled)&&!r.isContentEditable&&(this.nativeDraggable||!Cn||!l||"SELECT"!==l.tagName.toUpperCase())&&(l=jn(l,o.draggable,n,!1),(!l||!l.animated)&&vo!==l)){if(yo=Xn(l),xo=Xn(l,o.draggable),"function"===typeof c){if(c.call(this,e,l,this))return uo({sortable:t,rootEl:r,name:"filter",targetEl:l,toEl:n,fromEl:n}),co("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=jn(r,o.trim(),n,!1),o)return uo({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),co("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());o.handle&&!jn(r,o.handle,n,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,n){var o,i=this,a=i.el,s=i.options,l=a.ownerDocument;if(n&&!po&&n.parentNode===a){var r=$n(n);if(fo=a,po=n,_o=po.parentNode,mo=po.nextSibling,vo=n,Co=s.group,ii.dragged=po,ko={target:po,clientX:(t||e).clientX,clientY:(t||e).clientY},To=ko.clientX-r.left,Vo=ko.clientY-r.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,po.style["will-change"]="all",o=function(){co("delayEnded",i,{evt:e}),ii.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Sn&&i.nativeDraggable&&(po.draggable=!0),i._triggerDragStart(e,t),uo({sortable:i,name:"choose",originalEvent:e}),An(po,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){Fn(po,e.trim(),li)})),On(l,"dragover",ni),On(l,"mousemove",ni),On(l,"touchmove",ni),On(l,"mouseup",i._onDrop),On(l,"touchend",i._onDrop),On(l,"touchcancel",i._onDrop),Sn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,po.draggable=!0),co("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(xn||wn))o();else{if(ii.eventCanceled)return void this._onDrop();On(l,"mouseup",i._disableDelayedDrag),On(l,"touchend",i._disableDelayedDrag),On(l,"touchcancel",i._disableDelayedDrag),On(l,"mousemove",i._delayedDragTouchMoveHandler),On(l,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&On(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){po&&li(po),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;In(e,"mouseup",this._disableDelayedDrag),In(e,"touchend",this._disableDelayedDrag),In(e,"touchcancel",this._disableDelayedDrag),In(e,"mousemove",this._delayedDragTouchMoveHandler),In(e,"touchmove",this._delayedDragTouchMoveHandler),In(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?On(document,"pointermove",this._onTouchMove):On(document,t?"touchmove":"mousemove",this._onTouchMove):(On(po,"dragend",this),On(fo,"dragstart",this._onDragStart));try{document.selection?fi((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(No=!1,fo&&po){co("dragStarted",this,{evt:t}),this.nativeDraggable&&On(document,"dragover",oi);var n=this.options;!e&&An(po,n.dragClass,!1),An(po,n.ghostClass,!0),ii.active=this,e&&this._appendGhost(),uo({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Eo){this._lastX=Eo.clientX,this._lastY=Eo.clientY,ei();var e=document.elementFromPoint(Eo.clientX,Eo.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(Eo.clientX,Eo.clientY),e===t)break;t=e}if(po.parentNode[eo]._isOutsideThisEl(e),t)do{if(t[eo]){var n=void 0;if(n=t[eo]._onDragOver({clientX:Eo.clientX,clientY:Eo.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);ti()}},_onTouchMove:function(e){if(ko){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=ho&&Nn(ho,!0),s=ho&&a&&a.a,l=ho&&a&&a.d,r=Lo&&Mo&&zn(Mo),c=(i.clientX-ko.clientX+o.x)/(s||1)+(r?r[0]-Ro[0]:0)/(s||1),d=(i.clientY-ko.clientY+o.y)/(l||1)+(r?r[1]-Ro[1]:0)/(l||1);if(!ii.active&&!No){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ho){a?(a.e+=c-(Oo||0),a.f+=d-(Io||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Mn(ho,"webkitTransform",u),Mn(ho,"mozTransform",u),Mn(ho,"msTransform",u),Mn(ho,"transform",u),Oo=c,Io=d,Eo=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ho){var e=this.options.fallbackOnBody?document.body:fo,t=$n(po,!0,Lo,!0,e),n=this.options;if(Lo){Mo=e;while("static"===Mn(Mo,"position")&&"none"===Mn(Mo,"transform")&&Mo!==document)Mo=Mo.parentNode;Mo!==document.body&&Mo!==document.documentElement?(Mo===document&&(Mo=Yn()),t.top+=Mo.scrollTop,t.left+=Mo.scrollLeft):Mo=Yn(),Ro=zn(Mo)}ho=po.cloneNode(!0),An(ho,n.ghostClass,!1),An(ho,n.fallbackClass,!0),An(ho,n.dragClass,!0),Mn(ho,"transition",""),Mn(ho,"transform",""),Mn(ho,"box-sizing","border-box"),Mn(ho,"margin",0),Mn(ho,"top",t.top),Mn(ho,"left",t.left),Mn(ho,"width",t.width),Mn(ho,"height",t.height),Mn(ho,"opacity","0.8"),Mn(ho,"position",Lo?"absolute":"fixed"),Mn(ho,"zIndex","100000"),Mn(ho,"pointerEvents","none"),ii.ghost=ho,e.appendChild(ho),Mn(ho,"transform-origin",To/parseInt(ho.style.width)*100+"% "+Vo/parseInt(ho.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,i=n.options;co("dragStart",this,{evt:e}),ii.eventCanceled?this._onDrop():(co("setupClone",this),ii.eventCanceled||(go=Jn(po),go.draggable=!1,go.style["will-change"]="",this._hideClone(),An(go,this.options.chosenClass,!1),ii.clone=go),n.cloneId=fi((function(){co("clone",n),ii.eventCanceled||(n.options.removeCloneOnHide||fo.insertBefore(go,po),n._hideClone(),uo({sortable:n,name:"clone"}))})),!t&&An(po,i.dragClass,!0),t?(Fo=!0,n._loopId=setInterval(n._emulateDragOver,50)):(In(document,"mouseup",n._onDrop),In(document,"touchend",n._onDrop),In(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,po)),On(document,"drop",n),Mn(po,"transform","translateZ(0)")),No=!0,n._dragStartId=fi(n._dragStarted.bind(n,t,e)),On(document,"selectstart",n),jo=!0,Cn&&Mn(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,i,a=this.el,s=e.target,l=this.options,r=l.group,c=ii.active,d=Co===r,u=l.sort,p=Do||c,_=this,h=!1;if(!Wo){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=jn(s,l.draggable,a,!0),I("dragOver"),ii.eventCanceled)return h;if(po.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||_._ignoreWhileAnimating===s)return V(!1);if(Fo=!1,c&&!l.disabled&&(d?u||(o=_o!==fo):Do===this||(this.lastPutMode=Co.checkPull(this,c,po,e))&&r.checkPut(this,c,po,e))){if(i="vertical"===this._getDirection(e,s),t=$n(po),I("dragOverValid"),ii.eventCanceled)return h;if(o)return _o=fo,T(),this._hideClone(),I("revert"),ii.eventCanceled||(mo?fo.insertBefore(po,mo):fo.appendChild(po)),V(!0);var f=Wn(a,l.draggable);if(!f||di(e,i,this)&&!f.animated){if(f===po)return V(!1);if(f&&a===e.target&&(s=f),s&&(n=$n(s)),!1!==si(fo,a,po,t,s,n,e,!!s))return T(),a.appendChild(po),_o=a,j(),V(!0)}else if(f&&ci(e,i,this)){var m=Rn(a,0,l,!0);if(m===po)return V(!1);if(s=m,n=$n(s),!1!==si(fo,a,po,t,s,n,e,!1))return T(),a.insertBefore(po,m),_o=a,j(),V(!0)}else if(s.parentNode===a){n=$n(s);var v,g,b=0,y=po.parentNode!==a,w=!Go(po.animated&&po.toRect||t,s.animated&&s.toRect||n,i),x=i?"top":"left",S=Un(s,"top","top")||Un(po,"top","top"),C=S?S.scrollTop:void 0;if(qo!==s&&(v=n[x],$o=!1,Uo=!w&&l.invertSwap||y),b=ui(e,s,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Uo,qo===s),0!==b){var D=Xn(po);do{D-=b,g=_o.children[D]}while(g&&("none"===Mn(g,"display")||g===ho))}if(0===b||g===s)return V(!1);qo=s,Po=b;var k=s.nextElementSibling,E=!1;E=1===b;var O=si(fo,a,po,t,s,n,e,E);if(!1!==O)return 1!==O&&-1!==O||(E=1===O),Wo=!0,setTimeout(ri,30),T(),E&&!k?a.appendChild(po):s.parentNode.insertBefore(po,E?k:s),S&&Qn(S,0,C-S.scrollTop),_o=po.parentNode,void 0===v||Uo||(Ao=Math.abs(v-$n(s)[x])),j(),V(!0)}if(a.contains(po))return V(!1)}return!1}function I(l,r){co(l,_,_n({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:u,fromSortable:p,target:s,completed:V,onMove:function(n,o){return si(fo,a,po,t,n,$n(n),e,o)},changed:j},r))}function T(){I("dragOverAnimationCapture"),_.captureAnimationState(),_!==p&&p.captureAnimationState()}function V(t){return I("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(_),_!==p&&(An(po,Do?Do.options.ghostClass:c.options.ghostClass,!1),An(po,l.ghostClass,!0)),Do!==_&&_!==ii.active?Do=_:_===ii.active&&Do&&(Do=null),p===_&&(_._ignoreWhileAnimating=s),_.animateAll((function(){I("dragOverAnimationComplete"),_._ignoreWhileAnimating=null})),_!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===po&&!po.animated||s===a&&!s.animated)&&(qo=null),l.dragoverBubble||e.rootEl||s===document||(po.parentNode[eo]._isOutsideThisEl(e.target),!t&&ni(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function j(){wo=Xn(po),So=Xn(po,l.draggable),uo({sortable:_,name:"change",toEl:a,newIndex:wo,newDraggableIndex:So,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){In(document,"mousemove",this._onTouchMove),In(document,"touchmove",this._onTouchMove),In(document,"pointermove",this._onTouchMove),In(document,"dragover",ni),In(document,"mousemove",ni),In(document,"touchmove",ni)},_offUpEvents:function(){var e=this.el.ownerDocument;In(e,"mouseup",this._onDrop),In(e,"touchend",this._onDrop),In(e,"pointerup",this._onDrop),In(e,"touchcancel",this._onDrop),In(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;wo=Xn(po),So=Xn(po,n.draggable),co("drop",this,{evt:e}),_o=po&&po.parentNode,wo=Xn(po),So=Xn(po,n.draggable),ii.eventCanceled||(No=!1,Uo=!1,$o=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),mi(this.cloneId),mi(this._dragStartId),this.nativeDraggable&&(In(document,"drop",this),In(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Cn&&Mn(document.body,"user-select",""),Mn(po,"transform",""),e&&(jo&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ho&&ho.parentNode&&ho.parentNode.removeChild(ho),(fo===_o||Do&&"clone"!==Do.lastPutMode)&&go&&go.parentNode&&go.parentNode.removeChild(go),po&&(this.nativeDraggable&&In(po,"dragend",this),li(po),po.style["will-change"]="",jo&&!No&&An(po,Do?Do.options.ghostClass:this.options.ghostClass,!1),An(po,this.options.chosenClass,!1),uo({sortable:this,name:"unchoose",toEl:_o,newIndex:null,newDraggableIndex:null,originalEvent:e}),fo!==_o?(wo>=0&&(uo({rootEl:_o,name:"add",toEl:_o,fromEl:fo,originalEvent:e}),uo({sortable:this,name:"remove",toEl:_o,originalEvent:e}),uo({rootEl:_o,name:"sort",toEl:_o,fromEl:fo,originalEvent:e}),uo({sortable:this,name:"sort",toEl:_o,originalEvent:e})),Do&&Do.save()):wo!==yo&&wo>=0&&(uo({sortable:this,name:"update",toEl:_o,originalEvent:e}),uo({sortable:this,name:"sort",toEl:_o,originalEvent:e})),ii.active&&(null!=wo&&-1!==wo||(wo=yo,So=xo),uo({sortable:this,name:"end",toEl:_o,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){co("nulling",this),fo=po=_o=ho=mo=go=vo=bo=ko=Eo=jo=wo=So=yo=xo=qo=Po=Do=Co=ii.dragged=ii.ghost=ii.clone=ii.active=null,Xo.forEach((function(e){e.checked=!0})),Xo.length=Oo=Io=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":po&&(this._onDragOver(e),ai(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,a=this.options;o<i;o++)e=n[o],jn(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||_i(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var i=o.children[t];jn(i,this.options.draggable,o,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return jn(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=so.modifyOption(this,e,t);n[e]="undefined"!==typeof o?o:t,"group"===e&&Jo(n)},destroy:function(){co("destroy",this);var e=this.el;e[eo]=null,In(e,"mousedown",this._onTapStart),In(e,"touchstart",this._onTapStart),In(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(In(e,"dragover",this),In(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Yo.splice(Yo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!bo){if(co("hideClone",this),ii.eventCanceled)return;Mn(go,"display","none"),this.options.removeCloneOnHide&&go.parentNode&&go.parentNode.removeChild(go),bo=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(bo){if(co("showClone",this),ii.eventCanceled)return;po.parentNode!=fo||this.options.group.revertClone?mo?fo.insertBefore(go,mo):fo.appendChild(go):fo.insertBefore(go,po),this.options.group.revertClone&&this.animate(po,go),Mn(go,"display",""),bo=!1}}else this._hideClone()}},zo&&On(document,"touchmove",(function(e){(ii.active||No)&&e.cancelable&&e.preventDefault()})),ii.utils={on:On,off:In,css:Mn,find:Fn,is:function(e,t){return!!jn(e,t,e,!1)},extend:Hn,throttle:Kn,closest:jn,toggleClass:An,clone:Jn,index:Xn,nextTick:fi,cancelNextTick:mi,detectDirection:Ko,getChild:Rn},ii.get=function(e){return e[eo]},ii.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(ii.utils=_n(_n({},ii.utils),e.utils)),so.mount(e)}))},ii.create=function(e,t){return new ii(e,t)},ii.version=bn;var vi,gi,bi,yi,wi,xi,Si=[],Ci=!1;function Di(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?On(document,"dragover",this._handleAutoScroll):this.options.supportPointer?On(document,"pointermove",this._handleFallbackAutoScroll):t.touches?On(document,"touchmove",this._handleFallbackAutoScroll):On(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?In(document,"dragover",this._handleAutoScroll):(In(document,"pointermove",this._handleFallbackAutoScroll),In(document,"touchmove",this._handleFallbackAutoScroll),In(document,"mousemove",this._handleFallbackAutoScroll)),Ei(),ki(),Gn()},nulling:function(){wi=gi=vi=Ci=xi=bi=yi=null,Si.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(o,i);if(wi=e,t||this.options.forceAutoScrollFallback||xn||wn||Cn){Oi(e,this.options,a,t);var s=Bn(a,!0);!Ci||xi&&o===bi&&i===yi||(xi&&Ei(),xi=setInterval((function(){var a=Bn(document.elementFromPoint(o,i),!0);a!==s&&(s=a,ki()),Oi(e,n.options,a,t)}),10),bi=o,yi=i)}else{if(!this.options.bubbleScroll||Bn(a,!0)===Yn())return void ki();Oi(e,this.options,Bn(a,!1),!1)}}},mn(e,{pluginName:"scroll",initializeByDefault:!0})}function ki(){Si.forEach((function(e){clearInterval(e.pid)})),Si=[]}function Ei(){clearInterval(xi)}var Oi=Kn((function(e,t,n,o){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,r=t.scrollSpeed,c=Yn(),d=!1;gi!==n&&(gi=n,ki(),vi=t.scroll,i=t.scrollFn,!0===vi&&(vi=Bn(n,!0)));var u=0,p=vi;do{var _=p,h=$n(_),f=h.top,m=h.bottom,v=h.left,g=h.right,b=h.width,y=h.height,w=void 0,x=void 0,S=_.scrollWidth,C=_.scrollHeight,D=Mn(_),k=_.scrollLeft,E=_.scrollTop;_===c?(w=b<S&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),x=y<C&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(w=b<S&&("auto"===D.overflowX||"scroll"===D.overflowX),x=y<C&&("auto"===D.overflowY||"scroll"===D.overflowY));var O=w&&(Math.abs(g-a)<=l&&k+b<S)-(Math.abs(v-a)<=l&&!!k),I=x&&(Math.abs(m-s)<=l&&E+y<C)-(Math.abs(f-s)<=l&&!!E);if(!Si[u])for(var T=0;T<=u;T++)Si[T]||(Si[T]={});Si[u].vx==O&&Si[u].vy==I&&Si[u].el===_||(Si[u].el=_,Si[u].vx=O,Si[u].vy=I,clearInterval(Si[u].pid),0==O&&0==I||(d=!0,Si[u].pid=setInterval(function(){o&&0===this.layer&&ii.active._onTouchMove(wi);var t=Si[this.layer].vy?Si[this.layer].vy*r:0,n=Si[this.layer].vx?Si[this.layer].vx*r:0;"function"===typeof i&&"continue"!==i.call(ii.dragged.parentNode[eo],n,t,e,wi,Si[this.layer].el)||Qn(Si[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=Bn(p,!1)));Ci=d}}),30),Ii=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var r=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),r&&!r.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Ti(){}function Vi(){}function ji(){return"undefined"!==typeof window?window.console:n.g.console}Ti.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Rn(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Ii},mn(Ti,{pluginName:"revertOnSpill"}),Vi.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Ii},mn(Vi,{pluginName:"removeOnSpill"}),ii.mount(new Di),ii.mount(Vi,Ti);const qi=ji();function Pi(e){const t=Object.create(null);return function(n){const o=t[n];return o||(t[n]=e(n))}}const Ai=/-(\w)/g,Mi=Pi((e=>e.replace(Ai,((e,t)=>t?t.toUpperCase():""))));function Ni(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Fi(e,t,n){const o=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function Yi(e,t){return Object.values(e).indexOf(t)}function $i(e,t,n,o){if(!e)return[];const i=Object.values(e),a=t.length-o,s=[...t].map(((e,t)=>t>=a?i.length:i.indexOf(e)));return s}function Ui(e,t){this.$nextTick((()=>this.$emit(e.toLowerCase(),t)))}function Ri(e){return t=>{null!==this.realList&&this["onDrag"+e](t),Ui.call(this,e,t)}}function Wi(e){return["transition-group","TransitionGroup"].includes(e)}function Xi(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&Wi(t.name)}function zi(e,t){return t?{...t.props,...t.attrs}:e}const Li=["Start","Add","Remove","Update","End"],Bi=["Choose","Unchoose","Sort","Filter","Clone"],Hi=["Move",...Li,...Bi].map((e=>"on"+e));let Zi=null;const Ki={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Gi=(0,o.aZ)({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Li.map((e=>e.toLowerCase())),...Bi.map((e=>e.toLowerCase()))],props:Ki,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=zi(this.$attrs,this.componentData);return e?(this.transitionMode=Xi(e),(0,o.h)(this.getTag(),t,e)):(0,o.h)(this.getTag(),t,[])},created(){null!==this.list&&null!==this.modelValue&&qi.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Li.forEach((t=>{e["on"+t]=Ri.call(this,t)})),Bi.forEach((t=>{e["on"+t]=Ui.bind(this,t)}));const t=Object.keys(this.$attrs).reduce(((e,t)=>(e[Mi(t)]=this.$attrs[t],e)),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const o=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new ii(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?(0,o.up)(this.component):this.tag},updateOptions(e){for(var t in e){const n=Mi(t);-1===Hi.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=$i(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(e){const t=Yi(this.getChildrenNodes()||[],e);if(-1===t)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick((()=>{this.$emit("change",e)}))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=n=>n.splice(t,0,n.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Zi=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;Ni(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(Fi(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void Ni(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Ni(e.item),Fi(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),i=this.context,a=this.computeFutureIndex(o,e);Object.assign(i,{futureIndex:a});const s=Object.assign({},e,{relatedContext:o,draggedContext:i});return n(s,t)},onDragEnd(){this.computeIndexes(),Zi=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter((e=>"none"!==e.style["display"]));if(0===n.length)return 0;const o=n.indexOf(t.related),i=e.component.getVmIndex(o),a=-1!==n.indexOf(Zi);return a||!t.willInsertAfter?i:i+1}}});var Qi=(0,o.aZ)({components:{draggable:Gi},props:{names:{type:Array,required:!0},data:{type:Array,required:!0},collval:{type:Array,required:!0}},data(){return{list:[],data_list:[],checkbox_value:[],enabled:!0,dragging:!0}},watch:{data:{handler:function(){console.log("123"),this.getData()},deep:!0}},mounted(){this.getData()},emits:{returnData1:(e,t,n)=>{const o=e!=[]&&t!=[]&&n!=[],i=Array.isArray(e)&&Array.isArray(t)&&Array.isArray(n);return!(!i||!o)||(console.warn("Некорректные данные для генерации события returnData1!"),!1)}},methods:{changeData(e){const t=e.moved.oldIndex,n=e.moved.newIndex;this.data_list.map((e=>{const o=e[t];e.splice(t,1),e.splice(n,0,o)})),this.change_value_checkbox(t,n)},change_value_checkbox(e,t){const n=this.checkbox_value[e];this.checkbox_value.splice(e,1),this.checkbox_value.splice(t,0,n)},returnData(){this.$emit("returnData1",this.data_list,this.list,this.checkbox_value),this.$store.commit("close_table_settings")},closeComp(){this.$store.commit("close_table_settings"),this.getData()},getData(){this.list=[],this.data_list=[],this.checkbox_value=[],this.names.forEach((e=>this.list.push(e))),this.data.forEach((()=>this.data_list.push([]))),this.data.forEach(((e,t)=>{e.forEach((e=>{this.data_list[t].push(e)}))})),this.list.pop(),this.list.shift(),this.collval.forEach(((e,t)=>this.checkbox_value[t]=e))}}});const Ji=(0,De.Z)(Qi,[["render",un],["__scopeId","data-v-125a30c4"]]);var ea=Ji;const ta=e=>((0,o.dD)("data-v-395eb875"),e=e(),(0,o.Cn)(),e),na={class:"wrapper"},oa={class:"bgc"},ia={class:"container"},aa={class:"header"},sa={class:"top"},la=ta((()=>(0,o._)("label",null,"Настройки товаров",-1))),ra={class:"btns"},ca=ta((()=>(0,o._)("br",null,null,-1))),da={class:"bottom"},ua=(0,o.uE)('<div class="permits" data-v-395eb875><div class="permit" data-v-395eb875><input type="checkbox" class="checkbox" id="q1" data-v-395eb875><label for="q1" data-v-395eb875>Разрешать добавлять товары из резерва в другие сделки</label></div><div class="permit" data-v-395eb875><input type="checkbox" class="checkbox" id="q2" data-v-395eb875><label for="q2" data-v-395eb875>Изменить цену у товаров в открытых сделках (по умолчанию)</label></div><div class="permit" data-v-395eb875><input type="checkbox" class="checkbox" id="q3" data-v-395eb875><label for="q3" data-v-395eb875>Разрешать добавлять в сделки товар с нулевым остатком</label></div></div>',1),pa={class:"sync"},_a=ta((()=>(0,o._)("label",null,"Синхронизация товаров на складе с товарами amoCRM",-1))),ha={class:"list"},fa={class:"label_input"},ma=ta((()=>(0,o._)("label",null,"Выберите список товаров из amoCRM для синхронизации",-1))),va={class:"label_input"},ga=ta((()=>(0,o._)("label",null,"Скрытие штатной вкладки amoCRM с товарами. В штатной вкладке с товарами так же можно прикреплять товары к сделкам, но количество товара на складе учитываться учитываться не будет.",-1))),ba={class:"content"},ya=ta((()=>(0,o._)("h6",null,"Поля товаров в сделке",-1))),wa={class:"rows"},xa=ta((()=>(0,o._)("tr",{class:"row"},[(0,o._)("th",{class:"item"},"Поле"),(0,o._)("th",{class:"item"},"Тип"),(0,o._)("th",{class:"item"},"Видимость"),(0,o._)("th",{class:"item"},"Редактирование"),(0,o._)("th",{class:"item"})],-1))),Sa={class:"item"},Ca={class:"item selectors"},Da={key:0,class:"type_selector_options"},ka=["onUpdate:modelValue"],Ea=["onClick"],Oa=["onClick"],Ia={class:"box item"},Ta=["id","onUpdate:modelValue"],Va=["for"],ja={class:"box item"},qa=["id","onUpdate:modelValue"],Pa=["for"],Aa={class:"item"},Ma=["onClick"],Na={class:"item"},Fa=["onUpdate:modelValue"],Ya={class:"item selectors"},$a={key:0,class:"type_selector_options"},Ua=["onUpdate:modelValue"],Ra=["onClick"],Wa=["onClick"],Xa={class:"box item"},za=["id","onUpdate:modelValue"],La=["for"],Ba={class:"box item"},Ha=["id","onUpdate:modelValue"],Za=["for"],Ka={class:"item"},Ga=["onClick"],Qa=ta((()=>(0,o._)("h6",null,"Этапы резервирования товаров со склада",-1))),Ja=ta((()=>(0,o._)("div",{class:"small"}," Внимание! В рамках одной воронки этап резерирования должен быть раньше этапа списания. Если этап презервирования не выбран, то резерирование будет происходить в момент добавления товара в сделку. ",-1))),es={class:"steps"},ts={class:"label_input"},ns=ta((()=>(0,o._)("h6",null,"Этапы списания товаров со склада",-1))),os=ta((()=>(0,o._)("div",{class:"small"}," Внимание! В рамках одной воронки этап списания должен быть позже этапа резерирования. ",-1))),is={class:"steps"},as={class:"label_input"},ss=ta((()=>(0,o._)("h6",null,"Привязка полей сделок",-1))),ls={class:"steps"},rs={class:"label_input"},cs={class:"footer"},ds={class:"btns"};function us(e,t,n,s,l,r){const c=(0,o.up)("SelectorVue"),d=(0,o.up)("edit-stuff-list");return(0,o.wg)(),(0,o.iD)("div",na,[(0,o._)("div",oa,[(0,o._)("div",ia,[(0,o._)("div",aa,[(0,o._)("div",sa,[la,(0,o._)("div",ra,[(0,o._)("button",{class:"btn btn1",onClick:t[0]||(t[0]=e=>r.close_edit_stuff())}," Назад "),(0,o._)("button",{class:"btn btn2",onClick:t[1]||(t[1]=e=>r.save())},"Сохранить")])]),ca,(0,o._)("div",da,[ua,(0,o._)("div",pa,[_a,(0,o._)("div",ha,[(0,o._)("div",fa,[ma,(0,o.Wm)(c,{options_props:e.sync_list_stuff_options,onSelect:r.option_select_sync_list_stuff,selected_option:e.sync_list_stuff_selected_option},null,8,["options_props","onSelect","selected_option"])]),(0,o._)("div",va,[ga,(0,o.Wm)(c,{options_props:e.sync_list_hide_tab_options,onSelect:r.option_select_sync_list_hide_tab,selected_option:e.sync_list_hide_tab_selected_option},null,8,["options_props","onSelect","selected_option"])])])])])]),(0,o._)("div",ba,[ya,(0,o._)("table",wa,[xa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.copy_fields,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{class:"row",key:t.id},[(0,o._)("td",Sa,(0,i.zw)(t.field),1),(0,o._)("td",Ca,[(0,o.Wm)(c,{options_props:e.types,onSelect:r.option_select_type,selected_option:l.copy_fields[n].type,disabled:l.copy_fields[n].disable_change_type,idx:n},null,8,["options_props","onSelect","selected_option","disabled","idx"]),5==l.copy_fields[n].type.value||6==l.copy_fields[n].type.value?((0,o.wg)(),(0,o.iD)("div",Da,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.copy_fields[n].selector_options,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"type_selector_option",key:t},[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e=>l.copy_fields[n].selector_options[t].name=e},null,8,ka),[[a.nr,l.copy_fields[n].selector_options[t].name]]),(6==l.copy_fields[n].type.value?0!=t:l.copy_fields[n].selector_options.length>1)?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"del_button",onClick:e=>r.remove_selector_option(n,t)}," x ",8,Ea)):(0,o.kq)("",!0)])))),128)),(0,o._)("button",{onClick:e=>r.add_selector_option(n),class:"add_button"}," + ",8,Oa)])):(0,o.kq)("",!0)]),(0,o._)("td",Ia,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"checkbox",id:n+"b","onUpdate:modelValue":e=>l.copy_fields[n].visibility=e},null,8,Ta),[[a.e8,l.copy_fields[n].visibility]]),(0,o._)("label",{for:n+"b"},null,8,Va)]),(0,o._)("td",ja,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"checkbox",id:n+"c","onUpdate:modelValue":e=>l.copy_fields[n].editing=e},null,8,qa),[[a.e8,l.copy_fields[n].editing]]),(0,o._)("label",{for:n+"c"},null,8,Pa)]),(0,o._)("td",Aa,[(0,o.wy)((0,o._)("button",{class:"del_btn",onClick:e=>r.delete_field(n)}," X ",8,Ma),[[a.F8,l.copy_fields[n].delete]])])])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.new_fields,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{class:"row",key:t.id},[(0,o._)("td",Na,[(0,o.wy)((0,o._)("input",{type:"text",class:"input new_item_input","onUpdate:modelValue":e=>l.new_fields[n].field=e},null,8,Fa),[[a.nr,l.new_fields[n].field]])]),(0,o._)("td",Ya,[(0,o.Wm)(c,{options_props:e.types,onSelect:r.option_select_new_field_type,selected_option:l.new_fields[n].type,idx:n},null,8,["options_props","onSelect","selected_option","idx"]),5==l.new_fields[n].type.value||6==l.new_fields[n].type.value?((0,o.wg)(),(0,o.iD)("div",$a,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.new_fields[n].selector_options,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"type_selector_option",key:t},[(0,o.wy)((0,o._)("input",{type:"text",class:"input","onUpdate:modelValue":e=>l.new_fields[n].selector_options[t].name=e},null,8,Ua),[[a.nr,l.new_fields[n].selector_options[t].name]]),(6==l.new_fields[n].type.value?0!=t:l.new_fields[n].selector_options.length>1)?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"del_button",onClick:e=>r.remove_new_fields_selector_option(n,t)}," x ",8,Ra)):(0,o.kq)("",!0)])))),128)),(0,o._)("button",{onClick:e=>r.add_new_fields_selector_option(n),class:"add_button"}," + ",8,Wa)])):(0,o.kq)("",!0)]),(0,o._)("td",Xa,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"checkbox",id:n+"nb","onUpdate:modelValue":e=>l.new_fields[n].visibility=e},null,8,za),[[a.e8,l.new_fields[n].visibility]]),(0,o._)("label",{for:n+"nb"},null,8,La)]),(0,o._)("td",Ba,[(0,o.wy)((0,o._)("input",{type:"checkbox",class:"checkbox",id:n+"n","onUpdate:modelValue":e=>l.new_fields[n].editing=e},null,8,Ha),[[a.e8,l.new_fields[n].editing]]),(0,o._)("label",{for:n+"n"},null,8,Za)]),(0,o._)("td",Ka,[(0,o.wy)((0,o._)("button",{class:"del_btn",onClick:e=>r.delete_new_field(n)}," X ",8,Ga),[[a.F8,l.new_fields[n].delete]])])])))),128))]),(0,o._)("button",{onClick:t[2]||(t[2]=e=>r.add_new_field()),class:"add_new_button"},"+"),Qa,Ja,(0,o._)("div",es,[(0,o.Wm)(d,{items:l.copy_items_from_storage},{item:(0,o.w5)((({item:e,idx:t})=>[(0,o._)("div",ts,[(0,o._)("label",null,' Воронка "'+(0,i.zw)(e.name)+'" ',1),(0,o.Wm)(c,{options_props:e.reserve_selector_options,onSelect:r.option_select_reverse,selected_option:e.reserve_selected_option,idx:t,disabled:e.reserve_disable_change},null,8,["options_props","onSelect","selected_option","idx","disabled"])])])),_:1},8,["items"])]),ns,os,(0,o._)("div",is,[(0,o.Wm)(d,{items:l.copy_items_from_storage},{item:(0,o.w5)((({item:e,idx:t})=>[(0,o._)("div",as,[(0,o._)("label",null,' Воронка "'+(0,i.zw)(e.name)+'" ',1),(0,o.Wm)(c,{options_props:e.cancellation_selector_options,onSelect:r.option_select_cancellation,selected_option:e.cancellation_selected_option,idx:t,disabled:e.cancellation_disable_change},null,8,["options_props","onSelect","selected_option","idx","disabled"])])])),_:1},8,["items"])]),ss,(0,o._)("div",ls,[(0,o.Wm)(d,{items:l.copy_binding_fields_deals},{item:(0,o.w5)((({item:e,idx:t})=>[(0,o._)("div",rs,[(0,o._)("label",null,' Поле "'+(0,i.zw)(e.name)+'" ',1),(0,o.Wm)(c,{options_props:e.binding_selector_options,onSelect:r.option_select_deals,selected_option:e.binding_selected_option,idx:t,disabled:e.binding_disable_change},null,8,["options_props","onSelect","selected_option","idx","disabled"])])])),_:1},8,["items"])])]),(0,o._)("div",cs,[(0,o._)("div",ds,[(0,o._)("button",{class:"btn btn1",onClick:t[3]||(t[3]=e=>r.close_edit_stuff())},"Назад"),(0,o._)("button",{class:"btn btn2",onClick:t[4]||(t[4]=e=>r.save())},"Сохранить")])])])])])}function ps(e,t,n,i,a,s){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o.WI)(e.$slots,"item",{item:t,idx:n})])))),128)}var _s={props:{items:{type:Array,required:!0}}};const hs=(0,De.Z)(_s,[["render",ps]]);var fs=hs,ms={components:{SelectorVue:we.Z,EditStuffList:fs},data(){return{copy_fields:[],new_fields:[],copy_items_from_storage:[],copy_binding_fields_deals:[],idx_to_delete:[],copy_sync_list_stuff_selected_option:{},copy_sync_list_hide_tab_selected_option:{},copy_binding_selected_option:{}}},mounted(){this.copy_fields=[],this.idx_to_delete=[],this.copy_fields=this.fields.map(((e,t)=>Object.assign({index:t},e))),this.copy_items_from_storage=[],this.copy_items_from_storage=this.items_from_storage.map(((e,t)=>Object.assign({index:t},e))),Object.assign(this.copy_sync_list_stuff_selected_option,this.sync_list_stuff_selected_option),Object.assign(this.copy_sync_list_hide_tab_selected_option,this.sync_list_hide_tab_selected_option),this.copy_binding_fields_deals=this.binding_fields_deals.map(((e,t)=>Object.assign({index:t},e))),Object.assign(this.copy_binding_selected_option,this.binding_selected_option)},computed:{...(0,xt.Se)(["types"]),...(0,xt.Se)(["fields"]),...(0,xt.Se)(["sync_list_stuff_options"]),...(0,xt.Se)(["sync_list_hide_tab_options"]),...(0,xt.Se)(["sync_list_stuff_selected_option"]),...(0,xt.Se)(["sync_list_hide_tab_selected_option"]),...(0,xt.Se)(["items_from_storage"]),...(0,xt.Se)(["binding_fields_deals"])},methods:{save(){this.copy_fields.forEach((e=>{let t=1;e.selector_options.forEach((e=>{Object.assign(e,{value:t}),t+=1}))})),this.new_fields.forEach((e=>this.copy_fields.push(e))),this.$store.commit("update_fields",this.copy_fields),this.$store.commit("update_items_from_storage",this.copy_items_from_storage),this.$store.commit("update_binding_fields_deals",this.copy_binding_fields_deals),this.$store.commit("update_sync_list_stuff_selected_option",this.copy_sync_list_stuff_selected_option),this.$store.commit("update_sync_list_hide_tab_selected_option",this.copy_sync_list_hide_tab_selected_option),this.$store.commit("delete_data_idx",this.idx_to_delete),this.new_fields_push();const e=[];this.fields.forEach((t=>e.push(t.field))),e.unshift(""),e.push(""),this.$store.commit("update_params",e),this.new_fields=[],this.close_edit_stuff()},new_fields_push(){let e=new Date;const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear(),i=e.getHours(),a=e.getMinutes(),s=o+"-"+n+"-"+t,l=o+"-"+n+"-"+t+"T"+i+":"+a;this.new_fields.forEach((e=>{let t="";1!=e.type.value&&2!=e.type.value||(t="0"),6==e.type.value&&(t="Не выбрано"),7==e.type.value&&(t=s),8==e.type.value&&(t=l),9==e.type.value&&(t="Нет"),this.$store.commit("update_all_data",t)}))},add_new_field(){this.new_fields.push({id:this.copy_fields.length+1+this.new_fields.length,field:"",type:{name:"Строка",value:3},selector_options:[{name:"Не выбрано"}],disable_change_type:!1,visibility:!1,edit:!1,editing:!1,delete:!0})},delete_new_field(e){this.new_fields.splice(e,1)},delete_field(e){this.copy_fields.splice(e,1),this.idx_to_delete.push(e)},option_select_type(e,t){this.copy_fields[t].type=e},option_select_new_field_type(e,t){this.new_fields[t].type=e},add_selector_option(e){this.copy_fields[e].selector_options.push({name:""})},remove_selector_option(e,t){this.copy_fields[e].selector_options.splice(t,1)},add_new_fields_selector_option(e){this.new_fields[e].selector_options.push({name:""})},remove_new_fields_selector_option(e,t){this.new_fields[e].selector_options.splice(t,1)},option_select_sync_list_stuff(e){Object.assign(this.copy_sync_list_stuff_selected_option,e)},option_select_sync_list_hide_tab(e){Object.assign(this.copy_sync_list_hide_tab_selected_option,e)},option_select_reverse(e,t){this.copy_items_from_storage[t].reserve_selected_option=e},option_select_cancellation(e,t){this.copy_items_from_storage[t].cancellation_selected_option=e},option_select_deals(e,t){this.copy_binding_fields_deals[t].binding_selected_option=e},close_edit_stuff(){this.$store.commit("open_close_show_edit_stuff",!1)}}};const vs=(0,De.Z)(ms,[["render",us],["__scopeId","data-v-395eb875"]]);var gs=vs,bs=n(553),ys={components:{MainGrid:en,TableSetings:ea,EditStuff:gs,NewPosition:bs.Z},data(){return{filter_value:!1,paginatedData:[],paginatedParams:[],collumn_value:[],changeValue:[],old_data_length:null,catalog_page:"Residue"}},created:function(){this.old_data_length=this.data[0].length,this.paginate()},computed:{show_modals(){return this.show_edit_modal||this.show_settings||this.show_table_settings||this.show_edit_stuff||this.show_new_position},rows(){let e=[],t=[];const n=["Артикул","Название","№ партии","Тип","Кол-во","Себестоимость","Цена","НДС","НДС включен в цену","Менеджер может менять % НДС","НДС %"];return this.changeValue.forEach(((o,i)=>{if(o){let o=[];n.forEach((e=>{let t="";const n=this.data[i][this.params.indexOf(e)-1];t=n,"Да"==n&&(t=!0),"Нет"==n&&(t=!1),o.push(t),"№ партии"==e&&o.push(t)})),e.push(o),t.push(i)}})),{arr:e,idxes:t}},...(0,xt.Se)(["data"]),...(0,xt.Se)(["params"]),...(0,xt.Se)(["show_edit_modal"]),...(0,xt.Se)(["show_settings"]),...(0,xt.Se)(["show_table_settings"]),...(0,xt.Se)(["show_buttons"]),...(0,xt.Se)(["show_filter"]),...(0,xt.Se)(["show_edit_stuff"]),...(0,xt.Se)(["show_sync"]),...(0,xt.Se)(["show_new_position"])},watch:{data:{handler:function(){this.paginate()},deep:!0},filter_value(){this.$store.commit("open_close_filter",this.filter_value)},show_modals(){this.show_modals?(window.scrollBy(-99999,0),document.body.style.overflowX="hidden"):document.body.style.overflowX="auto"}},methods:{add(){const e=["","Компания","Контакт","Сделки","Оборот","Прибыль","Ответственные","Позиции",""],t=[["","",11,"2 570 102.00 р.","2 400 339.00 р.","1","2"]];this.$store.commit("update_params",e),this.$store.commit("update_data",t)},add2(){this.$router.push("/qwe")},getData(e,t,n){this.paginatedData=[],this.paginatedParams=[],this.collumn_value=[],e.forEach((e=>this.paginatedData.push(e))),t.forEach((e=>this.paginatedParams.push(e))),n.forEach((e=>this.collumn_value.push(e))),this.paginatedParams.unshift(""),this.paginatedParams.push(""),this.filter_value=!1},open_table_settings(){this.$store.commit("open_table_settings")},open_close_new_position(e){this.$store.commit("open_close_new_position",e)},open_close_settings(){this.$store.commit("open_close_settings")},close_settings(){this.$store.commit("close_settings")},close_sync(){this.$store.commit("close_sync")},open_close_sync(){this.$store.commit("open_close_sync")},open_edit_stuff(){this.$store.commit("open_close_show_edit_stuff",!0)},apdate_changeValue(e){e.forEach(((e,t)=>{this.changeValue[t]=e}))},paginate(){if(this.paginatedData=[],this.paginatedParams=[],this.data.forEach((e=>this.paginatedData.push(e))),this.params.forEach((e=>this.paginatedParams.push(e))),this.old_data_length==this.data[0].length)this.collumn_value=[],this.paginatedParams.forEach((()=>this.collumn_value.push(!0))),this.collumn_value.pop(),this.collumn_value.pop();else{const e=this.data[0].length-this.old_data_length;if(e>0)for(let t=0;t!=e;t++)this.collumn_value.push(!1)}}}};const ws=(0,De.Z)(ys,[["render",A],["__scopeId","data-v-784904cc"]]);var xs=ws},7540:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n(6252);function i(e,t,n,i,a,s){const l=(0,o.up)("NewPosition");return(0,o.wg)(),(0,o.j4)(l)}var a=n(553),s={components:{NewPosition:a.Z}},l=n(3744);const r=(0,l.Z)(s,[["render",i]]);var c=r}}]);
//# sourceMappingURL=about.472cecf1.js.map