"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[188],{9240:function(e,t,a){a.d(t,{Z:function(){return p}});var s=a(3396);const l={class:"z-[46]"};function i(e,t,a,i,n,o){const c=(0,s.up)("NavBar"),r=(0,s.up)("HomeMenu"),d=(0,s.up)("HomeModals");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("header",l,[(0,s.Wm)(c),(0,s.Wm)(r,{class:"z-[46]"})]),(0,s.Wm)(d,{selectedWH:a.selectedWH},null,8,["selectedWH"])],64)}var n=a(3768),o=a(2692),c=a(1621),r={components:{NavBar:n.Z,HomeMenu:o.Z,HomeModals:c.Z},props:{selectedWH:{type:Object,required:!1}},setup(){}},d=a(89);const u=(0,d.Z)(r,[["render",i],["__scopeId","data-v-bb6a9f2e"]]);var p=u},7570:function(e,t,a){a.d(t,{Z:function(){return p}});var s=a(3396),l=a(7139);const i={class:"grid gap-3"},n=["disabled"],o={class:"current d"};function c(e,t,a,c,r,d){return(0,s.wg)(),(0,s.iD)("div",i,[a.page.current!=a.page.first&&null!=a.page.prev?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>c.prev()),disabled:a.disabled,class:"a"},(0,l.zw)("<"),8,n)):(0,s.kq)("",!0),a.page.current!=a.page.first&&a.page.prev!=a.page.first&&null!=a.page.first?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>c.first()),class:"b"},(0,l.zw)(a.page.first),1)):(0,s.kq)("",!0),a.page.current!=a.page.first&&null!=a.page.prev?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:t[2]||(t[2]=e=>c.prev()),class:"c"},(0,l.zw)(a.page.prev),1)):(0,s.kq)("",!0),(0,s._)("button",o,(0,l.zw)(a.page.current),1),a.page.current!=a.page.last&&null!=a.page.next?((0,s.wg)(),(0,s.iD)("button",{key:3,onClick:t[3]||(t[3]=e=>c.next()),class:"e"},(0,l.zw)(a.page.next),1)):(0,s.kq)("",!0),a.page.current!=a.page.last&&a.page.next!=a.page.last&&null!=a.page.last?((0,s.wg)(),(0,s.iD)("button",{key:4,onClick:t[4]||(t[4]=e=>c.last()),class:"f"},(0,l.zw)(a.page.last),1)):(0,s.kq)("",!0),a.page.current!=a.page.last&&null!=a.page.next?((0,s.wg)(),(0,s.iD)("button",{key:5,onClick:t[5]||(t[5]=e=>c.next()),class:"g"},(0,l.zw)(">"))):(0,s.kq)("",!0)])}var r={props:{page:Object,disabled:Boolean},emits:{changePage(e){return e>0&&"number"===typeof e}},setup(e,t){const a=()=>t.emit("changePage",e.page.first),s=()=>t.emit("changePage",e.page.current-1),l=()=>t.emit("changePage",e.page.current+1),i=()=>t.emit("changePage",e.page.last);return{prev:s,first:a,next:l,last:i}}},d=a(89);const u=(0,d.Z)(r,[["render",c],["__scopeId","data-v-3934a00d"]]);var p=u},6515:function(e,t,a){a.d(t,{Z:function(){return u}});var s=a(3396),l=a(7139);function i(e,t,a,i,n,o){const c=(0,s.up)("AppPaginator"),r=(0,s.up)("selector-vue");return a.show?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,l.C_)(["bottom",{blur:a.blur}])},[a.showBtns?((0,s.wg)(),(0,s.j4)(c,{key:0,page:a.page,disabled:a.disabled,onChangePage:o.changePage},null,8,["page","disabled","onChangePage"])):(0,s.kq)("",!0),a.showSelector?((0,s.wg)(),(0,s.j4)(r,{key:1,disabled:a.disabled,class:"count",options_props:n.count_values,selected_option:{name:a.count,value:-1},onSelect:o.change_count},null,8,["disabled","options_props","selected_option","onSelect"])):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)}var n=a(7720),o=a(7570),c={components:{SelectorVue:n.Z,AppPaginator:o.Z},props:{previous:{type:Boolean,required:!1},next:{type:Boolean,required:!1},page:{type:Object,required:!1,default(){return{first:1,prev:null,current:1,next:null,last:1}}},count:{type:Number,required:!0},blur:{type:Boolean,required:!1,default:!1},show:{type:Boolean,required:!1,default:!0},showBtns:{type:Boolean,required:!1,default:!0},showSelector:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1}},emits:{changePage:null,changeCount:null},data(){return{count_values:[]}},async mounted(){await this.$store.dispatch("get_account"),this.$store.state.account.user.config.per_pages&&(this.count_values=[...this.$store.state.account.user.config.per_pages].map(((e,t)=>({name:e,value:t}))))},computed:{},methods:{changePage(e){this.$emit("changePage",e)},change_count(e){this.$emit("changeCount",e.name)}}},r=a(89);const d=(0,r.Z)(c,[["render",i],["__scopeId","data-v-4bee144d"]]);var u=d},5188:function(e,t,a){a.r(t),a.d(t,{default:function(){return se}});var s=a(3396),l=a(7139);const i=e=>((0,s.dD)("data-v-340b6989"),e=e(),(0,s.Cn)(),e),n={class:"app min-h-screen px-4 md:px-[30px] dark:bg-slate-900"},o={class:"header w-full !justify-between"},c=i((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 18h3.75a5.25 5.25 0 1 0 0-10.5H5M7.5 4L4 7.5L7.5 11"})],-1))),r=[c],d=i((()=>(0,s._)("div",null,null,-1))),u={class:"content w-full mt-2 md:mt-12"},p={class:"top"},g={class:"my-2 md:my-4 text-sm md:text-base text-slate-500 dark:text-slate-300"};function m(e,t,a,i,c,m){const f=(0,s.up)("AppRadioBtnsGroupUnderlined"),h=(0,s.up)("AppHeader"),v=(0,s.up)("archive-grid");return(0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)({dark:i.isDarkTest})},[(0,s._)("div",n,[(0,s._)("div",o,[i.isTest2?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("button",{class:"bg-slate-400 bg-opacity-90 p-2 h-fit w-fit rounded-xl hover:shadow-sm hover:drop-shadow-md outline-none focus-visible:drop-shadow-md",onClick:t[0]||(t[0]=e=>i.back())},r),(0,s.Wm)(f,{list:i.config.list,selected:i.config.selected,onSelect:t[1]||(t[1]=e=>i.config.select(e))},null,8,["list","selected"]),d],64)):((0,s.wg)(),(0,s.j4)(h,{key:1}))]),(0,s._)("div",u,[(0,s._)("div",p,[(0,s._)("p",g,(0,l.zw)(e.$t("Archive.count",{count:i.count_archive})),1)]),(0,s.Wm)(v,{class:"grid",config:i.config.selected},null,8,["config"])])])],2)}const f=e=>((0,s.dD)("data-v-c841703a"),e=e(),(0,s.Cn)(),e),h={class:"grid"},v=f((()=>(0,s._)("td",{class:"head_cell_table_preloader !w-[1%] !pl-[10px]"},null,-1))),_={class:"cell_table_preloader !pl-[10px]"},w=["title"],b=f((()=>(0,s._)("span",{class:"material-icons"}," ios_share ",-1))),k=[b],y={key:1,class:"text"},N={class:"table2 hidden md:table"},C={class:"row title"},x=f((()=>(0,s._)("td",{class:"item dark:bg-slate-800"},null,-1))),q={key:0},D={key:1},Z={class:"item dark:bg-slate-700"},F=["onClick","title"],H=f((()=>(0,s._)("span",{class:"material-icons"}," ios_share ",-1))),P=[H],B={class:"md:hidden mx-auto grid grid-cols-1 gap-6 mt-3 sm:grid-cols-2"},A=["onClick"],z=f((()=>(0,s._)("span",{class:"material-icons dark:text-slate-300",style:{"font-size":"18px"}}," ios_share ",-1))),L=[z],j={class:"flex flex-row gap-4"},R={class:"font-bold"},M={class:"text-sm"};function Y(e,t,a,i,n,o){const c=(0,s.up)("AppTablePreloader"),r=(0,s.up)("grid-bottom");return(0,s.wg)(),(0,s.iD)("div",h,[i.isLoading?((0,s.wg)(),(0,s.j4)(c,{key:0,titles:i.titlesForPreloader},{customCellHeadEnd:(0,s.w5)((()=>[v])),customCellEnd:(0,s.w5)((()=>[(0,s._)("td",_,[(0,s._)("div",{class:"edit_icon",title:i.t("Archive.unArchive")},k,8,w)])])),_:1},8,["titles"])):0==i.archive_list.length?((0,s.wg)(),(0,s.iD)("label",y,(0,l.zw)(e.$t("global.nothingFound")),1)):((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("table",N,[(0,s._)("thead",null,[(0,s._)("tr",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.fields,(e=>((0,s.wg)(),(0,s.iD)("td",{key:e.code,class:"item dark:bg-slate-800"},(0,l.zw)(e.name),1)))),128)),x])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.archive_list,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"row"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.fields,(t=>((0,s.wg)(),(0,s.iD)("td",{key:t,class:"item dark:bg-slate-700"},[t.code.split(".").length<2?((0,s.wg)(),(0,s.iD)("span",q,(0,l.zw)(e.fields[t.code]),1)):((0,s.wg)(),(0,s.iD)("span",D,[e.fields[t.code.split(".")[0]]?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,l.zw)("cost"==t.code.split(".")[1]?e.fields[t.code.split(".")[0]][t.code.split(".")[1]]+" "+e.fields[t.code.split(".")[0]].currency:e.fields[t.code.split(".")[0]][t.code.split(".")[1]]),1)],64)):(0,s.kq)("",!0)]))])))),128)),(0,s._)("td",Z,[(0,s._)("div",{class:"edit_icon",onClick:t=>i.unarchive_data(e),title:i.t("Archive.unArchive")},P,8,F)])])))),128))])]),(0,s._)("div",B,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(e=>((0,s.wg)(),(0,s.iD)(s.HY,{key:e},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.archive_list,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"container px-5 py-3 max-w-xs rounded-xl bg-gray-50 dark:bg-slate-800 dark:text-slate-100 shadow-md flex flex-col items-center gap-y-3 relative"},[(0,s._)("div",{class:"edit_icon absolute right-3 top-3",onClick:t=>i.unarchive_data(e)},L,8,A),(0,s._)("div",j,[(0,s._)("h6",R,(0,l.zw)(e.fields.article),1),(0,s._)("span",null,"â„– "+(0,l.zw)(e.fields.batch),1)]),(0,s._)("div",M,[(0,s._)("span",null,(0,l.zw)(e.fields.name),1)])])))),128))],64)))),64))])],64)),i.showGridBottom?((0,s.wg)(),(0,s.j4)(r,{key:3,class:"bottom",page:i.page,blur:e.show_edit_modal,show:0!=e.products?.length,count:e.count,onChangePage:i.changePage,onChangeCount:i.changeCount},null,8,["page","blur","show","count","onChangePage","onChangeCount"])):(0,s.kq)("",!0)])}var O=a(6515),W=a(4870),T=a(4581),I=a(2489),$=a(4547),G={components:{GridBottom:O.Z,AppTablePreloader:$.Z},props:{config:Object},setup(e){const{t:t}=(0,I.j)(),a=(0,W.iH)(!1);(0,s.bv)((async()=>{T.Z.commit("toggleIsNavBarDisabled",!0),a.value=!0,await T.Z.dispatch("get_account"),await l(),a.value=!1,T.Z.commit("toggleIsNavBarDisabled",!1)})),(0,s.YP)((()=>e.config.value),(()=>l()));const l=async()=>{a.value=!0,await Promise.all([T.Z.dispatch(e.config.stateListReqName,{is_archive:1}),T.Z.dispatch(e.config.stateFieldsReqName)]),a.value=!1},i=(0,s.Fl)((()=>T.Z.state[e.config.stateFieldName||e.config.stateName][e.config.stateFieldsName].filter((t=>e.config.fields.includes(t.code))).sort(((t,a)=>e.config.fields.indexOf(t.code)>e.config.fields.indexOf(a.code)?1:-1)))),n=(0,s.Fl)((()=>Object.values(i.value).reduce(((e,t)=>(e.push(t.name),e)),[]))),o=(0,s.Fl)((()=>T.Z.state[e.config.stateName][e.config.stateMetaName])),c=(0,s.Fl)((()=>T.Z.state[e.config.stateName][e.config.stateListName])),r=(0,s.Fl)((()=>o.value.meta?.total>=o.value.meta?.per_page)),d=(0,s.Fl)((()=>{const e={first:u(o.value?.links?.first),prev:u(o.value?.links?.prev),current:o.value?.meta?.current_page,next:u(o.value?.links?.next),last:u(o.value?.links?.last)};return e})),u=e=>e?e.split("?page=")[1]:null,p=async e=>{await T.Z.dispatch("update_user",{per_page:e}),g()},g=()=>{m(1)},m=t=>{T.Z.dispatch(e.config.stateListReqName,{is_archive:1,page:t})},f=async t=>{if(!a.value){a.value=!0;const s={products:[{id:t.id,fields:t.fields,is_archive:0}]};await T.Z.dispatch("update_product",s),await T.Z.dispatch(e.config.stateListReqName,{is_archive:1}),a.value=!1}};return{isLoading:a,fields:i,archive_list:c,showGridBottom:r,page:d,changeCount:p,changePage:m,unarchive_data:f,t:t,titlesForPreloader:n}}},S=a(89);const K=(0,S.Z)(G,[["render",Y],["__scopeId","data-v-c841703a"]]);var U=K,E=a(9240),V=a(678),J=a(3704),Q=a(1120);function X(){const{t:e}=(0,I.j)(),t=(0,W.qj)({selected:{},list:[{name:e("Archive.tabs.products"),value:"products",stateName:"products",stateFieldName:"fields",stateListName:"products",stateFieldsName:"all_fields",stateMetaName:"meta",stateListReqName:"get_products",stateFieldsReqName:"get_all_fields",default:!0,fields:["name","batch","article","category","units","created_at","updated_at"]},{name:e("Archive.tabs.companies"),value:"companies",stateName:"clientsCompany",stateListName:"list",stateFieldsName:"fields",stateMetaName:"meta",stateListReqName:"getClientsCompanyList",stateFieldsReqName:"getClientsCompanyFields",fields:["name"]},{name:e("Archive.tabs.contacts"),value:"contacts",stateName:"clientsContacts",stateListName:"list",stateFieldsName:"fields",stateMetaName:"meta",stateListReqName:"getClientsContactsList",stateFieldsReqName:"getClientsContactsFields",fields:["name"]},{name:e("Archive.tabs.orders"),value:"orders",stateName:"orders",stateListName:"orders",stateFieldsName:"fields",stateMetaName:"meta",stateListReqName:"getOrders",stateFieldsReqName:"getOrdersFields",fields:["name"]}],dropToDefault:function(){this.select(this.list.find((e=>e.default)))},select:function(e){this.selected=e}});return t.dropToDefault(),{config:t}}var ee=a(969),te={name:"ArchiveView",components:{ArchiveGrid:U,AppHeader:E.Z,AppRadioBtnsGroupUnderlined:ee.Z},setup(){const e=(0,V.yj)(),t=(0,W.Fl)((()=>T.Z.state[s.selected.stateName][s.selected.stateMetaName]?.meta?.total)),a=(0,W.Fl)((()=>"dark"===e.query.test)),{config:s}=X(),l=()=>Q.Z.go(-1);return{isTest2:J.h,count_archive:t,isDarkTest:a,back:l,config:s}}};const ae=(0,S.Z)(te,[["render",m],["__scopeId","data-v-340b6989"]]);var se=ae}}]);
//# sourceMappingURL=188.8c35621f.js.map