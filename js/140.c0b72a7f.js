"use strict";(self["webpackChunkstorage"]=self["webpackChunkstorage"]||[]).push([[140],{4306:function(e,t,o){o.d(t,{Z:function(){return d}});var n=o(6252),s=o(3577);const a={class:"span"};function i(e,t,o,i,l,c){const u=(0,n.up)("selector-vue");return o.show?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,s.C_)(["bottom",{blur:o.blur}])},[o.previous?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>c.changePage(o.page-1)),class:"btn previous"},(0,s.zw)("<"))):(0,n.kq)("",!0),(0,n._)("div",a,(0,s.zw)(o.page),1),o.next?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>c.changePage(o.page+1)),class:"btn next"},(0,s.zw)(">"))):(0,n.kq)("",!0),(0,n.Wm)(u,{class:"count",options_props:l.count_values,selected_option:{name:o.count,value:Math.random()},onSelect:c.change_count},null,8,["options_props","selected_option","onSelect"])],2)):(0,n.kq)("",!0)}var l=o(1901),c={components:{SelectorVue:l.Z},props:{previous:{type:Boolean,required:!0},next:{type:Boolean,required:!0},page:{type:Number,required:!0},count:{type:Number,required:!0},blur:{type:Boolean,required:!1,default:!1},show:{type:Boolean,required:!0}},emits:{changePage:null,changeCount:null},data(){return{count_values:[{name:"3",value:1},{name:"5",value:2},{name:"15",value:3},{name:"40",value:4}]}},mounted(){this.change_count({name:this.count})},methods:{changePage(e){this.$emit("changePage",e)},change_count(e){this.$emit("changeCount",e.name)}}},u=o(3744);const r=(0,u.Z)(c,[["render",i],["__scopeId","data-v-c2dffa7c"]]);var d=r},1901:function(e,t,o){o.d(t,{Z:function(){return h}});var n=o(6252),s=o(3577),a=o(9963);const i={class:"v-select"},l={class:"options",key:"a1"},c=["onClick"];function u(e,t,o,u,r,d){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",{class:(0,s.C_)(["title",{title_checked:u.show_options,disabled:o.disabled}]),onClick:t[0]||(t[0]=e=>u.open_close_options()),onFocusout:t[1]||(t[1]=(...e)=>u.handleFocusOut&&u.handleFocusOut(...e)),tabindex:"0"},[(0,n._)("p",null,(0,s.zw)(o.selected_option.name),1),o.disabled?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,s.C_)(["arrow",{rotate_arrow:u.show_options}])},null,2))],34),(0,n.Wm)(a.uT,{name:"list"},{default:(0,n.w5)((()=>[u.show_options?((0,n.wg)(),(0,n.iD)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.options,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e.value,class:(0,s.C_)({optgroup:"optgroup"===e.value}),onClick:t=>u.select_option(e)},[e.optgroup?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("     "+(0,s.zw)(e.name),1)],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)((0,s.zw)(e.name),1)],64))],10,c)))),128))])):(0,n.kq)("",!0)])),_:1})])}var r=o(2262),d={props:{options_props:{type:Array,default(){return[]},required:!0},selected_option:{type:Object,required:!0,default(){return{}}},disabled:{type:Boolean,required:!1,default:!1},idx:{type:Number,required:!1}},emits:{select:null},setup(e,{emit:t}){const o=(0,r.iH)([]);(0,n.bv)((()=>{(0,n.Y3)((()=>{s()}))}));const s=()=>{o.value=[],e.options_props?.forEach((e=>o.value.push(e)))};(0,n.YP)((()=>e.options_props),(()=>{s()}),{deep:!0});const a=(0,r.iH)(!1),i=()=>{a.value=!1},l=()=>{e.disabled||(a.value=!a.value)},c=()=>{i()},u=o=>{"optgroup"!=o.value&&(t("select",o,e.idx),i())};return{open_close_options:l,handleFocusOut:c,show_options:a,options:o,select_option:u}}},p=o(3744);const _=(0,p.Z)(d,[["render",u],["__scopeId","data-v-37e48e59"]]);var h=_},9336:function(e,t,o){o.r(t),o.d(t,{default:function(){return H}});var n=o(6252),s=o(3577);const a={class:"app"},i={class:"header"},l={class:"btns"},c=["onClick"],u={class:"content"},r={class:"top"};function d(e,t,o,d,p,_){const h=(0,n.up)("archive-grid");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",i,[(0,n._)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.catalog,(t=>((0,n.wg)(),(0,n.iD)("button",{class:(0,s.C_)(["btns_btn",{selected_catalog:e.$route.name===t.value}]),onClick:e=>_.route(t.value),key:t},(0,s.zw)(t.name),11,c)))),128))])]),(0,n._)("div",u,[(0,n._)("div",r,[(0,n._)("p",null,"Найдено: "+(0,s.zw)(_.coun_archive),1)]),(0,n.Wm)(h)])])}var p=o(9963);const _=e=>((0,n.dD)("data-v-bec3c932"),e=e(),(0,n.Cn)(),e),h={key:0,class:"text"},g={key:1,class:"table"},v={class:"row title"},m=_((()=>(0,n._)("td",{class:"item"},null,-1))),w={class:"item"},b=["onClick"];function k(e,t,o,a,i,l){const c=(0,n.up)("grid-bottom");return(0,n.wg)(),(0,n.iD)(n.HY,null,[0==l.archive_list.length?((0,n.wg)(),(0,n.iD)("label",h," Ничего не найдено ")):((0,n.wg)(),(0,n.iD)("table",g,[(0,n._)("thead",null,[(0,n._)("tr",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.all_fields,(e=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("td",{key:e.id,class:"item"},(0,s.zw)(e.name),1)),[[p.F8,e?.table_config.visible]]))),128)),m])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.archive_list,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,class:"row"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.all_fields,(t=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("td",{key:t,class:"item"},(0,s.zw)(e.fields[t.code]),1)),[[p.F8,t?.table_config.visible]]))),128)),(0,n._)("td",w,[(0,n._)("div",{class:"edit_icon",onClick:t=>l.unarchive_data(e)},null,8,b)])])))),128))])])),(0,n.Wm)(c,{previous:null!=l.meta.links.prev,next:null!=l.meta.links.next,page:l.meta.meta.current_page,show:0!=l.archive_list.length,count:l.meta.meta.per_page,onChangePage:l.changePage,onChangeCount:l.changeCount},null,8,["previous","next","page","show","count","onChangePage","onChangeCount"])],64)}var f=o(4306),y={components:{GridBottom:f.Z},data(){return{}},mounted(){this.$store.dispatch("get_all_fields"),this.$store.dispatch("get_products",{is_archive:1})},computed:{meta(){return this.$store.state.products.meta},all_fields(){return this.$store.state.fields.all_fields},archive_list(){return this.$store.state.products.products}},watch:{},methods:{changeCount(e){this.count=e},changePage(e){this.page=e},unarchive_data(e){const t={id:e.id,fields:e.fields,is_archive:0};this.$store.dispatch("update_product",t),this.$store.dispatch("get_products",{is_archive:1})}}},C=o(3744);const D=(0,C.Z)(y,[["render",k],["__scopeId","data-v-bec3c932"]]);var q=D,$=o(3907),x={name:"ArchiveView",components:{ArchiveGrid:q},computed:{...(0,$.Se)(["catalog"]),coun_archive(){return this.$store.state.products.products.length}},methods:{route(e){this.$router.push("/"+e)}}};const z=(0,C.Z)(x,[["render",d],["__scopeId","data-v-671b2b9e"]]);var H=z}}]);
//# sourceMappingURL=140.c0b72a7f.js.map